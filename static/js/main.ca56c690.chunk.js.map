{"version":3,"sources":["full.jpeg","want_sub.png","lang.png","style.png","img/original.png","img/modified.png","xyz.mp4","striperedirect.js","storelocalstorage.js","utils.js","firebase_login.js","rendervid.js","navbarhome.js","imagecomparison.js","onfiledrop.js","flask-s3-multipart.js","home.js","navbarwork.js","workspace.js","navbar.js","pricing.js","navbarpricing.js","pricinghome.js","changeTime.js","div_ticker.js","reset.js","saveState.js","colors2.js","textstyle.js","setTemplate.js","vidstyle.js","arrangesub.js","tab1.js","tabs.js","colorsbox.js","textstylesub.js","tabbox.js","boxstyle.js","style.js","utilsave.js","downloadvid.js","canvastry.js","alert.js","lang.js","pricingvid.js","vid.js","trimvideos.js","navdownload.js","renderdown.js","navblog.js","add_captions_to_insta_video.js","add_text_to_insta_video.js","add_title_to_insta_video.js","add_heading_to_insta_video.js","convert_16x9_to_square.js","convert_9x16_to_square.js","convert_snapchat_video_to_square.js","convert_youtube_video_to_square.js","App.js","serviceWorker.js","reducers.js","index.js"],"names":["module","exports","checkout","id","email","console","log","document","getElementById","style","display","fetch","method","body","JSON","stringify","localStorage","then","result","json","data","window","Stripe","checkout_public_key","redirectToCheckout","sessionId","checkout_session_id","stripe_checkout_download","sendJsonToS3","url","getItem","split","axios","post","parse","headers","res","catch","err","storeSub","e","ch","children","sub","en","strt","i","length","tagName","push","getAttribute","innerText","setItem","storeBar","l","t","w","seekw","ytx","lefty","r","bck","backgroundColor","frnt","width","left","top","seek","checkSub","sds","suburl","get","response","Item","S","showVideo","getElementsByClassName","setAttribute","showSubstyle","showTextstyle","setDim","props","vcx","vx","canx","height","hh","ww","vidx","h","parseFloat","toFixed","offsetHeight","offsetWidth","tickerTime","x","sp1","parseInt","strToMili","s","t1","miliToTime","duration","milliseconds","seconds","minutes","hours","miliToMinTime","miliToHrCommaTime","getLowestIndex","array","low","index","gettime","idn","cursorPos","pa_stime","pa_etime","v","t2","y","getAbcString","padStart","setTickerState","getId","MaxTime","MinTime","previousSibling","timCurrent","max","min","timC","z","childNodes","o","color","MaxNew","MinNew","timNew","classList","contains","rgbToHex","g","b","Number","toString","slice","hexToRgb","colour","charAt","substr","isNaN","getHsl","hue","hsv_value","hsv_saturation","lightness","saturation","Math","abs","hslToRgb","hsl","hue2rgb","p","q","hslToHex","toHex","hex","round","gradient","pickHex","color1","color2","weight","w1","w2","setSaturationColor","percent","colorRange","$","each","value","firstcolor","c","secondcolor","firstcolor_x","secondcolor_x","setXY","rgb","hsv","d","rgbToHsv","offset","getBoundingClientRect","css","join","setColor","parent","update_x","invalidate","selectText","login","preventDefault","stopPropagation","googleAuth","firebase","auth","GoogleAuthProvider","signInWithPopup","credential","accessToken","user","uid","currentUser","photoURL","displayName","clear","render_x","create_new_user","work_id","history","pathname","state","videos","error","login_pricing_home","currentTarget","geturl","jsonpath","put","render","setRender","storejson_s3_table","jsn","includes","signOut","location","href","origin","login_down","dx","down_id","xu","removeItem","filename","xout","Date","now","dvid","ti","urlsrt","vidsr_","pc","back_bar","front_bar","bar_height","urlx","a","createElement","click","src","vix","setInterval","clearInterval","rendervid","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","Navhome","useEffect","addEventListener","className","role","type","data-toggle","data-target","connect","boxes2","canvasValid","pre_sub","subscribe","pic","dispatch","increment","box","payload","fill","edit_boxes","pop_boxes","selectedText","decrement","reset","React","memo","moveDivisor","divisor","handle","slider","Imagecomparison","onInput","onfiledrop","name","file","file_drop","pa","u","video","preload","autoplay","append","zIndex","onloadedmetadata","URL","revokeObjectURL","csub","remove","disabled","alert","muted","replace","vid","createObjectURL","b64pad","rstr_md5","binl2rstr","binl_md5","rstr2binl","rstr2b64","input","output","len","triplet","charCodeAt","j","Array","String","fromCharCode","olda","oldb","oldc","oldd","md5_ff","md5_gg","md5_hh","md5_ii","safe_add","md5_cmn","num","cnt","lsw","flask_multipart","fileInput","uploadIdRegex","md5","fileName","blob","Promise","resolve","fr","FileReader","sum","readAsBinaryString","serial","items","callback","reduce","promise","item","createProgress","fileProgressContainer","progressElem","add","progressBarElem","appendChild","opacity","updateProgress","progressBar","current","total","innerHTML","errorProgress","textContent","completeProgress","getCreateUrl","key","getUploadPartUrl","uploadId","part_number","contentMd5","contentLength","searchParams","getCompleteUrl","createUpload","status","text","exec","uploadPart","progressCallback","reject","xhr","XMLHttpRequest","upload","onprogress","event","done","position","loaded","onreadystatechange","readyState","getResponseHeader","open","setRequestHeader","send","completeUpload","parts","Object","keys","forEach","partNumber","onFileChange","files","target","size","k","from","map","createUrl","part","partUrl","partProgress","etag","completeUrl","Home","imageURL","videoname","fileprogess","isOpen","dataLoaded","isFormInvalid","rows","cols","createRef","title","user_id","this","for","accept","pop","Component","Navwork","price_path","myvideos_path","alt","class","onClick","Workspace","bind","fname","ks","search","padding","border","pause","CircularProgress","Nav","Pricing","Navpricing","login_sub","dd","work","nav","increaseT","parentNode","nt","nextSibling","rowT","decreaseT","TickerTime","tik","posX","posY","tickid","tId","removeChild","tickerId","fontSize","Reset","subtext","cdiv","contentEditable","draggable","ticker","cspan","stime","etime","borderColor","margin","Save","subtitle","trim","str","getrgb","rgba","inParts","substring","indexOf","gethex","sfs","ceil","sps","sc","sbc","hfs","hps","hc","hbc","seekh","align_h","align_s","font_s","fontFamily","font_h","nh","nw","ht","bt","bottom","hs","bs","fs","fh","hw","jdata","saveState","getColors2","clientX","val","fillOpacity","RgbColorChange","Colors2","alf","aria-label","clientY","topcent","pageX","pageY","getSaturationColor","background","aria-valuenow","aria-valuemin","aria-valuemax","backgroundImage","hexColorChange","aria-labelledby","alphaChange","bg","bgc","setPaletteColor","data-cy","setColorH","setbgColor","setTarget","setD","tar","Textstyle","closeNone","tabindex","data-testid","displayFonts","readonly","aria-autocomplete","aria-hidden","viewBox","focusable","firstChild","setFontSize","toggle","setBold","setItalics","dataToggle","selectfont","setTemplate1","col","hd","bar_height_new","head_pad","head_pad_new","head_fs","head_fs_new","sub_pad","sub_pad_new","sub_pos","sub_pos_new","sub_fs","sub_fs_new","setVidDim","right","texts","sf","closeStyle","generateSub","setS","meta","start_time","end_time","words","viddur","calcSub","zoomD","Vidstyle","useState","ft","closeWidget","properties","prop","stage","zoom","cursor","txtt","setARatio","step","deleteNode","cx","cx_prev","setSubTime","chead","getComputedStyle","padding_left","getPropertyValue","padding_right","border_left","border_right","new_sub","cS","cloneNode","visibility","whiteSpace","ff","Tab1","setTickid","setPosX","setPosY","selectedSub","getSelection","getRangeAt","startOffset","startContainer","indices","indices2","tim","textBefore","textAfter","insertAdjacentElement","newtime","newsub","endnew","addticker","getpos","posx","posy","scrollLeft","documentElement","scrollTop","marginTop","xp","cy","htmlLine","insertAdjacentHTML","gPa","showTicker","targetNode","MutationObserver","mutationsList","observer","observe","childList","autoFocus","justifyContent","alignItems","TabPanel","other","hidden","Box","Typography","a11yProps","useStyles","makeStyles","theme","root","flexGrow","palette","paper","SimpleTabs","classes","setValue","AppBar","Tabs","onChange","newValue","Tab","label","changeTime","changeHead","changeSub","changeBothTime","changeKey","changeCaptions","Colorsbox","Textstylesub","Tabbox","displaySub","start","dot","comma","test_sub","toLowerCase","splitSub","Boxstyle","filexame","lang","audio","tt","setTimeout","showWorkspace","login_in_work","Style","download","canvas","ctx","WIDTH","HEIGHT","mx","my","ghostcanvas","gctx","offsetx","offsety","stylePaddingLeft","stylePaddingTop","styleBorderLeft","styleBorderTop","marginB","selectionHandles","isDrag","isResizeDrag","expectResize","mySel","Box2","f","align","tc","html","context","optionalColor","strokeStyle","fillStyle","self","Canvastry","TwrapTextDummy","DrawText","lineWidth","strokeRect","mySelBoxSize","cur","fillRect","setVideo","init2","addTextBox","myDblClick","edit_text","getMouse","getMouse_global","wrapText","myUp","myDown","deselect","addRect","deleteText_canvas","mainDraw","roundRect","keytimer","myMove","convertToImage","X_old","Y_old","bx","rx","ry","dox","getContext","onselectstart","defaultView","onmousedown","onmouseup","onmousemove","rect","fdd","rgba_","subs","text_title","text_html","vCuTi","currentTime","paused","play","idxx","srttime","endtime","rgbax","div","div1","div2","span","element","offsetX","offsetY","offsetParent","offsetLeft","offsetTop","maxWidth","lineHeight","cars","ii","line","n","testLine","measureText","fillText","font","org_y","rect_x","rect_y","rect_w","rect_h","clearRect","textAlign","textBaseline","draw","imageData","getImageData","boxes","storeBox","oldx","oldy","radius","stroke","tl","tr","br","bl","defaultRadius","side","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","rangeCount","select","range","zz","subx","new_s","new_e","image","toDataURL","ucp","login_in_create","Alert","Lang","selectlang","Pricingvid","clickbutton","vUp","vOff","vm","Vid","login_in_vid","ontimeupdate","percentage","querySelectorAll","on","canv","setStat","stat","val1","txt","Videotrim","Navdownload","Renderdown","downloadvideo","removewatermark","downloadsrt","render_count","controls","Navblog","Addcaptions","description","teext","styyle","Addtext2","Addtitle3","Addhead4","Blog5","Blog6","Blog7","Blog8","App","exact","path","component","PricingH","Boolean","hostname","match","initialState","loading","hasErrors","boxReducer","action","update","$set","store","createStore","reducer","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.ca56c690.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/full.422cf82a.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/want_sub.093a4d80.png\";","module.exports = __webpack_public_path__ + \"static/media/lang.db9de4c0.png\";","module.exports = __webpack_public_path__ + \"static/media/style.2c02912f.png\";","module.exports = __webpack_public_path__ + \"static/media/original.37e87c28.png\";","module.exports = __webpack_public_path__ + \"static/media/modified.44c1960b.png\";","module.exports = __webpack_public_path__ + \"static/media/xyz.569ddf34.mp4\";","// const button = document.querySelector('#buy_now_btn');\n\n\n// for pricing page, because success URL lands in workspace then\nexport function checkout(id, email) {\n\n    console.log('IDD in checkout', id)\n\n    document.getElementById(\"circlePricing\").style.display = \"block\"\n    \n\n    fetch('https://s7hm477h6h.execute-api.us-west-2.amazonaws.com/default/payment_stripe?id=' + id+ '&email=' + email, {\n      method: 'POST',\n      body: JSON.stringify(localStorage),\n    })\n    .then((result) => { return result.json(); })\n    .then((data) => {\n        var stripe = window.Stripe(data.checkout_public_key);\n\n        // document.getElementById(\"circlePricing\").style.display = \"none\"\n    \n        stripe.redirectToCheckout({\n            // Make the id field from the Checkout Session creation API response\n            // available to this file, so you can provide it as parameter here\n            // instead of the {{CHECKOUT_SESSION_ID}} placeholder.\n            sessionId: data.checkout_session_id\n        }).then(function (result) {\n            // If `redirectToCheckout` fails due to a browser or network\n            // error, display the localized error message to your customer\n            // using `result.error.message`.\n        });\n    })\n\n}\n\n\nexport function stripe_checkout_download(id, email) {\n\n    console.log('stripe_checkout_download')\n\n\n    // console.log('stripe_checkout_download', document.getElementById(\"circleDown\").style.display)\n    \n    fetch('https://mmq9pb7i6i.execute-api.us-west-2.amazonaws.com/default/payment_stripe_download?id=' + id + '&email=' + email, {\n      method: 'POST',\n      body: JSON.stringify(localStorage),\n    })\n    .then((result) => { return result.json(); })\n    .then((data) => {\n        var stripe = window.Stripe(data.checkout_public_key);\n        stripe.redirectToCheckout({\n            // Make the id field from the Checkout Session creation API response\n            // available to this file, so you can provide it as parameter here\n            // instead of the {{CHECKOUT_SESSION_ID}} placeholder.\n            sessionId: data.checkout_session_id\n        }).then(function (result) {\n            // If `redirectToCheckout` fails due to a browser or network\n            // error, display the localized error message to your customer\n            // using `result.error.message`.\n        });\n    })\n\n    \n\n}","import axios from 'axios';\n\nconst sendJsonToS3 = function() {\n\t    var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n    var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n    console.log('sending json to s3', url)\n    axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }).then((res) => {\n            console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)})\n}\n\n\nexport const storeSub = function(e) {\n\n\nvar ch = document.getElementById(\"subdiv\").children;\n\nvar subtitle = [];\nvar sub = [], en = [], strt = [];\n\n// dont consider last child (SPAN) which is END \nfor (var i=0; i<ch.length ; i++){\n  let s = {}\n  if (ch[i].tagName == \"DIV\") {continue;}\n\n // sub.push(ch[i].innerText);\n // stim.push(ch[i].getAttribute(\"stime\"));\n // etim.push(ch[i].getAttribute(\"etime\"));\n \n\n strt.push(ch[i].getAttribute(\"stime\"));\n sub.push(ch[i].innerText);\n en.push(ch[i].getAttribute(\"etime\"));\n\n}\n\nlocalStorage.setItem('subx', JSON.stringify(sub));\nlocalStorage.setItem('en', JSON.stringify(en));\nlocalStorage.setItem('strt', JSON.stringify(strt));\n\nconsole.log('@@@@@ #### storeSub\\n', localStorage.getItem('subx'))\n\n}\n\n\n\nexport const storeBar = function(l,t,w) {\n\n//  ratio \nvar r = document.getElementById(\"custom-seekbar11\").getAttribute(\"ratio\");\nvar x = JSON.parse(localStorage.getItem('seekbar'))\n\nvar seekh = 0\n\nvar bck = document.getElementById(\"custom-seekbar1\").style.backgroundColor\n// bck = gethex(bck)\nvar frnt = document.getElementById(\"custom-seekbar1\").children[0].style.backgroundColor\n// frnt = gethex(frnt)\n\n//  height, width, position, front, back color\nvar seekw, ytx, lefty ;\n\n// in %\nvar w = document.getElementById(\"custom-seekbar1\").style.width\nvar l = document.getElementById(\"custom-seekbar1\").style.left\nvar t = document.getElementById(\"custom-seekbar1\").style.top\n\n// if(w) {\n\nseekw = w\nytx =  t\nlefty = l;\n\n\nvar seek = []\n// height width position fron back\nseek.push(r,seekh, seekw, ytx, frnt, bck, lefty)\n\nconsole.log('seek', seek)\n\nlocalStorage.setItem('seekbar', JSON.stringify(seek));\n\nconsole.log('store json in storeBar')\nsendJsonToS3();\n\n}\n\n\nexport const storeVideo = function() {\n\tlocalStorage.setItem('videoColor', document.getElementById(\"vid\").style.backgroundColor)\n\n\tconsole.log('store json in storeVideo')\n\tsendJsonToS3();\n}\n\n\n\nexport const storeBox = function(boxes) {\n\n\tconsole.log('STOREBOXXX!!!', boxes)\n\n\tvar subs = document.getElementsByClassName(\"caption\")\n\t\n\n\t// boxes[0].text = subs[0].innerText\n\t// boxes[0].html = subs[0].innerHTML.replace(/\\n/g,'<br>').replace(/&nbsp/g,'').replace(/&nbsp;/g,'')\n\t\n\tfor(var k=0; k<boxes.length; k++) {\n\t\tlocalStorage.setItem(\"box_\" + k,JSON.stringify(boxes[k]))\n\t}\n\n\tlocalStorage.setItem('nBox', k)\n\n\tconsole.log('store json in storebox')\n\n\n}\n\n\n\n","\n/* global $ */\n\nimport {storeSub, storeBar, storeVideo} from './storelocalstorage';\n\nimport React from 'react';\nimport axios from 'axios'; \n\nexport function checkSub() {\n\n    var sds\n    \n    if (localStorage.getItem('uid')) {\n    var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n    axios.get(suburl).then(response => {\n\n      console.log('subscribe in Renderdown', response.data.Item)\n      localStorage.setItem('subscribe', response.data.Item.sub.S)\n      sds = true\n\n    // if the item doesnt exist in subscribe table\n    }).catch(e => {\n      localStorage.setItem('subscribe', '0')\n      sds = false\n    })\n\n    console.log('subscribe in Renderdown', localStorage.getItem('subscribe'))\n  }\n\n\n  return sds\n}\n\n\nexport function deleteText(e) {\n  // var y = e.target.parentNode.classList.contains(\"delH\") || e.target.parentNode.parentNode.classList.contains(\"delH\")\n  \n  console.log('deleteText', e.currentTarget, e.currentTarget.parentNode)\n  var y ;\n  if ( e.currentTarget.parentNode.classList.contains(\"delH\") ) {\n    y = e.currentTarget.parentNode\n  } else {\n    y = e.currentTarget.parentNode.parentNode\n  }\n\n  var z = y.id\n  console.log('y', y, z.split('z')[0])\n  document.getElementById(z.split('z')[0]).remove()\n  y.remove()\n\n  // document.getElementsByClassName(\"heads-text-container\")[0].remove()\n  // document.getElementsByClassName(\"delH\")[0].remove()\n\n}\n\n\n\n\n\n\n\nexport const addHead = function(w) {\n\n  var xh = JSON.parse(localStorage.getItem(w.toString()))\n\n  var pa = document.getElementById(\"vid\")\n\n// add container on video\n  var div = document.createElement(\"div\");\n  var i= Date.now()\n  var id = 'text' + i.toString()\n  div.setAttribute('id', id)\n  div.setAttribute('class', 'heads-text-container')\n  pa.append(div)\n  div.style.left = xh[3];\n  // div.style.right = 0 + '%';\n  div.style.top = xh[4];\n  // div.style.margin = 'auto';\n  div.style.width = xh[2];\n  div.style.backgroundColor = xh[1];\n  div.style.justifyContent = xh[5];\n\n  // div.classList.add(\"move\")\n\n  $(\".heads-text-container\").draggable({\n       stop: function () {\n            console.log('ui', $(this).position(), ( 100 * parseFloat($(this).css(\"width\")) / $(this).parent().width() ) );\n        var l = ( 100 * parseFloat($(this).position().left / parseFloat($(this).parent().width())) ) + \"%\" ;\n        var t = ( 100 * parseFloat($(this).position().top / parseFloat($(this).parent().height())) ) + \"%\" ;\n        var w = ( 100 * parseFloat($(this).css(\"width\")) / $(this).parent().width() ) + \"%\" ;\n        var b = ( 100 * parseFloat($(this).css(\"bottom\")) / $(this).parent().height() ) + \"%\" ;\n        $(this).css(\"left\", l);\n        $(this).css(\"top\", t);\n        $(this).css(\"width\", w);\n        $(this).css(\"bottom\", b);\n    }\n  });\n  // $(\".heads-text-container\").resizable({ \n  //  // handles: 'all',\n  //  handles: 'e, w, ne, se, sw, nw',\n  //  aspectRatio: true,\n  //  stop: function () {\n  //           console.log('ui', $(this).position(), ( 100 * parseFloat($(this).css(\"width\")) / $(this).parent().width() ) );\n  //       var l = ( 100 * parseFloat($(this).position().left / parseFloat($(this).parent().width())) ) + \"%\" ;\n  //       var t = ( 100 * parseFloat($(this).position().top / parseFloat($(this).parent().height())) ) + \"%\" ;\n  //       var w = ( 100 * parseFloat($(this).css(\"width\")) / $(this).parent().width() ) + \"%\" ;\n  //       var b = ( 100 * parseFloat($(this).css(\"bottom\")) / $(this).parent().height() ) + \"%\" ;\n  //       $(this).css(\"left\", l);\n  //       $(this).css(\"top\", t);\n  //       $(this).css(\"width\", w);\n  //       $(this).css(\"bottom\", b);\n  //   }\n  //  });\n  $(\".heads-text-container\").find(\"div.ui-resizable-se\").removeClass(\"ui-icon\");\n  $(\".heads-text-container\").find(\"div.ui-resizable-se\").removeClass(\"ui-icon-gripsmall-diagonal-se\");\n\n  // var texts = document.getElementsByClassName(\"heads-text-container\")\n\n  div.addEventListener('click', function(e){\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    var texts = document.getElementsByClassName(\"move\")\n    for (var i = 0; i < texts.length; i++) {\n        texts[i].classList.remove(\"move\");\n    }\n\n    console.log('move', e.target, e.currentTarget)\n    e.currentTarget.classList.add(\"move\")\n\n    // document.getElementById(\"subtitles-text-container\").classList.remove(\"move\")      \n    // document.getElementById(\"custom-seekbar1\").classList.remove(\"move\")\n    // document.getElementById(\"vx\").classList.remove(\"move\")\n\n    showTextstyle();\n  });\n  \n\n  var span = document.createElement(\"SPAN\");\n  span.setAttribute('dir', 'ltr')\n  span.setAttribute('class', 'head-text-container')\n  div.append(span)\n\n  span.style.color = xh[0]\n  span.style.textAlign = xh[6];\n  span.style.fontWeight = xh[7]\n  span.style.fontStyle = xh[8]\n  span.style.fontFamily = xh[9]\n  // span.innerText = xh[10]\n  span.innerHTML = xh[11]\n\n  span.style.fontSize = document.getElementsByClassName(\"fontsize\")[0].children[0].children[0].textContent + 'px';\n\n// // head.style.padding = head_pad_new + 'px'\n// span.style.fontSize = head_fs_new + 'px'  //16px\n// span.style.fontFamily = 'Oswald'; \n\n\n// add container to edit the text\n  pa = document.getElementById(\"textstylx\")\n  div = document.createElement(\"div\");\n  div.setAttribute('id', id+'z')\n  div.setAttribute('class', 'delH')\n  pa.append(div)\n\n  var div1 = document.createElement(\"div\");\n  div1.addEventListener(\"click\", (e) => {deleteText(e) })\n  // onClick={deleteText} \n\n  div1.innerHTML = `<li class='fa del'>&#xf1f8</li>`\n  div.append(div1)\n\n\n  var div2 = document.createElement(\"div\");\n  div2.setAttribute('class', 'xheadx')\n  div.append(div2)\n\n  var span = document.createElement(\"textarea\");\n  span.setAttribute('placeholder', 'Enter Text Here');\n  span.setAttribute('class', 'head')\n  div2.append(span)\n\n  span.setAttribute('contentEditable',\"true\");\n  // span.value = xh[10]\n  // span.innerHTML = xh[11]\n  span.value = xh[12]\n\n// span.style.padding = head_pad_new + 'px';\n\n  span.addEventListener(\"focus\", function(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    console.log('click click')\n\n  var texts = document.getElementsByClassName(\"move\")\n  for (var i = 0; i < texts.length; i++) {\n        texts[i].classList.remove(\"move\");\n    }\n\n  var z = e.target.parentNode.parentNode.id.split('z')[0]\n  document.getElementById(z).classList.add(\"move\")\n  console.log('focus', z, document.getElementById(z))\n\n  })\n\n  span.addEventListener(\"keyup\", function(e) {\n    e.stopPropagation();\n    e.preventDefault();\n  var z = e.target.parentNode.parentNode.id.split('z')[0]\n  document.getElementById(z).getElementsByTagName(\"SPAN\")[0].innerText = e.target.value; \n\n})\n\n\n\n\n}\n\n\nexport const showProgress = function () {\n  document.getElementsByClassName(\"clickedV\")[0].setAttribute(\"class\", \"btn btn-default\")\n  document.getElementById(\"showProgress\").setAttribute(\"class\", \"clickedV btn btn-default\")\n\n  document.getElementById(\"progressBar\").style.display = 'block'\n\n  document.getElementById(\"textstyle\").style.display = 'none'\n  document.getElementById(\"showVideo\").style.display = 'none'\n  document.getElementById(\"substyle\").style.display = 'none'\n\n  document.getElementById(\"dcolumn\").style.display = 'none';\n  document.getElementById(\"askSub\").style.display = 'none';\n\n\n}\n\n\nexport const showVideo = function () {\n\n  document.getElementsByClassName(\"clickedV\")[0].setAttribute(\"class\", \"btn btn-default\")\n  document.getElementById(\"videoEdit\").setAttribute(\"class\", \"clickedV btn btn-default\")\n\n  document.getElementById(\"showVideo\").style.display = 'block'\n  // document.getElementById(\"progressBar\").style.display = 'none'\n  document.getElementById(\"textstyle\").style.display = 'none'\n\n  document.getElementById(\"substyle\").style.display = 'none'\n  document.getElementById(\"dcolumn\").style.display = 'none';\n  document.getElementById(\"askSub\").style.display = 'none';\n    \n\n}\n\nexport const showSubstyle = function () {\n\n  document.getElementsByClassName(\"clickedV\")[0].setAttribute(\"class\", \"btn btn-default\")\n  document.getElementById(\"showSubstyle\").setAttribute(\"class\", \"clickedV btn btn-default\")\n\n  document.getElementById(\"substyle\").style.display = 'block'\n    // document.getElementById(\"progressBar\").style.display = 'none'\n    document.getElementById(\"textstyle\").style.display = 'none'\n    document.getElementById(\"showVideo\").style.display = 'none'\n    \n    document.getElementById(\"dcolumn\").style.display = 'none';\n    document.getElementById(\"askSub\").style.display = 'none';\n\n}\n\nexport const showTextstyle = function () {\n\n  console.log(\"in showTextstyle\")\n\n  document.getElementsByClassName(\"clickedV\")[0].setAttribute(\"class\", \"btn btn-default\")\n  document.getElementById(\"showTextstyle\").setAttribute(\"class\", \"clickedV btn btn-default\")\n\n  document.getElementById(\"textstyle\").style.display = 'block';\n    // document.getElementById(\"progressBar\").style.display = 'none'\n\n    document.getElementById(\"showVideo\").style.display = 'none'\n    document.getElementById(\"substyle\").style.display = 'none'\n        document.getElementById(\"dcolumn\").style.display = 'none';\n        document.getElementById(\"askSub\").style.display = 'none';\n\n}\n\nexport const askSubt = function() {\n\n  document.getElementsByClassName(\"clickedV\")[0].setAttribute(\"class\", \"btn btn-default\")\n  document.getElementById(\"askSubt\").setAttribute(\"class\", \"clickedV btn btn-default\")\n\n\n\n    document.getElementById(\"textstyle\").style.display = 'none';\n    // document.getElementById(\"progressBar\").style.display = 'none'\n\n    document.getElementById(\"showVideo\").style.display = 'none'\n    document.getElementById(\"substyle\").style.display = 'none'\n \n    // var x = document.getElementById(\"askSub\").getAttribute(\"x\")\n    var x = localStorage.getItem(\"showSub\")\n    // \"0\" => subtitles haven't been generated yet\n    if ( x == \"0\") {\n        document.getElementById(\"askSub\").style.display = 'flex'\n        document.getElementById(\"dcolumn\").style.display = 'none';\n        document.getElementById(\"showSub\").style.display = 'none';\n} else {\n        document.getElementById(\"askSub\").style.display = 'none';\n        document.getElementById(\"dcolumn\").style.display = 'block';\n        document.getElementById(\"showSub\").style.display = 'block';\n}\n\n}\n\n// moved to canvastry.js\n// export const keytimer = function(e) {\n//   // highlight sub + vid current time + change video text\n//   console.log('in keytimer');\n\n//     // if (e.target.classList.contains('caption')) {\n//     if (window.getSelection() && window.getSelection().rangeCount) {\n      \n//       var select = window.getSelection();\n//       console.log('select', e.target.innerText);\n\n//       var range = select.getRangeAt(0);\n\n//       if (range.startContainer.parentNode.tagName == \"SPAN\" && (range.startContainer.parentNode.getAttribute('class') == \"caption\" || range.startContainer.parentNode.getAttribute('class') == \"caption current-caption\")) {\n\n//       var vid = document.getElementById(\"vid1\");\n//       if (vid.play) {\n//       // // console.log('hello');\n//       vid.pause();\n//         var play = document.getElementById(\"play\");\n//         var pause = document.getElementById(\"pause\");\n\n//         play.style.display='inline-block';\n//         pause.style.display='none';\n//     }\n\n//     var zz = window.getSelection().getRangeAt(0).startContainer.parentNode;\n//     var idn = zz.id;\n\n    \n//     // var startTime = props.state.strt;\n//     var vid = document.getElementById(\"vid1\"); \n\n//     var cursorPos = window.getSelection().getRangeAt(0).startOffset; \n//     console.log('keytimer time', e.target,'idn', idn,'curpos', cursorPos)\n//     var t = gettime(idn, cursorPos);\n//     console.log(\"t\", t);\n//     vid.currentTime = t/1000;\n\n//     if (document.getElementsByClassName(\"current-caption\")[0]) {\n//     var current = document.getElementsByClassName(\"current-caption\")[0]\n \n//     current.classList.remove(\"current-caption\");\n\n//   }\n\n//   zz.classList.add(\"current-caption\") \n//   // setAttribute(\"className\", \"caption current-caption\");\n//   // zz.setAttribute(\"class\", \"caption current-caption\");\n\n\n//     var tx = zz.innerText; // textContent\n\n//     // not single, there could be multiple spaces!\n//     // length will be 0 if empty string \n//     if (tx.replace(/\\s/g, '').length) {\n//             // var vi = document.getElementById(\"subtitles-text-container\");\n//             // vi.style.visibility=\"visible\";  \n\n//         }\n//     // zz.innerText = tx;\n//     // props.changeSub(newsub)\n//    // props.changeCaptions(tx)\n//    document.getElementById(\"subtitle-text-container\").innerText = zz.innerText;\n//     // props.changeKey(1);\n//     console.log('@@@@@ #### BEFORE storeSub\\n', localStorage.getItem('subx'))\n//   storeSub();\n\n    \n//   }      \n// }\n// }\n\n\nexport const moveElement = function(e) {\n  console.log('before try movelement', document.getElementsByClassName(\"move\")[0])\n  \nvar key = e.keyCode == 37 || e.keyCode == 38 || e.keyCode == 39 || e.keyCode == 40   \nif(!key) return;\n\ntry {\n  var t = document.getElementsByClassName(\"move\")[0]\n  if(t.id == \"vx\") return;\n  // console.log('moveElement', e.keyCode, t.style.bottom,t.style.left)\n\n  var v;\n  if(e.keyCode == 37) { //left\n    if(t.id == \"subtitles-text-container\") return;\n    if(t.id == \"custom-seekbar1\") return;\n     v = 1\n  }\n  \n  if(e.keyCode == 39) { //right\n     if(t.id == \"subtitles-text-container\") return;\n     if(t.id == \"custom-seekbar1\") return;\n     v = -1\n  }\n\n  var k = e.keyCode == 37 || e.keyCode == 39\n\n  if(k) { \n  if(t.style.left ) {\n    t.style.left = parseInt(t.style.left) - v +'%';\n  } else {\n    var dleft = 100* t.offsetLeft/document.getElementById(\"vid\").offsetWidth\n    t.style.left = dleft - v + '%';\n}\n\n  storeBar();\n  // storeSubstyle();\n\n  return;\n}\n\n  if(e.keyCode == 38) { //up\n        v =  1  \n    if(parseInt(document.getElementById(\"custom-seekbar1\").style.top) < 1) return;\n      } \n\n  if(e.keyCode == 40) { //down\n        v = - 1\n\n// in %\n    var tc = parseFloat(document.getElementById(\"custom-seekbar1\").style.top)\n    var hc =parseFloat(document.getElementById(\"custom-seekbar1\").style.height)*100/parseFloat(document.getElementById(\"stage\").getBoundingClientRect().height )\n    console.log('100-hc-tc', 100-tc-hc)\n    \n    if(100-hc-tc  < 1) return;\n    }\n  \n\n\nif(t.id == \"subtitles-text-container\") {\n\n  if (t.style.bottom) {\n      t.style.bottom = parseInt(t.style.bottom) + v + '%';\n} else {\n  var dbottom = 100* (document.getElementById(\"vid\").offsetHeight - t.offsetHeight - t.offsetTop)/document.getElementById(\"vid\").offsetHeight\n  // console.log('dtop', dtop, v, t.style.top, t.style.bottom)\n  t.style.bottom = dbottom + v + '%';\n  // now t.style.top will start exisitng\n}\n\n} else {\n\n  if (t.style.top) {\n      t.style.top = parseInt(t.style.top) - v + '%';\n} else {\n  var dtop = 100* t.offsetTop/document.getElementById(\"vid\").offsetHeight\n  // console.log('dtop', dtop, v, t.style.top, t.style.bottom)\n  t.style.top = dtop - v + '%';\n  // now t.style.top will start exisitng\n}\n}\n\n  storeBar();\n  // storeSubstyle();\n\n\n} catch {}\n\n}\n\n\n\nexport const setDim = function(r, props) {\n\nvar vcx = document.getElementById(\"stage\") \nvar vx = document.getElementById(\"vid1\")\nvar canx = document.getElementById(\"canvas2\")\nvx.style.height = '100%';\nvx.style.width = '100%';\n\n\nvar vidx = document.getElementById(\"vx\");\n\nvar h = localStorage.getItem('height')\nvar w = localStorage.getItem('width')\n\nvar hh, ww, wh \n// vcx.style.maxWidth = '300vw';\n// vidx.style.maxWidth = '300vw';\n// vcx.style.maxHeight = '300vh';\n// vidx.style.maxHeight = '300vh';\n\nif (r == 'org') {\n  r = (parseFloat(w)/parseFloat(h)).toFixed(1);\n}\n\nconsole.log('rrrr', r, parseFloat(h)/parseFloat(w))\n\nif (r == '9:16' || r == '0.6') {\n  \nvcx.style.width = 'calc(74.3vh * 9 / 16)';\nvcx.style.height = '74.3vh';\n\nhh = vcx.style.height\nww = parseFloat(vcx.style.height)*parseFloat(w)/parseFloat(h) + \"vh\"\n\n\nif ( parseFloat(ww) > parseFloat(hh)*(9/16)) {\n    vidx.style.width = parseFloat(vcx.style.height)*(9/16) + 'vh';\n    vidx.style.height = parseFloat(vcx.style.height)*(9/16)*parseFloat(h)/parseFloat(w) + \"vh\"\n} else {\n    vidx.style.width = \"calc(\"+ ww +\")\";\n    vidx.style.height = hh ;\n}\n\ncanx.height = vcx.offsetHeight;\ncanx.width = vcx.offsetWidth ;\n\n\n// vidx.style.width = vcx.style.width;\n// var cg = parseFloat(vcx.style.height)*(9/16)*parseFloat(h)/parseFloat(w) + \"vh\";\n// vidx.style.height = \"calc(\"+ cg +\")\";\n\nreturn;\n\n}\n\nif (r == '16:9' || r == \"1.8\") {\nvcx.style.width = '38.9vw';\nvcx.style.height = 'calc(38.9vw * 9 / 16)';\n\n// var cg = parseFloat(vcx.style.width)*(9/16)*parseFloat(w)/parseFloat(h) + \"vw\";\n// vidx.style.width = \"calc(\"+ cg +\")\";\n// vidx.style.height = vcx.style.height;\n\nww = vcx.style.width\nhh = parseFloat(vcx.style.width)*parseFloat(h)/parseFloat(w) + \"vw\"\n\n// calculated height > height of stage\nif ( parseFloat(hh) > parseFloat(ww)*(9/16)) {\n    vidx.style.height = parseFloat(vcx.style.width)*(9/16) + 'vw';\n    vidx.style.width = parseFloat(vcx.style.width)*(9/16)*parseFloat(w)/parseFloat(h) + \"vw\"\n} else {\n    vidx.style.width = \"calc(\"+ ww +\")\";\n    vidx.style.height = hh ;\n}\n\ncanx.height = vcx.offsetHeight;\ncanx.width = vcx.offsetWidth ;\n\nreturn;\n\n}\n\nif (r == '1:1' || r == \"1.0\") {\nvcx.style.width = '59.3vh';\nvcx.style.height = '59.3vh';\n\n// vidx.style.width = vcx.style.width;\n// var cg = parseFloat(vcx.style.width)*parseFloat(h)/parseFloat(w) + \"vh\";\n// vidx.style.height = \"calc(\"+ cg +\")\";\n\nhh = vcx.style.height\nww = parseFloat(vcx.style.height)*parseFloat(w)/parseFloat(h) + \"vh\"\n\n// calculated width > width of stage\nif ( parseFloat(ww) > parseFloat(hh)*(1/1)) {\n    vidx.style.width = parseFloat(vcx.style.height)*(1/1) + 'vh';\n    vidx.style.height = parseFloat(vcx.style.height)*(1/1)*parseFloat(h)/parseFloat(w) + \"vh\"\n} else {\n    vidx.style.width = \"calc(\"+ ww +\")\";\n    vidx.style.height = hh ;\n}\n\n\ncanx.height = vcx.offsetHeight;\ncanx.width = vcx.offsetWidth ;\n\nreturn;\n\n}\n\nif (r == '4:5' || r == \"0.8\") {\nvcx.style.width = 'calc(66.45vh * 4 / 5)';\nvcx.style.height = '66.45vh';\n// vidx.style.width = vcx.style.width ;\n// var cg = parseFloat(vcx.style.height)*(4/5)*parseFloat(h)/parseFloat(w) + 'vh';\n// vidx.style.height = \"calc(\"+ cg +\")\";\n\n\nhh = vcx.style.height\nww = parseFloat(vcx.style.height)*parseFloat(w)/parseFloat(h) + \"vh\"\n\n// calculated width > width of stage\nif ( parseFloat(ww) > parseFloat(hh)*(4/5)) {\n    vidx.style.width = parseFloat(hh)*(4/5) + 'vh';\n    vidx.style.height = parseFloat(hh)*(4/5)*parseFloat(h)/parseFloat(w) + \"vh\"\n} else {\n    vidx.style.width = \"calc(\"+ ww +\")\";\n    vidx.style.height = hh ;\n}\n\ncanx.height = vcx.offsetHeight;\ncanx.width = vcx.offsetWidth ;\n\n\nreturn;\n\n}\n\n// if (r == 'org') {\n\n// vcx.style.width = '33.65vw';\n// var cg = parseFloat(vcx.style.width)*parseFloat(props.state.height)/parseFloat(props.state.width) + \"vw\";\n\n// console.log('cggg', cg, r)\n\n// vidx.style.width = '33.65vw';\n// vcx.style.height = \"calc(\"+ cg +\")\";\n// vidx.style.height = \"calc(\"+ cg +\")\";\n\n// return;\n\n// }\n\nww = '38.9vw'\nvcx.style.width = ww\nhh = parseFloat(vcx.style.width)*parseFloat(h)/parseFloat(w) + \"vw\";\n\n\n// console.log('cggg', cg)\n// if ( cg == 'NaNvw' ) { \n//   cg = '33.65vw' \n//   console.log('cggg2', cg)\n\n  // vcx.style.maxWidth = '38.9vw';\n  // vidx.style.maxWidth = '38.9vw';\n  // vcx.style.maxHeight = '74.3vh'; //35.3vw\n\n// vidx.style.height = \"calc(\"+ cg +\")\";\n\n\n\n// calculated stage height > max height \nif ( parseFloat(hh) > 35.3) {\n\n    vcx.style.height = '35.3vw'\n    vidx.style.height = '35.3vw'\n    vcx.style.width = (35.3)*parseFloat(w)/parseFloat(h) + 'vw';\n    vidx.style.width = (35.3)*parseFloat(w)/parseFloat(h) + \"vw\";\n} else {\n    vcx.style.height = \"calc(\"+ hh +\")\";\n    vidx.style.height = \"calc(\"+ hh +\")\";\n    vcx.style.width = \"calc(\"+ ww +\")\";\n    vidx.style.width = \"calc(\"+ ww +\")\";\n}\n\ncanx.height = vcx.offsetHeight;\ncanx.width = vcx.offsetWidth ;\n\n\nreturn;\n// } \n\n}\n\n\n// set width of head and sub container\n// export const setWidth = function(x) {\n\n//     if ( x == 1) {\n//   var ch = document.getElementById('head-text-container');\n//   var chead = document.getElementById('heads-text-container');\n//   } else {\n\n//     var ch = document.getElementById('subtitle-text-container');\n//     var chead = document.getElementById('subtitles-text-container');\n//   }\n\n//     var style = window.getComputedStyle(ch);\n\n//     var padding_left = parseFloat(style.getPropertyValue(\"padding-left\"));\n//     var padding_right = parseFloat(style.getPropertyValue(\"padding-right\"));\n   \n//     var border_left = parseFloat(style.getPropertyValue(\"border-left-width\"));\n//     var border_right = parseFloat(style.getPropertyValue(\"border-right-width\"));\n\n//     var cS = ch.cloneNode();\n//     cS.style.visibility = \"hidden\";\n//     cS.setAttribute('id', 'pooo')\n//     cS.setAttribute('class', 'pooo')\n//     cS.textContent = chead.textContent;\n//     console.log('text', chead.textContent);\n//     cS.style.whiteSpace = 'nowrap';\n//     chead.appendChild(cS);\n//     console.log('wid span', $('#pooo').width(),cS.offsetWidth);\n    \n    \n//     var ff = cS.offsetWidth\n//     chead.removeChild(cS)\n    \n//     ff = ff / Math.ceil(ff / $('#vid').width());\n//     console.log('ff',ff)\n//     ff = 10 + ff + padding_left + padding_right + border_left + border_right\n//     // ff = ff;\n//     if (ff > ($('#vid').width() - 10)) {\n//        ff = $('#vid').width() - 10;\n//     }\n\n//     // chead.style.width = ff +'px';\n//     ch.style.width = ff +'px';\n\n//     console.log('vid1 offsetTop', document.getElementById(\"vid1\").offsetTop, document.getElementById(\"heads-text-container\").offsetHeight)\n\n//     console.log('wid hi',ff,$('#vid').width())\n// }\n\nexport const tickerTime = function(x) {\n\n  var sp1 = x.split(':');\n\n  return parseInt(sp1[0])*60*1000 + parseInt(sp1[1])*1000 + parseInt(sp1[2])*100;\n\n}\n\n\n\n// export const strToMili = function(x) {\n//   // console.log('in strToMili', x);\n//   // console.log(x, typeof(x))\n\n//    var sp1 = x.split(':');\n\n//       if (sp1.length == 1) {\n\n//         var t1 = parseInt(sp1[0])*60*1000 ;\n//       } else {\n\n//         // var s = parseFloat(sp1[1]).toString().split(\".\");\n\n\n//         var s = parseFloat(sp1[1]).toFixed(3).split(\".\");\n//         // // console.log('strToMili', s);\n//         if (s.length == 1) {\n//           var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000;\n//         } else {\n//         // var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000 + parseInt(s[1])*100;\n//         var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000 + parseInt(s[1]);\n//       } \n//     }\n\n//   return t1\n// }\n\n\nexport const strToMili = function(x) {\n  // console.log('in strToMili', x);\n  // console.log(x, typeof(x))\n\n   var sp1 = x.split(':');\n\n   if (sp1.length == 1) {\n\n        var t1 = parseInt(sp1[0])*60*1000 ;\n      } \n\n        // var s = parseFloat(sp1[1]).toString().split(\".\");\n    if(sp1.length == 2) {\n\n        var s = parseFloat(sp1[1]).toFixed(3).split(\".\");\n        // // console.log('strToMili', s);\n        if (s.length == 1) {\n          var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000;\n        } else {\n        // var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000 + parseInt(s[1])*100;\n        var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000 + parseInt(s[1]);\n      }\n   }\n\n    if(sp1.length == 3) {\n\n\n        var s = parseFloat(sp1[2]).toFixed(3).split(\".\");\n        // // console.log('strToMili', s);\n        if (s.length == 1) {\n          var t1 = parseInt(sp1[0])*3600*1000 + parseInt(sp1[1])*60*1000 + parseInt(s[0])*1000;\n        } else {\n        // var t1 = parseInt(sp1[0])*60*1000 + parseInt(s[0])*1000 + parseInt(s[1])*100;\n        var t1 = parseInt(sp1[0])*3600*1000 + parseInt(sp1[1])*60*1000 + parseInt(s[0])*1000 + parseInt(s[1]);\n      }\n\n\n    }\n\n    \n\n  return t1\n}\n\nexport const miliToTime = function(duration) {\n  // duration in miliseconds\n\nconsole.log(duration);\n  var milliseconds = parseInt((duration%1000))\n    , seconds = parseInt((duration/1000)%60)\n    , minutes = parseInt((duration/(1000*60))%60)\n    , hours = parseInt((duration/(1000*60*60))%24);\n\n  hours = (hours < 10) ? \"0\" + hours : hours;\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n  milliseconds = (milliseconds/1000).toFixed(1).split('.')[1];\n\n\n  if (hours == \"00\") {\n    if (minutes == \"00\") {\n      return seconds + \".\" + milliseconds;\n    }\n    else return minutes + \":\" + seconds + \".\" + milliseconds;\n  }\n\n  else {\n    return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n  }\n\n}\n\n\n\n\nexport const miliToMinTime = function(duration) {\n  // duration in miliseconds\n\nconsole.log(duration);\n  var milliseconds = parseInt((duration%1000))\n    , seconds = parseInt((duration/1000)%60)\n    , minutes = parseInt((duration/(1000*60))%60)\n    , hours = parseInt((duration/(1000*60*60))%24);\n\n  hours = (hours < 10) ? \"0\" + hours : hours;\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n  milliseconds = (milliseconds/1000).toFixed(1).split('.')[1];\n\n  if (hours == \"00\") {\n    return minutes + \":\" + seconds + \".\" + milliseconds;\n  }\n\n  else {\n    return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n  }\n\n}\n\n\n\nexport const miliToHrTime = function(duration) {\n  // duration in miliseconds\n\nconsole.log(duration);\n  var milliseconds = parseInt((duration%1000))\n    , seconds = parseInt((duration/1000)%60)\n    , minutes = parseInt((duration/(1000*60))%60)\n    , hours = parseInt((duration/(1000*60*60))%24);\n\n  hours = (hours < 10) ? \"0\" + hours : hours;\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n  milliseconds = (milliseconds/1000).toFixed(1).split('.')[1];\n\n  return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n\n}\n\nexport const miliToHrCommaTime = function(duration) {\n  // duration in miliseconds\n\nconsole.log(duration);\n  var milliseconds = parseInt((duration%1000))\n    , seconds = parseInt((duration/1000)%60)\n    , minutes = parseInt((duration/(1000*60))%60)\n    , hours = parseInt((duration/(1000*60*60))%24);\n\n  hours = (hours < 10) ? \"0\" + hours : hours;\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n  milliseconds = (milliseconds/1000).toFixed(1).split('.')[1];\n\n  return hours + \":\" + minutes + \":\" + seconds + \",\" + milliseconds;\n\n}\n\n\nexport const getLowestIndex = function(array) {\n  // console.log('getLowestIndex')\n    var low = array[0],                   // take the first element at index 0\n        i, index=0;\n\n\n    console.log('ingetlow', 'diff:',array)\n    for (i = 1; i < array.length; i++) { // start with index 1, because you need to\n                                         // check against the last known smallest value\n        if(array[i] < low) {\n            low = array[i];\n            index = i;\n\n            console.log('index', index, 'arr i', array[i]);\n        }\n    }\n    console.log('index', index);\n    return index;\n}\n\n\n//calculate time at current cursor position\nexport const gettime = function(idn, cursorPos) {\n  console.log('in get time')\n  var pa_stime = document.getElementById(idn).getAttribute(\"stime\");\n  var pa_etime = document.getElementById(idn).getAttribute(\"etime\");\n\n  console.log(document.getElementById(idn))\n  var t1 = strToMili(pa_stime);\n  var v = document.getElementById(idn).innerText;\n  console.log('v',v,'len', v.length);\n\n  if (v.length == 0) {return t1;} //if not text \n  // console.log('parent node', document.getElementById(idn));\n  // console.log('strt',strt);\n   console.log('t1', t1);\n    var t2 = strToMili(pa_etime);\n  console.log('t2', t2);\n\n    var y = (t2 - t1)*cursorPos/v.length;\n    // console.log('t2',t2,'t1',t1, 'cur', cursorPos/v.length, 'y', y)\n    y = y + t1;\n    console.log('curp', cursorPos,'v', v.length,'y', y);\n    return y;\n}\n\nexport const getAbcString = function(x) {\n\n      console.log('x',x)\n\n      var a = x.split(':')[0].padStart(2,0);\n      var b = x.split(':')[1].split('.')[0].padStart(2,0);\n      var c = x.split(':')[1].split('.')[1].padStart(1,0);\n\n      return [a,b,c];\n\n}\n\n\nexport const setTickerState = function(id) {\n\n  var rowT = document.getElementById(\"rows\")\n  var getId = id;\n  var MaxTime = document.getElementById(getId).getAttribute(\"etime\");\n  if(id == 0) {\n    var MinTime = \"00:00.0\"\n  } else {\n  var MinTime = document.getElementById(getId).previousSibling.previousSibling.getAttribute(\"stime\");\n  }\n\n  var timCurrent = document.getElementById(getId).getAttribute(\"stime\");\n  \n//max  [ \"00\", \"03\", \"4\" ]\n//min     \"00\"  \"00\"  \"0\"\n//timC   \"00\" \"00\" \"9\"\n\nvar max = getAbcString(MaxTime);\nvar min = getAbcString(MinTime);\nvar timC = getAbcString(timCurrent);\n\nvar z = document.getElementById(\"zero\").childNodes\nvar o = document.getElementById(\"one\").childNodes\nvar t = document.getElementById(\"two\").childNodes\n\n// if [1] is still less, [2] ll automatically be black\n// if [1] is grey, [2] can or not be grey ([2] ll be compared to [2] of max)\n// if [0] is still less, all allowed\n// if [0] is grey, check [1] ([1] ll be compared to [1] of max)\n\n// when the ticker opens\nif (timC[0] < max[0]) {  //if tim is less than max time\n  z[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n  z[1].style.color = \"black\";\n\n  o[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n  o[1].style.color = \"black\";\n\n  t[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n  t[1].style.color = \"black\";\n} else {\n  // min is >= allowed limited\n  z[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorDisabled\");\n\n  if (timC[1] < max[1]) {  //if tim is less than max time\n      o[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n      o[1].style.color = \"black\";\n\n      t[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n      t[1].style.color = \"black\";\n    } else {\n\n      o[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorDisabled\" );\n\n      if (timC[2] < max[2]) {\n        t[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\");\n      } else {\n        t[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorDisabled\" )\n      }\n    }\n}\n     \n \nif (timC[0] > min[0]) {  //if tim is less than max time\n  z[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n  o[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n  t[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n} else {\n  // min is >= allowed limited\n  z[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorDisabled\");\n\n  if (timC[1] > min[1]) {  //if tim is less than max time\n      o[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" );\n      t[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" );\n    } else {\n\n      o[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorDisabled\" );\n\n      if (timC[2] > min[2]) {\n        t[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n      } else {\n        t[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorDisabled\" )\n      }\n    }\n}\n         \n// on click +1 or -1 \n\n      var MaxNew = strToMili(MaxTime);\n      var MinNew = strToMili(MinTime);\n      var timNew = strToMili(timCurrent);\n      \n      if (timNew + 60*1000 > MaxNew) {\n        z[0].setAttribute(\"class\",\"MuiSvgIcon-root up MuiSvgIcon-colorDisabled\" )\n      } else {\n        z[0].setAttribute(\"class\",\"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n      }\n\n      if (timNew + 1000 > MaxNew){\n        o[0].setAttribute(\"class\",\"MuiSvgIcon-root up MuiSvgIcon-colorDisabled\" )\n      } else {\n        o[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n      }   \n\n      if (timNew + 100 > MaxNew) {\n        t[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorDisabled\" )\n      } else {\n        t[0].setAttribute(\"class\", \"MuiSvgIcon-root up MuiSvgIcon-colorSecondary\" )\n      }\n\n\n\n    if (timNew - 60*1000 < MinNew) {\n        z[2].setAttribute(\"class\",\"MuiSvgIcon-root down MuiSvgIcon-colorDisabled\" )\n      } else {\n        z[2].setAttribute(\"class\",\"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n      }\n\n      if (timNew - 1000 < MinNew){\n        o[2].setAttribute(\"class\",\"MuiSvgIcon-root down MuiSvgIcon-colorDisabled\" )\n      } else {\n        o[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n      }   \n\n      if (timNew - 100 < MinNew) {\n        t[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorDisabled\" )\n      } else {\n        t[2].setAttribute(\"class\", \"MuiSvgIcon-root down MuiSvgIcon-colorSecondary\" )\n      }\n\n\n// color\n\nif (z[0].classList.contains('MuiSvgIcon-colorDisabled') && z[2].classList.contains('MuiSvgIcon-colorDisabled')) {\n    z[1].style.color = \"darkgrey\";\n} else {\n    z[1].style.color = \"black\";\n}\n\n\nif (o[0].classList.contains('MuiSvgIcon-colorDisabled') && o[2].classList.contains('MuiSvgIcon-colorDisabled')) {\n    o[1].style.color = \"darkgrey\";\n} else {\n    o[1].style.color = \"black\";\n}\n\n\nif (t[0].classList.contains('MuiSvgIcon-colorDisabled') && t[2].classList.contains('MuiSvgIcon-colorDisabled')) {\n    t[1].style.color = \"darkgrey\";\n} else {\n    t[1].style.color = \"black\";\n}\n\n// store subtitles, stime, etime in localstorage\n  storeSub()\n\n}\n\n//  COLORS\n\nfunction trim (str) {\n  return str.replace(/^\\s+|\\s+$/gm,'');\n}\n\nexport const rgbaToHex = function(rgba) {\n  var inParts = rgba.substring(rgba.indexOf(\"(\")).split(\",\"),\n      r = parseInt(trim(inParts[0].substring(1)), 10),\n      g = parseInt(trim(inParts[1]), 10),\n      b = parseInt(trim(inParts[2]), 10),\n      a = parseFloat(trim(inParts[3].substring(0, inParts[3].length - 1))).toFixed(2);\n  var outParts = [\n    r.toString(16),\n    g.toString(16),\n    b.toString(16),\n    Math.round(a * 255).toString(16).substring(0, 2)\n  ];\n\n  // Pad single-digit output values\n  outParts.forEach(function (part, i) {\n    if (part.length === 1) {\n      outParts[i] = '0' + part;\n    }\n  })\n\n  return (outParts.join(''));\n}\n\n\nexport const rgbToHex = function(r, g, b) {\n  return ((1 << 24) + (Number(r) << 16) + (Number(g) << 8) + Number(b)).toString(16).slice(1);\n}\n\nexport const hexToRgb = function( colour ) {\n    var r,g,b;\n    if ( colour.charAt(0) == '#' ) {\n        colour = colour.substr(1);\n    }\n\n    if ( colour.length == 3 ) {\n            colour = colour.substr(0,1) + colour.substr(0,1) + colour.substr(1,2) + colour.substr(1,2) + colour.substr(2,3) + colour.substr(2,3);\n    }\n    r = colour.charAt(0) + '' + colour.charAt(1);\n    g = colour.charAt(2) + '' + colour.charAt(3);\n    b = colour.charAt(4) + '' + colour.charAt(5);\n    r = parseInt( r,16 );\n    g = parseInt( g,16 );\n    b = parseInt( b ,16);\n\n    if (isNaN(r) || isNaN(g) || isNaN(b)) {\n      return 2;\n    }\n    return [r,g,b];\n}\n\n\n // * Assumes r, g, and b are contained in the set [0, 255] and\n // * returns h, s, and v in the set [0, 1].\nexport const rgbToHsv = function(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n\n  var max = Math.max(r, g, b), min = Math.min(r, g, b);\n  var h, s, v = max;\n\n  var d = max - min;\n  s = max == 0 ? 0 : d / max;\n\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n      case g: h = (b - r) / d + 2; break;\n      case b: h = (r - g) / d + 4; break;\n    }\n\n    h /= 6;\n  }\n\n  return [ h, s, v ];\n}\nexport const getHsl = function(h,x,y) {\n\nh = parseFloat(h);\nx = parseFloat(x);\ny = parseFloat(y);\n\nvar hue = 360 * (h / 100) ;\n\nconsole.log('hsl',h,'hue', hue,'x', x,'y', y);\n\nvar hsv_value = 1 - (y / 100);\nvar hsv_saturation = x / 100;\nvar lightness = (hsv_value / 2) * (2 - hsv_saturation);\nconsole.log('hsl', hsv_value, hsv_saturation, lightness);\nvar saturation = (hsv_value * hsv_saturation) / (1 - Math.abs(2 * lightness - 1));\nconsole.log('hsl', saturation);\nreturn [hue, saturation, lightness]\n\n}\n\n\nexport const hslToRgb = function(hsl) {\n\n  var h  = hsl[0];\n  h = h / 360 ;\n  var s  = hsl[1];\n  var l  = hsl[2];\n\n  console.log('h-s-l in r-g-b', h,s,l);\n\n  var r, g, b;\n\n  if (s == 0) {\n    r = g = b = l; // achromatic\n  } else {\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1/6) return p + (q - p) * 6 * t;\n      if (t < 1/2) return q;\n      if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n      return p;\n    }\n\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n\n\n  return [\n     Math.max(Math.min(r * 256, 255), 0)\n    ,Math.max(Math.min(g * 256, 255), 0)\n    ,Math.max(Math.min(b * 256, 255), 0) \n  ];\n}\n\n\nexport const hslToHex = function(hsl) {\n\n  var h  = hsl[0];\n  var s  = hsl[1]*100;\n  var l  = hsl[2]*100;\n\n  h /= 360;\n  s /= 100;\n  l /= 100;\n  let r, g, b;\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    const hue2rgb = (p, q, t) => {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    };\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  const toHex = x => {\n    const hex = Math.round(x * 255).toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  };\n  return `${toHex(r)}${toHex(g)}${toHex(b)}`;\n}\n\n\n\nvar gradient = [\n    [\n        0, //red\n        [255,0,0]\n    ],\n    [\n        17, //yellow\n        [255,255,0]\n    ],\n    [\n        33, //green\n        [0,255,0]\n    ],\n    [\n        50, //cyan\n        [0,255,255]\n    ],\n    [\n        67,\n        [0,0,255]\n    ],\n    [\n        83,\n        [255,0,255]\n    ],\n    [\n        100,\n        [255,0,0]\n    ]\n];\n\nfunction pickHex(color1, color2, weight) {\n    var p = weight;\n    var w = p * 2 - 1;\n    var w1 = (w/1+1) / 2;\n    var w2 = 1 - w1;\n    var rgb = [Math.round(color1[0] * w1 + color2[0] * w2),\n        Math.round(color1[1] * w1 + color2[1] * w2),\n        Math.round(color1[2] * w1 + color2[2] * w2)];\n    return rgb;\n}\n\n\n\nexport const setSaturationColor = function(percent) {\n\n  var colorRange = []\n    // console.log('%',percent);\n  $.each(gradient, function( index, value ) {\n      console.log('percent', percent);\n      // if(ui.value<=value[0]) {\n        if( parseInt(percent) <= value[0]) {\n        console.log('grad', index, value[0], value[1])\n\n\n          colorRange = [index-1,index]      \n          return false;\n      }\n  });\n  \n\n  //Get the two closest colors\n  try {\n  var firstcolor = gradient[colorRange[0]][1];\n} catch {\n  console.log('catch percent', percent);\n  var c = gradient[colorRange[1]][1];\n  return pickHex( c,c, 1);\n}\n  var secondcolor = gradient[colorRange[1]][1];\n  \n  // console.log('colors', firstcolor, secondcolor)\n  //Calculate ratio between the two closest colors\n  var firstcolor_x = gradient[colorRange[0]][0];\n  var secondcolor_x = gradient[colorRange[1]][0]-firstcolor_x;\n  var slider_x = percent-firstcolor_x;\n  var ratio = slider_x/secondcolor_x\n  \n  //Get the color with pickHex(thx, less.js's mix function!)\n  var result = pickHex( secondcolor,firstcolor, ratio );\n  return result;\n}\n\nexport const setXY = function(rgb) {\n\n  var hsv = rgbToHsv(rgb[0],rgb[1],rgb[2]);\n\n  console.log('setXY',hsv);\n\n  var y = (1 - hsv[2])*100;\n  var x = hsv[1]*100;\n  var h = hsv[0]*100;\n\n// saturation\n  var offset = document.getElementsByClassName(\"vc-sketch-saturation-wrap\")[0].getBoundingClientRect();\n\n    var totalWidth = offset.width;\n    var l = ( x * totalWidth ) / 100;\n\n    var totalHeight = offset.height;\n    var t = ( y * totalHeight ) / 100;\n\n    if ( parseFloat(x)>99) {\n    x = 99;\n  }\n  if ( parseFloat(y)>99) {\n    y = 99;\n  }\n// to move the pointer\n    $(\".vc-saturation-pointer\").css(\"left\", l);\n    $(\".vc-saturation-pointer\").css(\"top\", t);\n// to store the correct x,y values\n    $(\".vc-saturation-circle\").css(\"left\", x);\n    $(\".vc-saturation-circle\").css(\"top\", y);\n\n    console.log('in setXY:',$(\".vc-saturation-pointer\").css(\"left\"),l)\n    console.log('in setXY:',$(\".vc-saturation-circle\").css(\"left\"),x)\n// hue position\n    var offset = document.getElementsByClassName(\"vc-hue vc-hue--horizontal\")[0].getBoundingClientRect();  \n    var totalWidth = offset.width;\n    var l = ( h * totalWidth ) / 100;\n\n\n    var result = setSaturationColor(h);\n    // set the saturation chart color\n    $(\".vc-saturation\").css(\"background\", 'rgb('+result.join()+') none repeat scroll 0% 0%');\n    // set the pointer position in hue bar\n    $(\".vc-hue-picker\").css(\"margin-left\", l);\n    \n    // store the hue value to be passed on\n    $(\".vc-hue-pointer\").css(\"left\", h);\n\n}\n\nexport const setColor = function(d, parent, rgb, props) {\n\n  console.log(\"SET COLOR\", parent, d, rgb)\n\n// text font color\n  if (parent.classList.contains(\"tfg\")) {\n\n    if (d==\"s\") {\n    // document.getElementById(\"subtitle-text-container\").style.color = 'rgba('+rgb.join()+')'\n\n    props.update_x(0, 'tc', 'rgba('+rgb.join()+')')\n\n    props.invalidate(false);\n\n\n\n    // storeSubstyle();\n  } else {\n\n    if(props.selectText !=0) props.update_x(props.selectText, 'tc', 'rgba('+rgb.join()+')')\n\n    props.invalidate(false);\n\n    // var mv = document.getElementsByClassName(\"move\")[0]\n    // if (mv && mv.classList.contains(\"heads-text-container\")) {\n    //     mv.getElementsByTagName(\"SPAN\")[0].style.color = 'rgba('+rgb.join()+')'\n    //   }\n  }\n\n}\n\n// text back color\n  if (parent.classList.contains(\"tbbg\")) {\n\n    if (d==\"s\") {\n    // var a = document.getElementsByClassName(\"alpha\")[1].textContent;\n    // rgb.push(a)\n\n    //  full\n    // if(document.getElementsByClassName(\"wrap\")[1].style.display == \"none\") {\n    //   document.getElementById(\"subtitles-text-container\").style.backgroundColor = 'rgba('+rgb.join()+')'\n    // } else {\n    //   document.getElementById(\"subtitle-text-container\").style.backgroundColor = 'rgba('+rgb.join()+')'\n    // }\n\n    props.update_x(0, 'fill', 'rgba('+rgb.join()+')')\n\n    props.update_x(0, 'a', parseFloat(rgb[3]))\n\n\n    props.invalidate(false);\n    // storeSubstyle();\n  \n  } else {\n\n    if(props.selectText!=0) props.update_x(props.selectText, 'fill', 'rgba('+rgb.join()+')')\n    props.invalidate(false);\n  }\n}\n\n//  progress bar\n  if (parent.classList.contains(\"fp\")) {\n    document.getElementById(\"custom-seekbar1\").children[0].style.backgroundColor = 'rgba('+rgb.join()+')'\n\n    storeBar();\n  }\n\n  if (parent.classList.contains(\"bp\")) {\n    document.getElementById(\"custom-seekbar1\").style.backgroundColor = 'rgba('+rgb.join()+')'\n  \n      storeBar();\n\n  }\n\n  if (parent.classList.contains(\"v\")) {\n    document.getElementById(\"vid\").style.backgroundColor = 'rgba('+rgb.join()+')'\n\n    storeVideo()\n  }\n\n}\n","import axios from 'axios'; \nimport firebase from 'firebase/app';\n\nimport 'firebase/auth';        // for authentication\n// import 'firebase/storage';     // for storage\n// import 'firebase/database';    // for realtime database\nimport 'firebase/analytics';\n\nimport {checkout, stripe_checkout_download} from './striperedirect';\n// to render watermark free video\nimport {rendervid} from './rendervid';\nimport {checkSub} from './utils';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: \"1:126988606543:web:0c87f871649f80da3c9e3a\",\n  measurementId: \"G-8EYQRL3EVQ\"\n  };\n\n// const app = \nfirebase.initializeApp(firebaseConfig); \nfirebase.analytics();\n\n\n\nfunction setRender(uid) {\n\n\n  var geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\n  console.log('geturl', geturl)\n  axios.get(geturl).then(res => {\n  \n  var render\n  //  if no user data OR jsonpath is empty\n  if(res.data.Item && res.data.Item.render || res.data.Item.render.S ) {\n      \n      render = res.data.Item.render.S\n      localStorage.setItem('render', render)\n}\n  }).catch(e => console.log(e))\n\n}\n\n// called from home.js/Navbarhome.js\nexport function login(e, props) {\n    console.log('login', props)\n\n    \n\n    // console.log('current user', firebase.auth())\n\n    e.preventDefault();\n    e.stopPropagation();\n    // firebase.auth()\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n        localStorage.clear()\n        props.render_x('uid', result.user.uid)\n        props.render_x('pic', firebase.auth().currentUser.photoURL)\n        props.render_x('email', result.user.email)\n\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n\n        create_new_user();\n\n        var work_id = result.user.uid\n\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + result.user.email\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe', response.data.Item)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n          props.render_x('subscribe', response.data.Item.sub.S)\n  \n\n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          localStorage.setItem('subscribe', '0');         \n          props.render_x('subscribe', '0');\n        })\n\n\n\n\n        // var emurl = 'https://v7w4i2ff2g.execute-api.us-west-2.amazonaws.com/default/add_email?uid=' + result.user.uid + '&email=' + result.user.email\n\n        // axios.get(emurl).then(res => console.log('email added')).catch(err => console.log(err))\n\n\n        console.log('props', props)\n\n    props.props.history.push({\n          pathname: `/workspace/${work_id}`\n          ,\n          state: { videos: d }\n    })\n\n    // window.location.href=window.location.origin + '/workspace';\n\n\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n    // console.log('firebase uid', firebase.auth().currentUser.uid)\n    \n\n}\n\n\n// called on pricing page\nexport function login_pricing_home(e, props) {\n    console.log('login', e.currentTarget)\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    // console.log('current user', firebase.auth())\n\n\n    // firebase.auth()\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n        props.render_x('uid', result.user.uid)\n        props.render_x('pic', firebase.auth().currentUser.photoURL)\n        props.render_x('email', result.user.email)\n\n\n        localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n\n        create_new_user();\n\n        var work_id = result.user.uid\n\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + result.user.email\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe', response.data.Item)\n\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n          props.render_x('subscribe', response.data.Item.sub.S)\n          \n\n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          props.render_x('subscribe', '0')\n          localStorage.setItem('subscribe', '0')\n        })\n\n\n\n        // var emurl = 'https://v7w4i2ff2g.execute-api.us-west-2.amazonaws.com/default/add_email?uid=' + result.user.uid + '&email=' + result.user.email\n\n        // axios.get(emurl).then(res => console.log('email added')).catch(err => console.log(err)) \n\n        console.log('props', props)\n\n    props.history.push({\n          pathname: `/workspace/${work_id}`\n          ,\n          state: { videos: d }\n    })\n\n    // window.location.href=window.location.origin + '/workspace';\n\n\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n    // console.log('firebase uid', firebase.auth().currentUser.uid)\n    \n\n}\n\n\n// on PRICING page\n// login + pay\nexport function login_sub(e, props) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    console.log('login', e.currentTarget, props)\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n        props.render_x('uid', result.user.uid)\n        props.render_x('pic', firebase.auth().currentUser.photoURL)\n        props.render_x('email', result.user.email)\n\n\n        localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n\n        create_new_user();\n\n        var work_id = result.user.uid\n\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + result.user.email\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe', response.data.Item)\n\n          props.render_x('subscribe', response.data.Item.sub.S)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n          \n          props.history.push({\n          pathname: `/workspace/${work_id}`,\n          state: { videos: d }\n    })\n\n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          props.render_x('subscribe', '0')\n          localStorage.setItem('subscribe', '0')\n\n\n          console.log('calling PaymentButton')\n\n          checkout(work_id, result.user.email)\n\n        })\n\n\n\n        // var emurl = 'https://v7w4i2ff2g.execute-api.us-west-2.amazonaws.com/default/add_email?uid=' + result.user.uid + '&email=' + result.user.email\n\n        // axios.get(emurl).then(res => console.log('email added')).catch(err => console.log(err)) \n\n        console.log('props', props)\n\n        // window.location.reload()\n\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n    // console.log('firebase uid', firebase.auth().currentUser.uid)\n    \n\n}\n\n\n\n// ON VIDx page\n// only login \nexport function login_in_vid(props) {\n\n    console.log('props', props)\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n\n        props.render_x('uid', result.user.uid)\n        props.render_x('pic', firebase.auth().currentUser.photoURL)\n        props.render_x('email', result.user.email)\n\n\n        // localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n        \n\n        storejson_s3_table()\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n\n}\n\n\n\n// ON VIDx page\n// only login \nexport function login_in_create(props) {\n\n    console.log('props', props)\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n\n        props.render_x('uid', result.user.uid)\n        props.render_x('pic', firebase.auth().currentUser.photoURL)\n        props.render_x('email', result.user.email)\n\n\n        // localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n        \n\n        storejson_s3_table()\n\n        document.getElementById('downloadx').click();\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n\n}\n\n// ON VIDx page, when you click on workspace\n// only login \nexport function login_in_work(e, props) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    console.log('login', e.currentTarget, props)\n\n\n    // console.log('current user', firebase.auth())\n\n\n    // firebase.auth()\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n        props.render_x('uid', result.user.uid)\n        props.render_x('pic', firebase.auth().currentUser.photoURL)\n        props.render_x('email', result.user.email)\n\n        // localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n        storejson_s3_table()\n\n        console.log('props in login', props)\n\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + result.user.email\n        var d = {}\n        d['uid'] = result.user.uid\n\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe', response.data.Item)\n\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n          props.render_x('subscribe', response.data.Item.sub.S)\n\n          console.log('props', props)\n\n\n\n          props.history.push({\n                pathname: `/workspace/${result.user.uid}`\n                ,\n                state: { videos: d }\n          })\n\n\n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          props.render_x('subscribe', '0')\n          localStorage.setItem('subscribe', '0')\n\n          console.log('props err', props.x)\n\n          props.history.push({\n                pathname: `/workspace/${result.user.uid}`\n                ,\n                state: { videos: d }\n          })\n\n\n        })\n\n\n\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n\n}\n\n\nfunction create_new_user() {\n\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + localStorage.getItem('uid');\nconsole.log('geturl', geturl)\naxios.get(geturl).then(res => {\n  \n  //  if no user data\n  if(!res.data.Item || !res.data.Item.jsonpath) {\n    \n    console.log('no res.data.Item exists')\n\n\n  var url = 'https://g9163efqhh.execute-api.us-west-2.amazonaws.com/default/create_CRUD_table?uid=' + localStorage.getItem('uid') + '&jsonpath='+ '' + '&email=' + localStorage.getItem('email') + '&render=' + '0'\n  axios.put(url).then((res) => {console.log('New User added in table SUCCESS', res)}).catch(err => console.log(err))\n\n} \n\n  setRender(localStorage.getItem('uid'))\n\n}).catch(err => {\n\n  console.log(err, 'User doesnt exists')\n  var url = 'https://g9163efqhh.execute-api.us-west-2.amazonaws.com/default/create_CRUD_table?uid=' + localStorage.getItem('uid') + '&jsonpath='+ '' + '&email=' + localStorage.getItem('email') + '&render=0'\n  axios.put(url).then((res) => {console.log('New User added in table SUCCESS', res)\n    localStorage.setItem('render', '0')\n}).catch(err => console.log(err))\n\n\n})\n\n\n}\n\nfunction storejson_s3_table() {\n\n    console.log(\"SAVING JSON\")\n\n    var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n    var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n    axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }).then((res) => {\n            console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)})\n\n\n\n// send updated/new item to Table \n\nvar uid = localStorage.getItem(\"uid\")\n\n//  add file to user row in table\nif(uid) {\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\nconsole.log('geturl', geturl)\naxios.get(geturl).then(res => {\n  var jsn\n  var render\n  //  if no user data OR jsonpath is empty\n  if(!res.data.Item || !res.data.Item.jsonpath || !res.data.Item.jsonpath.S ) {\n      jsn = localStorage.getItem('filename')\n      render = '0'\n  } else {\n  // if filename already exists in jsn\n   \n      jsn = res.data.Item.jsonpath.S\n    if(!jsn.includes(localStorage.getItem('filename'))) {jsn = res.data.Item.jsonpath.S + ',' + localStorage.getItem('filename') }\n      render = res.data.Item.render.S\n\n  }\n\n    localStorage.setItem('render', render)\n  // check if the uploaded file is already in the list, obviosuly it will not!!!\n  // if(!jsn.includes(localStorage.getItem('filename'))) {\n\n  var url = 'https://g9163efqhh.execute-api.us-west-2.amazonaws.com/default/create_CRUD_table?uid=' + uid + '&jsonpath='+ jsn + '&email=' + localStorage.getItem('email') + '&render=' + render\n  axios.put(url).then((res) => {console.log('File added in table SUCCESS', res)}).catch(err => console.log(err))\n// } \n\n}).catch(err => console.log(err))\n}\n\n\n}\n// // Signs-out of Friendly Chat.\n// function signOut() {\n//   // Sign out of Firebase.\n//   firebase.auth().signOut();\n// }\n\n\n// Returns the signed-in user's profile pic URL.\nexport function getProfilePicUrl() {\n  console.log('auth', firebase.auth().currentUser)\n\n  return firebase.auth().currentUser.photoURL || '/images/profile_placeholder.png';\n}\n\n// Returns the signed-in user's display name.\nexport function getUserName() {\n  return firebase.auth().currentUser.displayName;\n}\n\n// Returns true if a user is signed-in.\nexport function isUserSignedIn() {\n  return !!firebase.auth().currentUser;\n}\n\n\n\n// Signs-out of Friendly Chat.\nexport function signOut() {\n  // Sign out of Firebase.\n  localStorage.clear()\n  window.location.href = window.location.origin;\n\n  firebase.auth().signOut()\n\n\n}\n\n\n\n\n\n\n\n\n\n\n// ON DOWNLOAD page\n// login + subscribe\nexport function login_down(e, props) {\n    console.log('login', e.currentTarget)\n\n        e.preventDefault();\n    e.stopPropagation();\n\n\n    // console.log('current user', firebase.auth())\n\n\n    // firebase.auth()\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n        // localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n\n        storejson_s3_table()\n\n        // var down_id = result.user.uid\n\n        document.getElementById(\"circleDown\").style.display = \"block\"\n\n        var dx = checkSub()\n\n        var down_id = window.location.href.split('/').slice(-1)[0]\n\n// if not subscribed already\n        if(!dx) {stripe_checkout_download(down_id, result.user.email);}\n// if subscribed already\n        else { rendervid(props) }\n\n        // document.getElementById(\"circleDown\").style.display = \"none\"\n\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n\n}\n\n\n\n// ON DOWNLOAD page\n// only login \nexport function only_login(e, props) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    console.log('login', e.currentTarget)\n\n\n    // console.log('current user', firebase.auth())\n\n\n    // firebase.auth()\n\n    var d = {}\n\n    // const app = firebase.initializeApp(firebaseConfig); \n\n    const googleAuth =  new firebase.auth.GoogleAuthProvider(); \n\n    console.log('provider', googleAuth)\n\n    // using the object we will authenticate the user. \n    firebase.auth().signInWithPopup(googleAuth).then(function(result) {\n        var token = result.credential.accessToken;\n        var user = result.user;\n\n        console.log('firebase uid', result.user, result, 'uid', result.user.uid)\n\n        // console.log('userCreds', result.user.uid, result.user.metadata)\n        // console.log('userMail', result.user.email, result.user.displayName)\n\n        d['uid'] = result.user.uid\n\n        console.log('firebase Pic', firebase.auth().currentUser.photoURL, firebase.auth().currentUser.displayName)\n\n        // localStorage.clear()\n        localStorage.setItem('uid', result.user.uid)\n        localStorage.setItem('pic', firebase.auth().currentUser.photoURL)\n        localStorage.setItem('email', result.user.email)\n        storejson_s3_table()\n\n\n        // downloading here, bcoz fn is async \n\n  // var xout = localStorage.getItem('xout')\n\n\n  // var url = 'https://d2wxuz9jomxjzh.cloudfront.net/' + xout + '?cachebuster=' + Date.now();\n  var url = localStorage.getItem('dvid')\n  console.log('URL', url);\n  // a.setAttribute('download', res.data)\n  var a = document.createElement('a');\n  // a.target = '_blank';\n  a.href = url;\n  // a.style.display = 'none';\n  // document.getElementById('subdiv').appendChild(a); // Required for Firefox\n  a.click(); \n\n\n\n\n    }).catch(function(error) {\n        console.log('Firebase Auth Error', error)\n    }) ; \n\n\n}\n\n\n\n\n\n","import React from 'react';\n// import {strToMili, rgbToHex} from './utils';\n// import {trim, getrgb, gethex} from './utilsave.js';\n\n\n// import CircularProgress from '@material-ui/core/CircularProgress';\n\n\nimport axios from 'axios'; \n\n/* global $ */\n\n//  add multiple heads-text, their width, subtitle width, seekbar width\n//  video position and dimensions!\n\n\n// the shown video has logo => old url is being used\n// during rendering buttons and videos are showing\n\n//use useState to store the states,transfer it to state on page change\n\nexport function rendervid (xu) {\n\n  localStorage.removeItem('render')\n  console.log('RENDERVID props', xu)\n\n  document.getElementById(\"downopt\").style.display = 'none'\n  document.getElementsByClassName(\"rdownload_\")[0].style.display = 'block'\n  \n  // localStorage.removeItem('dvid')\n\n\n\n\nvar filename = localStorage.getItem(\"filename\");\nvar subscribe = localStorage.getItem('subscribe')\n\ndebugger \n\nvar xout = Date.now() + '_' + xu.filename\nvar x = xu.ti\nvar urlsrt = xu.urlsrt\nvar vidsr = xu.vidsr_ + '&subscribe=1' + '&xout=' + xout ;\nvar urlx = 'https://cbrwnvuuf6.execute-api.us-west-2.amazonaws.com/default/check_output_video?key=' + xout\nvar dvid = 'https://d2wxuz9jomxjzh.cloudfront.net/' + xout + '?cachebuster=' + Date.now()\n\nvar t = xu.t\n\nlocalStorage.setItem('dvid', dvid)\n\n\nvar filename = xu.filename\nvar xout =  xu.xout\nvar width = xu.width\nvar height = xu.height\nvar pc = xu.pc\nvar back_bar = xu.back_bar\nvar front_bar = xu.front_bar\nvar bar_height = xu.bar_height\nvar duration = xu.duration\n\nvar dvid = xu.dvid\n\nvar ti = JSON.parse(xu.ti)\n\n// ////////////////////////////////////////////////////////////////////////\n\n\n// no watermark\nvar url = 'https://zuy32xbxsg.execute-api.us-west-2.amazonaws.com/default/canvas_render?filein=' + filename + '&fileout=' + xout + '&width=' + width + '&height=' + height + '&pc=' + pc + '&back_bar=' + back_bar + '&front_bar=' + front_bar + '&bar_height=' + bar_height + '&duration=' + duration\n\nconsole.log('url', url)\n\nvar t = parseFloat(localStorage.getItem('duration'))\n\nvar urlx = 'https://cbrwnvuuf6.execute-api.us-west-2.amazonaws.com/default/check_output_video?key=' + xout\n\naxios.post(url, ti,{\n    headers: {\n            'Content-Type': 'application/json',\n          },\n    }).then((res) => { \n      console.log('SENT')\n\n\n  // document.getElementsByClassName(\"styling\")[0].style.display = 'flex'\n\n// display downopt buttons \n// display none Styling\n\nconsole.log('URL', dvid);\n// a.setAttribute('download', res.data)\nvar a = document.createElement('a');\n// a.target = '_blank';\na.href = dvid;\n// a.style.display = 'none';\n// document.getElementById('subdiv').appendChild(a); // Required for Firefox\na.click(); \n\n\ndocument.getElementById(\"downopt\").style.display = 'flex'\ndocument.getElementsByClassName(\"rdownload_\")[0].style.display = 'none'\n\ntry { document.getElementById(\"downvid\").src = dvid } catch {}\n\n\n    }).catch((e) => {\n      console.log('ERROR',e)\n\n\nif (t > 60) { t = t*0.5*1000 }\nelse { t = t*1000 }\n\nvar vix = setInterval(() => {\n\n    axios.get(urlx).then(res=> {\n      console.log('VIDEO GENERATED NOW', res)\n\n\n// a.setAttribute('download', res.data)\nvar a = document.createElement('a');\n// a.target = '_blank';\na.href = dvid;\n// a.style.display = 'none';\n// document.getElementById('subdiv').appendChild(a); // Required for Firefox\na.click(); \n\ndocument.getElementById(\"downopt\").style.display = 'flex'\ndocument.getElementsByClassName(\"download_\")[0].style.display = 'none'\n\nclearInterval(vix)\n\n\n    }).catch(err=> console.log('ERRORR! in setInterval', err)) //close urlx\n\n}, t) //close interval\n\n\n    })\n\n\n\nlocalStorage.setItem('render', \"1\")\nreturn dvid\n \n}\n\n\n\n\n\n \n\n","\nimport './navbarhome.css';\n\nimport React, { useState,useEffect } from 'react';\n\nimport {login, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\n\nimport {connect} from 'react-redux';\n\nfunction Navhome(props) {\n\n\n    useEffect(() => {\ndocument.getElementById('login').addEventListener('click', (e) => {\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        login(e,props)\n}\n);\n\n}) //useEffect\n\n\treturn (\n\t\t<div>\n\n\n\t\t<nav className=\"navbar navbar-inverse navbar-fixed-top home-fixed-top\" role=\"navigation\">\n    <div className=\"container\">\n\n        <div className=\"navbar-header\">\n            <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\"\n                    data-target=\"#bs-example-navbar-collapse-1\">\n\n                <span className=\"sr-only\">Toggle navigation</span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n\n            </button>\n            <a className=\"navbar-brand\" href={window.location.origin}>\n                <button className=\"CB\">TurtleClip</button> \n            </a>\n\n            <div id=\"google_translate_element\"></div>\n        </div>\n\n        <div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul className=\"nav navbar-nav navbar-right home-list\">\n                <li><a href=\"pricing\">PRICING</a></li>\n                <li><a id=\"login\" className=\"signup\">LOG IN</a></li>\n            </ul>\n        </div>\n    </div>\n</nav>\n\n\n\t\t</div>\n\n\t\t)\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nNavhome.displayName = \"Navhome\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Navhome));\n","import React, {useEffect} from 'react';\nimport './imagecomparison.scss';\nimport original from './img/original.png';\nimport modified from './img/modified.png';\n\n// import {beforeAfter} from './before-after';\n/* global $ */\n\nfunction moveDivisor() {\n\n  var divisor = document.getElementById(\"divisor\"),\n    handle = document.getElementById(\"handle\"),\n    slider = document.getElementById(\"xslider\");\n\n    slider.value = parseFloat(slider.value)\n\n    console.log('slider', slider.value)\n  handle.style.left = slider.value+\"%\";\n  divisor.style.width = slider.value+\"%\";\n}\n\n\nfunction Imagecomparison(props){\n\n \nuseEffect(() => {\n  try {\n  // window.onload = function() {\n\n  if (document.getElementById(\"xslider\")) moveDivisor();\n\n\tvar slider = document.getElementById(\"xslider\");\n\tslider.addEventListener(\"input\", function(e){\n\tmoveDivisor();\n  })\n  // };\n\n} catch {}\n\n},[])\n\n\n\n\t\t// $('.ba-slider').beforeAfter();\n\nreturn (\n\n<div className=\"split2 xcontainer\">\n  <div id=\"comparison\">\n    <figure>\n      <div id=\"handle\"></div>\n      <div id=\"divisor\"></div>\n    </figure>\n    <input type=\"range\" min=\"0\" max=\"100\" value=\"50\" id=\"xslider\" onInput=\"moveDivisor()\" />\n  </div>\n </div>\n)}\n\nImagecomparison.displayName = \"Imagecomparison\";\nexport default React.memo(Imagecomparison);","import axios from 'axios'; \n\nimport {checkSub} from './utils';\n\nexport const onfiledrop = function(name, file, props, file_drop) {\n    console.log('PROPS onfiledrop', props)\n    // console.log(props.props.boxes2)\n\n    if(props.boxes2) {\n        while(props.boxes2.length) {\n            props.pop_boxes(0)\n        }\n        props.invalidate(false);\n    }\n\n    localStorage.setItem('nBox', 0)\n\n\n    // props.props.boxes2 \n\n    // console.log('!!PROPS onfiledrop', props.state.uid)\n\n    var uid = localStorage.getItem(\"uid\")\n    var pic = localStorage.getItem(\"pic\")\n    var subscribe = localStorage.getItem(\"subscribe\")\n    var email = localStorage.getItem('email')\n\n    var pa = document.getElementsByClassName(\"up-try\")[0]\n\n    console.log('LOCAL STORAGE BEFORE CLEAR', localStorage)\n\n    localStorage.clear()\n\n    if(uid) localStorage.setItem(\"uid\", uid)\n    if(uid && pic) localStorage.setItem(\"pic\", pic)\n    if(uid && subscribe) localStorage.setItem(\"subscribe\", subscribe)\n    if(uid && email) localStorage.setItem('email', email)\n\n    localStorage.setItem(\"reload\", \"0\")\n// myDropzone.on(\"selectedfiles\", function(files, done) {\n  // Add default option box for each preview.\n  // var defaultRadioButton = Dropzone.createElement('<div class=\"default_pic_container\"><input type=\"radio\" name=\"default_pic\" value=\"'+file.name+'\" /> Default</div>');\n  // file.previewElement.appendChild(defaultRadioButton);\n    localStorage.setItem(\"progress\", 0)\n\n\n    // var file = files[0]\n    console.log('addedfile', file) \n    localStorage.setItem('filename', name)\n    var r = {}\n    // r['meta'] = [{'start_time': '00:00.000', 'end_time': '00:00.14', 'words': ' '}];\n    r['meta'] = [{'start_time': '', 'end_time': '', 'words': ''}];\n\n    var m = [{'start_time': '', 'end_time': '', 'words': ''}];\n    localStorage.setItem('meta', JSON.stringify(m))\n    var s = ['','','','','']\n    localStorage.setItem('seekbar', JSON.stringify(s))\n    localStorage.setItem('substyle', JSON.stringify(s))\n\n\n    // to show the subtitles or the button\n    localStorage.setItem(\"showSub\", \"0\")\n\n\n\n\n    localStorage.setItem('subx', JSON.stringify([]));\n    localStorage.setItem('en', JSON.stringify([]));\n    localStorage.setItem('strt', JSON.stringify([]));\n    localStorage.setItem('head', 'ADD HEADING HERE!!')\n\n    // r['meta'] = [{}];\n    // var u = 'xx1MzPY9';\n    var u = Date.now().toString();\n    r[\"uuid\"] = u;\n    localStorage.setItem('uuid', u);\n\n//     props.props.history.push({\n//     pathname: `/vidx/${u}`,\n//     state: { vid: r }\n// })\n\n    var video = document.createElement('video');\n    video.preload = 'metadata';\n    video.autoplay = 'true';\n    pa.append(video);\n    video.style.zIndex = -100\n    \n    localStorage.setItem(\"Yes\", 'false');    \n\n    video.onloadedmetadata = function() {\n\n    try {\n\n    window.URL.revokeObjectURL(video.src);\n\n    // in secs - 6.025 secs\n    var d = video.duration;\n\n// 20*60*1000 milisec == 20 mins\n\n    var csub = checkSub()\n// if subscribed and > 20 minutes\n    if( csub && parseFloat(d)*1000 > 1200000 ) { \n\n        video.remove();\n\n        file_drop.disabled = false;\n      \n      alert(\"Video should be 20 minutes or less\\n\\nTurtleclip currently accepts only videos that meet the following criteria:\\nis less than 1.0 GiB\\nis 20 minutes or less in duration\")\n\n      throw 'Video is too long.'\n \n} \n\n\n// if not subscribed and > 8 minutes = 8*60*1000\n    if( !csub && parseFloat(d)*1000 > 480000 ) { \n\n        video.remove();\n\n        file_drop.disabled = false;\n      \n      alert(\"Video should be 8 minutes or less. Upgrade to PRO for longer uploads\")\n\n      throw 'Video is too long.'\n \n} \n    \n    var h = video.offsetHeight + 'px';\n    var w = video.offsetWidth + 'px';\n    video.display = 'none';\n    video.muted = true;\n\n    try {\n\n    if (document.getElementById(\"alert\").style.display = \"block\") {\n        var replace=1\n    }\n        document.getElementById(\"alert\").style.display = \"none\"\n    } catch {}\n    \n    // document.getElementById(\"dropping\").removeChild(video);\n\n    console.log('dropstate', props)\n    // props.props.setState({...props.props.state, duration: d, height: h })\n\n    localStorage.setItem('duration',d)\n    localStorage.setItem('height',h)\n    localStorage.setItem('width',w)\n\n    r['height'] = parseFloat(h)\n    r['width'] = parseFloat(w)\n    r['duration'] = d\n    r['yes']  = 'false';\n\n\n    if(replace) {\n\n        props.history.replace({\n        pathname: `/vidx/${u}`,\n        state: { vid: r }\n     })\n\n    } else {\n        props.history.push({\n        pathname: `/vidx/${u}`,\n        state: { vid: r }\n    })\n}\n\n    document.getElementById(\"lang\").style.display = \"block\"\n\n    console.log(\"!!!!!! NEW URL HAS BEEN PUSHED!!!!!!!!\")\n    console.log('xxvidxx', window.location)\n    console.log('subx', JSON.parse(localStorage.getItem('subx')));\n    // var progressBar = createProgress(file.name)\n\n    var previewEl = document.getElementById(\"vid1\")\n    previewEl.src = URL.createObjectURL(file);\n\n} catch(e) { console.log(e, '!!! ONFILEDROP !!!'); }\n\n  }\n\n    video.src = URL.createObjectURL(file);\n\n//    var previewEl = $(\"video#vid1\");\n\n//    if (previewEl[0].canPlayType(file.type) !== \"no\"){\n//       var fileURL = URL.createObjectURL(file);\n// }\n      \n};\n","\n/*\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n\n/* global $ */\nimport {onfiledrop} from './onfiledrop';\nimport axios from 'axios'; \nimport {checkSub} from './utils';\n \n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\nvar hexcase = 0;   /* hex output format. 0 - lowercase; 1 - uppercase        */\nvar b64pad  = \"=\";  /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n\n\n/*\n * These are the functions you'll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\nfunction hex_md5(s)    { return rstr2hex(rstr_md5(str2rstr_utf8(s))); }\nfunction b64_md5(s)    { return rstr2b64(rstr_md5(str2rstr_utf8(s))); }\nfunction any_md5(s, e) { return rstr2any(rstr_md5(str2rstr_utf8(s)), e); }\nfunction hex_hmac_md5(k, d)\n  { return rstr2hex(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction b64_hmac_md5(k, d)\n  { return rstr2b64(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction any_hmac_md5(k, d, e)\n  { return rstr2any(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)), e); }\n\n/*\n * Perform a simple self-test to see if the VM is working\n */\nfunction md5_vm_test()\n{\n  return hex_md5(\"abc\").toLowerCase() == \"900150983cd24fb0d6963f7d28e17f72\";\n}\n\n/*\n * Calculate the MD5 of a raw string\n */\nfunction rstr_md5(s)\n{\n  return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n}\n\n/*\n * Calculate the HMAC-MD5, of a key and some data (raw strings)\n */\nfunction rstr_hmac_md5(key, data)\n{\n  var bkey = rstr2binl(key);\n  if(bkey.length > 16) bkey = binl_md5(bkey, key.length * 8);\n\n  var ipad = Array(16), opad = Array(16);\n  for(var i = 0; i < 16; i++)\n  {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5C5C5C5C;\n  }\n\n  var hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n  return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n}\n\n/*\n * Convert a raw string to a hex string\n */\nfunction rstr2hex(input)\n{\n  // try { hexcase } catch(e) { hexcase=0; }\n  hexcase = 0;\n  var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n  var output = \"\";\n  var x;\n  for(var i = 0; i < input.length; i++)\n  {\n    x = input.charCodeAt(i);\n    output += hex_tab.charAt((x >>> 4) & 0x0F)\n           +  hex_tab.charAt( x        & 0x0F);\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to a base-64 string\n */\nfunction rstr2b64(input)\n{\n  // try { b64pad } catch(e) { b64pad=''; }\n  if (b64pad == \"=\") {} else { b64pad=''; } \n  var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var output = \"\";\n  var len = input.length;\n  for(var i = 0; i < len; i += 3)\n  {\n    var triplet = (input.charCodeAt(i) << 16)\n                | (i + 1 < len ? input.charCodeAt(i+1) << 8 : 0)\n                | (i + 2 < len ? input.charCodeAt(i+2)      : 0);\n    for(var j = 0; j < 4; j++)\n    {\n      if(i * 8 + j * 6 > input.length * 8) output += b64pad;\n      else output += tab.charAt((triplet >>> 6*(3-j)) & 0x3F);\n    }\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to an arbitrary string encoding\n */\nfunction rstr2any(input, encoding)\n{\n  var divisor = encoding.length;\n  var i, j, q, x, quotient;\n\n  /* Convert to an array of 16-bit big-endian values, forming the dividend */\n  var dividend = Array(Math.ceil(input.length / 2));\n  for(i = 0; i < dividend.length; i++)\n  {\n    dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n  }\n\n  /*\n   * Repeatedly perform a long division. The binary array forms the dividend,\n   * the length of the encoding is the divisor. Once computed, the quotient\n   * forms the dividend for the next step. All remainders are stored for later\n   * use.\n   */\n  var full_length = Math.ceil(input.length * 8 /\n                                    (Math.log(encoding.length) / Math.log(2)));\n  var remainders = Array(full_length);\n  for(j = 0; j < full_length; j++)\n  {\n    quotient = Array();\n    x = 0;\n    for(i = 0; i < dividend.length; i++)\n    {\n      x = (x << 16) + dividend[i];\n      q = Math.floor(x / divisor);\n      x -= q * divisor;\n      if(quotient.length > 0 || q > 0)\n        quotient[quotient.length] = q;\n    }\n    remainders[j] = x;\n    dividend = quotient;\n  }\n\n  /* Convert the remainders to the output string */\n  var output = \"\";\n  for(i = remainders.length - 1; i >= 0; i--)\n    output += encoding.charAt(remainders[i]);\n\n  return output;\n}\n\n/*\n * Encode a string as utf-8.\n * For efficiency, this assumes the input is valid utf-16.\n */\nfunction str2rstr_utf8(input)\n{\n  var output = \"\";\n  var i = -1;\n  var x, y;\n\n  while(++i < input.length)\n  {\n    /* Decode utf-16 surrogate pairs */\n    x = input.charCodeAt(i);\n    y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n    if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\n    {\n      x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n      i++;\n    }\n\n    /* Encode output as utf-8 */\n    if(x <= 0x7F)\n      output += String.fromCharCode(x);\n    else if(x <= 0x7FF)\n      output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0xFFFF)\n      output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0x1FFFFF)\n      output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n                                    0x80 | ((x >>> 12) & 0x3F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n  }\n  return output;\n}\n\n/*\n * Encode a string as utf-16\n */\nfunction str2rstr_utf16le(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode( input.charCodeAt(i)        & 0xFF,\n                                  (input.charCodeAt(i) >>> 8) & 0xFF);\n  return output;\n}\n\nfunction str2rstr_utf16be(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n                                   input.charCodeAt(i)        & 0xFF);\n  return output;\n}\n\n/*\n * Convert a raw string to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\nfunction rstr2binl(input)\n{\n  var output = Array(input.length >> 2);\n  for(var i = 0; i < output.length; i++)\n    output[i] = 0;\n  for(var i = 0; i < input.length * 8; i += 8)\n    output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (i%32);\n  return output;\n}\n\n/*\n * Convert an array of little-endian words to a string\n */\nfunction binl2rstr(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length * 32; i += 8)\n    output += String.fromCharCode((input[i>>5] >>> (i % 32)) & 0xFF);\n  return output;\n}\n\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\nfunction binl_md5(x, len)\n{\n  /* append padding */\n  x[len >> 5] |= 0x80 << ((len) % 32);\n  x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n  var a =  1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d =  271733878;\n\n  for(var i = 0; i < x.length; i += 16)\n  {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n\n    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);\n    d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);\n    c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);\n    b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);\n    a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);\n    d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);\n    c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);\n    b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);\n    a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\n    d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);\n    c = md5_ff(c, d, a, b, x[i+10], 17, -42063);\n    b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);\n    a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);\n    d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);\n    c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);\n    b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);\n\n    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);\n    d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\n    c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);\n    b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);\n    a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);\n    d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);\n    c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);\n    b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);\n    a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\n    d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);\n    c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);\n    b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);\n    a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);\n    d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);\n    c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);\n    b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);\n\n    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);\n    d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);\n    c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);\n    b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);\n    a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\n    d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);\n    c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);\n    b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);\n    a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);\n    d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);\n    c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);\n    b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);\n    a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);\n    d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);\n    c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);\n    b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);\n\n    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);\n    d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);\n    c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);\n    b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);\n    a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);\n    d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);\n    c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);\n    b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);\n    a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\n    d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);\n    c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);\n    b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);\n    a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);\n    d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);\n    c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);\n    b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);\n\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n  }\n  return Array(a, b, c, d);\n}\n\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\nfunction md5_cmn(q, a, b, x, s, t)\n{\n  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);\n}\nfunction md5_ff(a, b, c, d, x, s, t)\n{\n  return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\nfunction md5_gg(a, b, c, d, x, s, t)\n{\n  return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\nfunction md5_hh(a, b, c, d, x, s, t)\n{\n  return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n}\nfunction md5_ii(a, b, c, d, x, s, t)\n{\n  return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\nfunction safe_add(x, y)\n{\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\nfunction bit_rol(num, cnt)\n{\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n\n\n\nexport const flask_multipart =  function(props, fileInput) {\n  const CHUNK_SIZE = 50 * 1024 * 1024; //50 MB\n  const uploadIdRegex = /<UploadId>(.*)<\\/UploadId>/;\n  \n  // const fileInput = document.getElementById('file-input');\n\n  \n  /*\n   * Utilities\n   */\n  const md5 = (fileName, blob) => \n    new Promise((resolve) => {\n      const fr = new FileReader();\n\n      fr.addEventListener('loadend', () => {\n        const sum = rstr2b64(rstr_md5(fr.result));\n        resolve(sum);\n      });\n\n      fr.readAsBinaryString(blob);\n    });\n\n  const serial = (items, callback) =>\n    items.reduce((promise, item) =>\n      promise.then(async () => {\n        await callback(item);\n      }) \n      , Promise.resolve());\n\n  /*\n    * Progress Bar\n    */ \n\n  const createProgress = filename => {\n\n    localStorage.setItem('filename', filename)\n     \n    let v = document.getElementById('vcolumn')\n\n    const fileProgressContainer = v.getElementsByClassName('file-progress-container')[0];\n\n\n    const progressElem = document.createElement('div');\n    progressElem.classList.add('file-progress');\n\n    const progressBarElem = document.createElement('div');\n    progressBarElem.classList.add('file-progress-bar');\n    // progressBarElem.textContent = fileName;\n    progressElem.appendChild(progressBarElem);\n\n    fileProgressContainer.appendChild(progressElem);\n\n    document.getElementById(\"askSubText\").style.display = 'block';\n    // document.getElementsByClassName(\"Mpbar\")[0].style.display = \"block !important\";\n    document.getElementsByClassName(\"waitSub\")[0].style.opacity = 0.5;\n\n\n    console.log('create progress', progressElem, fileProgressContainer)\n    return progressBarElem;\n  }\n\n  const updateProgress = (progressBar, fileName, current, total) => {\n\n    // const percent = ((current/total) * 100).toFixed(2) + '%';\n    const percent = ((current/total) * 100).toFixed(0) + '%';\n\n    console.log('current progress', current)\n    // progressBar.style.width = percent;\n\n    const currentMb = (current / (1024 * 1024)).toFixed(2);\n    const totalMb = (total / (1024 * 1024)).toFixed(2);\n\n    // progressBar.textContent = `${fileName} - ${percent} (${currentMb} MB of ${totalMb} MB)`;\n    // progressBar.textContent = `${percent} \\\\n uploading your video`;\n    // progressBar.innerHTML = `${percent} <br> uploaded`;\n    progressBar.innerHTML = `${percent} uploaded`;\n  };\n\n  const errorProgress = (progressBar, fileName, error) => {\n    progressBar.classList.add('error');\n    progressBar.textContent = `${fileName} - ${error}`;\n  }\n\n  const completeProgress = (progressBar, fileName, props) => {\n    // progressBar.style.width = \"100%\";\n    // progressBar.textContent = `${fileName} - Done`;\n    progressBar.textContent = 'upload done';\n    localStorage.setItem(\"progress\", 1)\n\n    var name = fileName\n    localStorage.setItem('filename', name)\n          \n    localStorage.setItem('vid', 'https://d2wxuz9jomxjzh.cloudfront.net/' + name)\n    document.getElementById(\"askSubText\").style.display = 'none'\n    document.getElementsByClassName(\"Mpbar\")[0].style.display = \"none !important\";\n    document.getElementsByClassName(\"waitSub\")[0].style.opacity = 1;\n\n// generate sub if video upload = 100% and lang selected as well\n    if(localStorage.getItem('lang')) { \n      document.getElementsByClassName('waitSub')[0].click() \n    }\n  \n  }\n\n  /*\n   * Get Signed URLs\n   */\n\n  const getCreateUrl = async key => {\n    // current url + '/create_multipart_upload'\n  //   const url = new URL('create_multipart_upload', window.location.origin);\n  //   // console.log('getCreateUrl 0', url)\n  //   url.searchParams.append('key', key);\n\n  //   // console.log('getCreateUrl1', url)\n  //   // url = new URL('https://timbnxgena.execute-api.us-west-2.amazonaws.com/default');\n  //   // url.searchParams.append('key', key);\n\n  //   const response = await fetch(url);\n  // //   // console.log('response', response, 'body', response.body )\n\n  //   debugger\n\n  //   const { url: createUrl } = await response.json();\n  //   const { url: createUrl } = await response.json();\n\n    const url = 'https://timbnxgena.execute-api.us-west-2.amazonaws.com/default/create_multipart_upload?key=' + key\n    // console.log('getCreateUrl2', url)\n\n    const response = await axios.get(url)\n\n    // debugger\n    // const createUrl = await response.data;\n    \n    // debugger\n\n    // .then((response) => {\n    //     console.log('axios res get', response, response.data)\n\n    // const {url: createUrl} = await new URL(response.data);\n    // const {url: href} = await new URL(response.data);\n\n    // console.log('getCreateUrl3', createUrl)\n    // return createUrl;\n\n    //   })\n\n\n  //   const response = await fetch(url);\n  // //   // console.log('response', response, 'body', response.body )\n\n  //   const { url: createUrl } = await response.json();\n  // //   const { url: createUrl } = await response.json();\n\n    // console.log('getCreateUrl3', createUrl)\n    \n\n    // return createUrl;\n    return response.data;\n  };\n\n\n\n  const getUploadPartUrl = async (key, uploadId, part_number, contentMd5, contentLength) => {\n\n    // const url = new URL('upload_part', window.location.origin);\n\n    // console.log('raw url', url)\n    // url.searchParams.append('key', key);\n    // url.searchParams.append('upload_id', uploadId);\n    // url.searchParams.append('part_number', part_number);\n    // url.searchParams.append('content_md5', contentMd5);\n    // url.searchParams.append('content_length', contentLength);\n\n\n    // console.log('part  url', url)\n    // console.log('href', url.href)\n    // console.log('params', key, 'id', uploadId, 'part_number', part_number, 'md5', contentMd5, 'length',contentLength)\n\n    // const response = await fetch(url);\n    // const { url: uploadPartUrl } = await response.json();\n\n    // console.log('uploadPart  url', uploadPartUrl)\n\n    // return uploadPartUrl;\n\n\n    // const url = 'https://i2ijo9uwz8.execute-api.us-west-2.amazonaws.com/default/upload_part?key=' + key + '&upload_id=' + uploadId + '&part_number=' + part_number + '&content_md5=' + contentMd5 + '&content_length=' + contentLength; \n\n    const xx = 'https://i2ijo9uwz8.execute-api.us-west-2.amazonaws.com/default/'\n    const url = new URL('upload_part', xx)\n\n    url.searchParams.append('key', key);\n    url.searchParams.append('upload_id', uploadId);\n    url.searchParams.append('part_number', part_number);\n    url.searchParams.append('content_md5', contentMd5);\n    url.searchParams.append('content_length', contentLength);\n\n\n    const response = await axios.get(url)\n\n    return response.data\n\n\n  };\n\n\n\n  const getCompleteUrl = async (key, uploadId) => {\n    // const url = new URL('complete_multipart_upload', window.location.origin);\n    // url.searchParams.append('key', key);\n    // url.searchParams.append('upload_id', uploadId);\n\n    // const response = await fetch(url);\n    // const { url: completeUrl } = await response.json();\n\n    // return completeUrl;\n\n    // const url = 'https://mg863zpxw6.execute-api.us-west-2.amazonaws.com/default/complete_multipart_upload?key=' + key + '&upload_id=' + uploadId\n\n    const xx = 'https://mg863zpxw6.execute-api.us-west-2.amazonaws.com/default/'\n    const url = new URL('complete_multipart_upload', xx)\n\n    url.searchParams.append('key', key);\n    url.searchParams.append('upload_id', uploadId);\n\n    const response = await axios.get(url)\n\n    return response.data\n\n\n  };\n\n  /*\n   * Make S3 Requests\n   */\n\n  const createUpload = async url => {\n    \n    console.log('UPLOAD URL', url)\n\n    const response = await fetch(url, {\n      method: 'POST',\n    });\n\n    if(response.status != 200) {\n      throw \"Create upload status code \" + response.status;\n    }\n\n    const text = await response.text();\n    return uploadIdRegex.exec(text)[1];\n  }\n\n  const uploadPart = (url, blob, contentMd5, progressCallback) => \n    new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.upload.onprogress = (event) => {\n        const done = event.position || event.loaded;\n\n        progressCallback(done);\n      };\n\n      xhr.onreadystatechange = (event) => {\n        if (xhr.readyState == 4) {\n          if(xhr.status == 200) {\n            resolve(xhr.getResponseHeader('ETag'));\n          } else {\n            reject('Part upload status code ', xhr.status);\n          }\n        }\n      };\n\n      console.log('PART URL', url)\n\n      xhr.open('PUT', url, true);\n      xhr.setRequestHeader('Content-MD5', contentMd5);\n      xhr.send(blob);\n    });\n\n  const completeUpload = async (url, parts) => {\n    let body = '<CompleteMultipartUpload xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\">';\n    Object.keys(parts).forEach(partNumber => {\n      body += `\n        <Part>\n          <ETag>${parts[partNumber]}</ETag>\n          <PartNumber>${partNumber}</PartNumber>\n        </Part>\n      `;\n    });\n    body += '</CompleteMultipartUpload>';\n\n    const response = await fetch(url, {\n      method: 'POST',\n      body,\n    });\n\n    if(response.status != 200) {\n      throw \"Complete upload status code \" + response.status;\n    }\n\nvar uid = localStorage.getItem(\"uid\")\n\n//  add file to user row in table\nif(uid) {\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\nconsole.log('geturl', geturl)\naxios.get(geturl).then(res => {\n  var jsn\n  var render\n  //  if no user data OR jsonpath is empty\n  if(!res.data.Item || !res.data.Item.jsonpath || !res.data.Item.jsonpath.S ) {\n      jsn = localStorage.getItem('filename')\n      render = '0'\n  } else {\n      jsn = res.data.Item.jsonpath.S + ',' + localStorage.getItem('filename')\n      render = res.data.Item.render.S\n  }\n\n  // check if the uploaded file is already in the list, obviosuly it will not!!!\n  // if(!jsn.includes(localStorage.getItem('filename'))) {\n\n  var url = 'https://g9163efqhh.execute-api.us-west-2.amazonaws.com/default/create_CRUD_table?uid=' + uid + '&jsonpath='+ jsn + '&email=' + localStorage.getItem('email') + '&render=' + render\n  axios.put(url).then((res) => {console.log('File added in table SUCCESS', res)}).catch(err => console.log(err))\n// } \n\n}).catch(err => console.log(err))\n}\n\n\n\n  };\n\n  /*\n   * Event Handlers\n   */\n\n  const onFileChange = async ({ target: { files } }) => {\n    // event.preventDefault();\n\n\n\n\n    localStorage.setItem(\"progress\", 0)\n\n    console.log('flask multipart props', props)\n    console.log('props 2', props.history)\n\n    // files[0].name = files[0].name.replace(/ /g, '')\n    // if user is not logged in => home.js\n    // if user is logged in but not subscribed => home/workspace/alert < 50MB\n    // if user is logged and subscribed => home/workspace/alert < 1GB\n\n    // if(localStorage.getItem('uid'))\n\n   var csub = checkSub()\n// if file > 1 GB\n    if( csub && files[0].size > 1073741274 ) { \n\n      alert(\"Video should be less than 1 GB\\n\\nTurtleclip currently accepts only videos that meet the following criteria:\\n\\nis less than 1.0 GiB\\nis 20 minutes or less in duration\")\n\n      throw 'Video is too long.'\n \n} \n\n// if not subscribed and > file > 50 MB \n//     if( !csub && files[0].size > 52428800 ) { \n      \n//       alert(\"Video should be less than 50 MB. Upgrade to PRO for larger uploads\")\n\n//       throw 'Video is too long.'\n \n// }\n\n    const k = Date.now() + '_' + files[0].name.replace(/[`~!@#$%^&*()_|+\\-=?;:'\",<>\\{\\}\\[\\]\\\\\\/ ]/gi, '');\n\n    onfiledrop(k, files[0], props, fileInput);\n\n    fileInput.disabled = true;\n\n\n    serial(\n      Array.from(files).map(file => ({\n        file: file,\n        // progressBar: createProgress(file.name),\n      })),\n      // async ({ file, progressBar }) => {\n      async ({ file }) => {\n        try {\n\n\n\n          // var u = '3x456mKzu'\n          // var r = {};\n          // props.props.history.push({\n          //     pathname: `/vidx/${u}`,\n          //     state: { vid: r }\n          // })\n\n          // var previewEl = $(\"video#vid1\");\n          // previewEl[0].src = URL.createObjectURL(file);\n\n          // var video = document.createElement('video');\n          // video.preload = 'metadata';\n          // video.autoplay = 'true';\n          // document.getElementById(\"dropping\").append(video);\n          // video.src = URL.createObjectURL(file);\n\n          // const k = Date.now() + '_' + file.name;\n\n          // const createUrl = await getCreateUrl(file.name);\n          // debugger\n          const createUrl = await getCreateUrl(k);\n\n          console.log(\"created URL\", createUrl);\n          console.log('file size', file.size, 'chunk size', CHUNK_SIZE);\n          const uploadId = await createUpload(createUrl);\n\n          var progressBar = createProgress(k)\n\n    console.log('creating progress now ', progressBar)\n          const parts = {};\n          var part; \n          var etag;\n          let partNumber = 1;\n          let i = 0;\n          while (i < file.size) {\n            updateProgress(progressBar, k, i, file.size);\n\n            console.log('progressBar', progressBar)\n\n            part = file.slice(i , i + CHUNK_SIZE);\n            const contentLength = part.size;\n            console.log('content-length', contentLength)\n\n            const contentMd5 = await md5(k, part);\n\n            const partUrl = await getUploadPartUrl(\n              k, uploadId, partNumber, contentMd5, contentLength\n            );\n\n            console.log(\"part URL\", partUrl);\n            etag = await uploadPart(partUrl, part, contentMd5, partProgress => {\n              updateProgress(progressBar, k, i + partProgress, file.size);\n            });\n\n            parts[partNumber] = etag;\n\n            partNumber += 1;\n            i += CHUNK_SIZE;\n          }\n\n          const completeUrl = await getCompleteUrl(k, uploadId);\n          console.log(\"completed URL\", completeUrl);\n          await completeUpload(completeUrl, parts);\n     \n          completeProgress(progressBar, k, props);\n\n          fileInput.disabled = false;\n        }\n        catch (error) {\n\n          try{\n          errorProgress(progressBar, k, error);\n        } catch(e) { console.log(e) }\n        }\n      });\n\n\n  };\n\n\n  fileInput.addEventListener('change', onFileChange);\n  \n\n}\n","\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Navhome from './navbarhome';\nimport './home.css';\nimport Imagecomparison from './imagecomparison';\n\nimport {connect} from 'react-redux';\n\n\n// import Stripex from './stripex';\n\n// import TakeMoney from './stripecheckoutpage';\n\n// import {checkout} from './striperedirect';\n\n// import './stripex.js';\nimport pop from './full.jpeg';\n// import popx from './pop1.png';\n\n\n// import progress from \"progress-stream\"; \n// import axios from 'axios'; \n\n// import {strToMili} from './utils';\n// import Landingpage from './landingpage';\n// import Headers from './headers';\n\n// import Drop from './dropzonecode.js';\n// import Dropx from './notrimdropzonecode.js';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\n// import './md5.js';\n// import Excel2 from './excel2';\n// import {uploadVideos} from './bulkupload';\n\n// import './excel2.css';\n// import {OutTable, ExcelRenderer} from 'react-excel-renderer';\n// import {OutTable, ExcelRenderer} from './excel3';\n// import { Jumbotron, Col, Input, InputGroup, InputGroupAddon, FormGroup, Label, Button, Fade, FormFeedback, Container, Card } from 'reactstrap';\n\n// import {uploadVideos} from './bulkupload';\n\n\n/* global $ */\n\n// var WebTorrent = require('webtorrent')\n// var WebxTorrent = require('webtorrent-hybrid')\n\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log('history',props)\n\n    this.state = {\n      imageURL: '',\n      videoname: '',\n      fileprogess:null,\n      isOpen: false,\n      dataLoaded: false,\n      isFormInvalid: false,\n      rows: null,\n      cols: null\n    };\n\n    // this.handleUploadImage = this.handleUploadImage.bind(this);\n    // this.cutClip = this.cutClip.bind(this);\n\n    this.fileInput = React.createRef();\n\n\n\n  }\n\n\n\n\ncomponentDidMount() {\n\n  document.title = 'TurtleClip | Add Subtitles, Text To Video For Free';\n\n\n// if user already signed in\n      var user_id = localStorage.getItem('uid')\n      \n      if (user_id) {\n\n        var d = {}\n        d['uid'] = user_id\n\n        this.props.history.push({\n          pathname: `/workspace/${user_id}`\n          ,\n          state: { videos: d }\n    })\n\n// if there is no uid - there should be no info on subscribe, pic, email\n      } else {\n        localStorage.removeItem('subscribe')\n        localStorage.removeItem('pic')\n        localStorage.removeItem('email')\n      }\n\n      flask_multipart(this.props, document.getElementById('file-home'))\n\n\n//  on GET json\n\n// // var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n// var fname = 'dataa.json'\n// var url = 'https://la04iscxs9.execute-api.us-west-2.amazonaws.com/default/json_from_s3?key=' + fname\n// axios.get(\"/s3JsonBucketGet?key=dataa.json\").then((res) => {\n//    console.log('GET', res.data)\n// var x = res.data\n// var ks = Object.keys(x)\n// for (var i=0; i<ks.length; i++) {\n//     localStorage.setItem(ks[i], x[ks[i]])\n// }\n// }).catch(err => {console.log('json GET ERROR', err)})\n\n\n\n//  if user is logged in\n// var url = 'https://g9163efqhh.execute-api.us-west-2.amazonaws.com/default/create_CRUD_table?uid=' + 1234 + '&jsonpath=' + 'output_123.mp4,hello_435.mp4'\n// axios.put(url).then((res) => {console.log('create table SUCCESS', res)}).catch(err => console.log(err))\n\n\n\n// // add filename to table, if loggedin\n\n// var geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + 1234;\n// axios.get(geturl).then(res => {\n//   console.log('GET Table data', res.data.Item.jsonpath.S) \n//   var jsn = res.data.Item.jsonpath.S\n//   // check if the uploaded file is already in the list, obviosuly it will not!!!\n//   if(!jsn.includes(localStorage.getItem('filename'))) {\n//      jsn = jsn + ',' + localStorage.getItem('filename')\n\n//   var url = 'https://g9163efqhh.execute-api.us-west-2.amazonaws.com/default/create_CRUD_table?uid=' + 1234 + '&jsonpath='+ jsn\n//   axios.put(url).then((res) => {console.log('create table SUCCESS', res)}).catch(err => console.log(err))} \n// })\n\n\n\n\n}\n\n// // export default withRouter(Home);\n\n  // <div id=\"sample\">\n  //   <span className=\"sample\"> Or, try sample</span>\n  // </div>       \n\n      // <Imagecomparison />\n      // <img className=\"popcliphome\" src={pop} />\n            \n                        \n  render() {\n    return (\n      <div>\n      <Navhome props={this.props} />\n\n\n<div className=\"splitscreen\">\n\n  <div className=\"split1\">\n    <div style={{'marginTop': '0'}}>\n        <div className='Jumbotron-button'> \n          Increase views, engagement and completion rate on Videos\n        </div>\n\n        <div className=\"subtext\">\n          <div className='jumbo-2'> \n            Add auto-generated subtitles, text, heading, progress bar, resize videos, style and position text to the video\n            <br />\n            <br />\n\n            Online Audio Transcription in 30 languages: English, Spanish, German, Russian, Chinese, Korean, Portuguese and others.\n\n          </div>    \n        </div>\n\n\n    </div>\n    \n    <div className=\"no_accnt\">No credit card required</div> \n    <div className=\"up-try\">\n      <div className=\"file-chooser\">\n        <label for=\"file-home\" className=\"custom-file-upload\">\n            Upload a Video\n        </label>\n        <input id=\"file-home\" type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n  </div>\n   \n<Imagecomparison />\n</div> \n   \n<img id=\"home_full\" src={pop} />\n\n<div className=\"features\">\n        <div>\n          <div> Auto subtitle </div>\n          <p>Once you uplaod a video, subtitles are automatically generated using AI. 85% users watch videos on mute. Adding subtitles will result in users watching full video.   </p>\n        </div>\n        <div>\n          <div> Add Top Heading </div>\n          <p>Add Heading on top of video, and style it </p>\n        </div>\n        <div>\n          <div> Add Text on Video </div>\n          <p> Put multiple texts anywhere on top of your video </p>\n        </div>\n        <div>\n          <div> Add Progress Bar </div>\n          <p> A progress bar will be automatically added to the video. </p>\n        </div>\n        <div>\n          <div> Resize video </div>\n          <p> You can resize the video to 9:16, 16:9, 4:5 dimensions suited for different social media platforms easily. </p>\n        </div>\n        <div>\n          <div> Style subtitles </div>\n          <p> You can edit, style and position the subtitles in minutes </p>\n        </div>\n        <div>\n          <div> Multiple languages </div>\n          <p> Subtitles can be generated in multiple different languages </p>\n        </div>\n</div>\n\n\n\n\n\n        \n      \n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nHome.displayName = \"Home\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Home));\n\n\n","\nimport './navbarhome.css';\n\nimport React, { useState,useEffect } from 'react';\n\nimport {login, signOut, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\n\n\n\nfunction Navwork(props) {\n\n\n              const price_path = window.location.origin + '/pricing'\n              const myvideos_path = window.location.origin + '/workspace/' + localStorage.getItem('uid')\n              const pic = localStorage.getItem('pic')\n              console.log('PICTURE', pic);\n\n\n      useEffect(() => {\n\n        document.getElementById(\"navbardrop\").src = pic;\n\n        if(localStorage.getItem('subscribe') == '0' && localStorage.getItem('render') == '1' ) {\n        document.getElementById('upgr').innerText = 'UPGRADE'\n        document.getElementById('upgr').style.backgroundColor = 'yellow'\n      }\n      \n      })\n\n\n\treturn (\n\t\t<div>\n\n\n\t\t<nav className=\"navbar navbar-inverse navbar-fixed-top home-fixed-top\" role=\"navigation\">\n    <div className=\"container\">\n\n        <div className=\"navbar-header\">\n            <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\"\n                    data-target=\"#bs-example-navbar-collapse-1\">\n\n                <span className=\"sr-only\">Toggle navigation</span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n\n            </button>\n            <a className=\"navbar-brand\" href={window.location.origin}>\n                <button className=\"CB\">TurtleClip</button> \n            </a>\n        </div>\n\n        <div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul className=\"nav navbar-nav navbar-right home-list\">\n                <li><a id=\"xmyvideosx\" href={myvideos_path}>MY VIDEOS</a></li>\n                <li><a id=\"upgr\" href={price_path}>PRICING</a></li>\n                <li className=\"nav-item dropdown\">\n                <img className=\"nav-link dropdown-toggle\" alt=\"Account\" id=\"navbardrop\" data-toggle=\"dropdown\" src={pic}>                   \n                </img>\n\n                 <div class=\"dropdown-menu\">\n                    <a onClick={signOut} class=\"signout dropdown-item\">Sign Out</a>\n                 </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</nav>\n\n\n\t\t</div>\n\n\t\t)\n}\n\n\nNavwork.displayName = \"Navwork\";\nexport default React.memo(Navwork);\n","import React from 'react';\n\n/* global $ */\n\n\n// import Video2 from './video2';\n// import Nav from './navbar';\nimport Navwork from './navbarwork';\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\n\nimport './videos.css'\n\nimport axios from 'axios'; \n\nimport {login, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\n\nimport {connect} from 'react-redux';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Workspace extends React.Component {\n\nconstructor(props) {\n    super(props);\n\nthis.state =   {\n      // duration: \"33.9\",\n      // uid: props.location.state.videos.uid,\n      uid: localStorage.getItem('uid'),\n\n      // paths: props.location.state.videos.paths,\n      // vids: props.location.state.videos.vids,\n      // scripts: props.location.state.videos.scripts,\n      // file: 1, \n      // vid:1, \n      // meta: 1,\n      // head: 1, \n      // duration: 1, \n      // // ar: 1, \n      // v:1,\n      // render:'',\n      // color:1,\n\n}\n\nthis.showVideo = this.showVideo.bind(this);\n\n\n}\n\nshowVideo(e) {\n\ndocument.getElementById(\"circleDown\").style.display = 'block'\ndocument.getElementById(\"works\").style.display = 'none'\n// \tvar i = e.target.id \n\n// \tvar file = this.state.paths[i].split('/')[1] \n\t\n// \tvar meta = this.state.scripts[i]\n// \tvar vid = this.state.paths[i]\n\n// \tvar head = this.state.vids[i.toString()]['head']\n// \tvar ar = this.state.vids[i.toString()]['ar']\n// \tvar v = this.state.vids[i.toString()]['v']\n// \tvar duration = this.state.vids[i.toString()]['duration']\n\n//     var data = {\"file\": file, 'vid':vid, \"meta\": meta,\"head\": head, \"duration\": duration, \"ar\": ar, \"v\":v}\n\n//     this.props.history.push({\n//   \t\tpathname: `/video/${data[\"file\"]}`,\n//   \t\tstate: { vid: data }\n// \t})\n\nconsole.log('e.target', e.target)\n// get the json, push it to localstorage\nvar fname = e.target.src.split('.net/')[1].split('.')[0] + '.json'\n\nconsole.log('fname', fname)\n// 'https://d2wxuz9jomxjzh.cloudfront.net/' + fname\n\nvar url = 'https://la04iscxs9.execute-api.us-west-2.amazonaws.com/default/json_from_s3?key=' + fname\n\nconsole.log('url', url)\n\naxios.get(url).then((res) => {\n   console.log('GET', res.data)\nvar x = JSON.parse(res.data)\n\nconsole.log('X',x)\nvar ks = Object.keys(x)\nconsole.log('Keys',ks)\n\nvar uid = localStorage.getItem(\"uid\")\nvar pic = localStorage.getItem(\"pic\")\nvar subscribe = localStorage.getItem(\"subscribe\")\nvar email = localStorage.getItem(\"email\")\n\nlocalStorage.clear()\n\n\nif(uid) localStorage.setItem(\"uid\", uid)\nif(pic) localStorage.setItem(\"pic\", pic)\nif(subscribe) localStorage.setItem(\"subscribe\", subscribe)\nif(email) localStorage.setItem('email', email)\n\n\nfor (var i=0; i<ks.length; i++) {\n\n    localStorage.setItem(ks[i], x[ks[i]])\n}\n\n\nvar u = localStorage.getItem('uuid')\n\ndocument.getElementById(\"circleDown\").style.display = 'none'\ndocument.getElementById(\"works\").style.display = 'block'\n\nthis.props.history.push({\n    pathname: `/vidx/${u}`,\n    state: { vid: x }\n})\n\n}).catch(err => {console.log('json GET ERROR', err)})\n\n\n\n}\n\n\ncomponentDidMount() {\n\n\n        document.getElementById(\"circleDown\").style.display = 'block';\n// set subscribe\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe', response.data.Item)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n          // props.render_x('subscribe', response.data.Item.sub.S)\n  \n\n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          localStorage.setItem('subscribe', '0');         \n          // props.render_x('subscribe', '0');\n        })\n\n// set render\n\nvar uid = localStorage.getItem(\"uid\")\n\n//  add file to user row in table\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\nconsole.log('geturl', geturl)\naxios.get(geturl).then(res => {\n  var render\n\n  render = res.data.Item.render.S\n  localStorage.setItem('render', render)\n\n\n  console.log('RENDER', render)\n  }).catch(e => console.log(e, 'RENDER ERROR'))\n\n\n\n\n\n\n    document.title = 'TurtleClip | Videos';\n\n    document.getElementById(\"circleDown\").style.display = 'block'\n\n    flask_multipart(this.props, document.getElementById('file-workspace'))\n\n// contains api + filename\n   var uid = this.state.uid\n\n   console.log('UID in workspace', uid, this, this.props)\n\n   var c = 1;\n   if(localStorage.getItem('subscribe') == '1') {c = 11;}\n   \n   if( c - localStorage.getItem('render') < 0 ) {\n      document.getElementById('rem').innerText = 0\n    } else {\n      document.getElementById('rem').innerText = c - localStorage.getItem('render');\n    }\n\n   // var email = res.data.Item.email.S\n   var email = localStorage.getItem(\"email\")\n\n\n   // THIS IS NOT ROBUST !!\n// from pricing page\n   if(window.location.search.split('=')[0] == \"?payment_id\") { \n    localStorage.setItem('subscribe', '1') \n  }\n\n   \n   // https://www.turtleclip.com/workspace?payment_id=pay_G9PmbqHqNqPY9T\n\n\n  // // var email = res.data.Item.email.S\n  // var email = localStorage.getItem(\"email\")\n\n  \n   var geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\n\n\n   axios.get(geturl).then(res => {\n    console.log('res json', res)\n    console.log('json', res.data)\n   // console.log('r', res.data.Item.jsonpath)\n\n\n   var jsn = res.data.Item.jsonpath.S\n\n\n   console.log(jsn)\n\n   var v = jsn.split(',')\n\n\n   // t[i].length - 2\n\n    document.getElementById(\"circleDown\").style.display = 'block';\n\n   for (var i=v.length-1; i>=0; i--) {\n\n\n      var pa = document.getElementById(\"rx\") ;\n\n      var video = document.createElement(\"video\");\n      \n      // var s = n[0] + '#t=' + t1.toString() + ',' + t2.toString()\n      video.setAttribute(\"src\", 'https://d2wxuz9jomxjzh.cloudfront.net/' + v[i]); \n      video.setAttribute(\"x\", i); \n      // video.controls = true;\n \n      pa.appendChild(video)\n\n     // video.style.width = '25vw';\n     // video.style.height = 'auto';\n     video.style.padding = '20px';\n     video.style.border = '1px dashed red'\n     video.muted = true;\n\n   video.addEventListener(\"click\", (e) => {\n       e.preventDefault();\n       e.stopPropagation();\n\n       e.target.pause()\n       \n       \n\n      this.showVideo(e)\n   })\n\n\n   }  //end for\n\n   document.getElementById(\"circleDown\").style.display = 'none'\n\n   }).catch(err => console.log(err))\n\n\n\n\n\n\n\n\n}\n\n\n\n\nrender () {\n    // console.log('common file sending state to vid/tab', this.state.sub);\n  return (\n    <div style={{'position': 'absolute', 'left':'0', 'right':'0'}}>\n\n    <CircularProgress id=\"circleDown\"/>\n<div id='works'>\n  \t\t\n<Navwork />\n\n<div className=\"workspace_upload\">\n\n  <div className=\"up-try\">\n    <div className=\"file-chooser\">\n      <label for=\"file-workspace\" className=\"custom-file-upload\">\n          Upload\n      </label>\n      <input type=\"file\" id='file-workspace' accept=\"video/mp4,video/mov,video/m4v\" />\n    </div>\n\n    <div id=\"file-progress-container\"></div>\n    <script src=\"md5.js\"></script>\n    <script src=\"flask-s3-multipart.js\"></script>\n  </div>\n\n</div>\n\n<div className='remV'> Videos Remaining: <span id='rem'/></div>  \t\t\n<div id=\"rx\"></div>\n\t\t\n\t\t</div>\n\n  </div>\n\t)\n}\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nWorkspace.displayName = \"Workspace\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Workspace));\n","import React from 'react';\nimport './navbar.css';\n\n\nimport firebase from 'firebase/app';\n\nimport 'firebase/auth';        // for authentication\n\n// Signs-out of Friendly Chat.\nfunction signOut() {\n  // Sign out of Firebase.\n  localStorage.clear()\n  window.location.href = window.location.origin;\n\n  firebase.auth().signOut()\n\n\n}\n\n\n\nfunction Nav(props) {\n\n//   useEffect(() => {\n// document.getElementById('pricingw').addEventListener('click', (e) => {\n\n//         e.preventDefault();\n//         e.stopPropagation();\n\n//         login(e,props)\n// }\n// );\n\n// }) //useEffect\n\n  const price_path = window.location.origin + '/pricing'\n\n\n\treturn (\n\t\t<div id=\"NAVBAR\">\n\n\t\t<nav class=\"navbar navbar-inverse navbar-fixed-top vid-fixed-top\" role=\"navigation\">\n    <div class=\"container\">\n\n        <div class=\"navbar-header\">\n            <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\"\n                    data-target=\"#bs-example-navbar-collapse-1\">\n\n                <span class=\"sr-only\">Toggle navigation</span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n\n            </button>\n            <a class=\"navbar-brand\" href={window.location.origin}>\n                <button class=\"CB\">TurtleClip</button>\n            </a>\n        </div>\n\n        <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul class=\"nav navbar-nav navbar-right vid-list\">\n                <li><a >My Videos</a></li>\n                <li><a href={price_path}>Pricing</a></li>\n      \n                <li class=\"nav-item dropdown\">\n      \t\t\t     <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbardrop\" data-toggle=\"dropdown\">\n        \t\t      Account\n      \t\t\t     </a>\n\t\t\t           <div class=\"dropdown-menu\">\n\t\t\t             <a onClick={signOut} class=\"dropdown-item\">Sign Out</a>\n\t\t\t           </div>\n\t\t\t          </li>\n            </ul>\n        </div>\n    </div>\n</nav>\n\t\t</div>\n\n\t\t)\n}\n\n\nNav.displayName = \"Nav\";\nexport default React.memo(Nav);\n","\nimport React, { useState,useEffect } from 'react';\nimport './pricing.css';\n// import Navhome from './navbarhome';\nimport Nav from './navbar';\n\nfunction Pricing(props){\n\n\t// <div className='tier'>\n\t// \t<div className=\"priceTag\">PRO</div>\n\t// \t<div className=\"priceVal\">$30</div>\n\t// \t<div>per month</div>\n\t// \t<div>No Watermark</div>\n\t// \t<div>file size upto 1 GB</div>\n\t// \t<div>unlimited videos</div>\n\t// \t<div>auto transcription, upto 4hrs</div>\n\t// \t<div>100GB Storage</div>\n\t// \t<div>Access to all tools</div>\n\n\t// </div>\n\t\n\n\nreturn (\n\n\t<div>\n\t<Nav />\n\t<div id=\"prizing\">\n\n\t<div className='tier'>\n\t\t<div className=\"priceTag\">FREE</div>\n\t\t<div className=\"priceVal\">$0</div>\n\t\t<div>per month</div>\n\t\t<div>Watermark</div>\n\t\t<div>Each file upto 8 minutes long</div>\n\t\t<div>Each file upto 50MB</div>\n\t\t<div>upload upto 5 videos</div>\n\t\t<div>Auto transcription</div>\n\n\t</div>\n\n\t<div className='tier'>\n\t\t<div className=\"priceTag\">PRO</div>\n\t\t<div className=\"priceVal\">$15</div>\n\t\t<div>per month</div>\n\t\t<div>No Watermark</div>\n\t\t<div>file size upto 500 MB</div>\n\t\t<div>unlimited videos</div>\n\t\t<div>auto transcription, upto 2hrs</div>\n\t\t<div>20GB Storage</div>\n\t\t<div>Access to all tools</div>\n\n\t</div>\n\t\n\n\t\n\t</div>\n\t</div>\n\n)\n}\n\n\nPricing.displayName = \"Pricing\";\nexport default React.memo(Pricing);","\nimport './navbarhome.css';\n\nimport React, { useState,useEffect } from 'react';\n\nimport {login, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\n\n\n\nfunction Navpricing(props) {\n\n\n    useEffect(() => {\ndocument.getElementById('login').addEventListener('click', (e) => {\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        login(e,props)\n}\n);\n\n}) //useEffect\n\n\treturn (\n\t\t<div>\n\n\n\t\t<nav className=\"navbar navbar-inverse navbar-fixed-top home-fixed-top\" role=\"navigation\">\n    <div className=\"container\">\n\n        <div className=\"navbar-header\">\n            <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\"\n                    data-target=\"#bs-example-navbar-collapse-1\">\n\n                <span className=\"sr-only\">Toggle navigation</span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n\n            </button>\n            <a className=\"navbar-brand\" href={window.location.origin}>\n                <button className=\"CB\">TurtleClip</button> \n            </a>\n        </div>\n\n        <div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul className=\"nav navbar-nav navbar-right home-list\">\n                <li><a href=\"pricing\">PRICING</a></li>\n                <li><a id=\"login\" className=\"signup\">LOG IN</a></li>\n            </ul>\n        </div>\n    </div>\n</nav>\n\n\n\t\t</div>\n\n\t\t)\n}\n\n\nNavpricing.displayName = \"Navpricing\";\nexport default React.memo(Navpricing);\n","import axios from 'axios'; \n\nimport React, { useState,useEffect } from 'react';\nimport './pricing.css';\nimport Navpricing from './navbarpricing';\nimport Navwork from './navbarwork';\n// import Nav from './navbar';\n\nimport {login_pricing_home, login_sub, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport {checkout, stripe_checkout_download} from './striperedirect';\n\nimport {connect} from 'react-redux';\n// import Stripex from './stripex';\n\nfunction Pricing(props){\n\n\tdocument.title = 'TurtleClip | Pricing';\n\n useEffect(() => {\n\n        // document.getElementById(\"raz\").appendChild(script);\n    // document.getElementsByName(\"email\")[0].value = \"oyeiitsme@gmail.com\"\n\n    // set value of subscribe in localstorage\n    if (localStorage.getItem('uid')) {\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe in Renderdown', response.data.Item)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n      \n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          localStorage.setItem('subscribe', '0')\n        })\n\n        console.log('subscribe in Renderdown', localStorage.getItem('subscribe'))\n    }\n\n    }, []);\n\n\n   useEffect(() => {\n\n   \t\ttry {\n\t\tdocument.getElementById('login_p').addEventListener('click', (e) => {\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        login_pricing_home(e,props)\n}\n);\n} catch {}\n\n\ntry {\ndocument.getElementById('sublog').addEventListener('click', (e) => {\n\nconsole.log('first login in sub')\n\ne.preventDefault();\ne.stopPropagation();\n\nlogin_sub(e,props)\n\n\n//      \tvar nav = <Navwork props={props} />;\n// var log = <a href={work} className=\"login_price\">Try Now</a>\n\n// document.getElementsByClassName('PaymentButton')[0].click()\n\n}\n);\n} catch {}\n\n\n   \t\ttry {\n\t\tdocument.getElementById('pay_').addEventListener('click', (e) => {\n\n\t\t\tconsole.log('first login in sub')\n\n\t\t\tvar dd = localStorage.getItem('uid')\n\t\t\tvar email = localStorage.getItem('email')\n\n        // e.preventDefault();\n        // e.stopPropagation();\n\n        console.log(dd)\n\n        checkout(dd, email)\n\n\n  //      \tvar nav = <Navwork props={props} />;\n\t\t// var log = <a href={work} className=\"login_price\">Try Now</a>\n\n        // document.getElementsByClassName('PaymentButton')[0].click()\n\n}\n);\n} catch {}\n\n\n}) \n\n//useEffect\n\n\t// <div className='tier'>\n\t// \t<div className=\"priceTag\">PRO</div>\n\t// \t<div className=\"priceVal\">$30</div>\n\t// \t<div>per month</div>\n\t// \t<div>No Watermark</div>\n\t// \t<div>Each file upto 1 GB</div>\n\t// \t<div>unlimited videos</div>\n\t// \t<div>auto transcription, upto 4hrs</div>\n\t// \t<div>100GB Storage</div>\n\t// \t<div>Access to all tools</div>\n\n\t// </div>\n\tconst work = window.location.origin + '/workspace';\n\tvar nav = <Navpricing props={props} />;\n\tvar log = <div id=\"login_p\" className=\"login_price\">LOG IN</div> ;\n\n\tvar sub = <div id=\"sublog\" className=\"login_price\"> SUBSCRIBE </div>;\n\n\tif (localStorage.getItem('uid')) {\n\t\tnav = <Navwork props={props} />\n\t\tlog = <a href={work} className=\"login_price\">Try Now</a>;\n\t\tsub = <div id=\"pay_\" className=\"login_price\"> SUBSCRIBE </div>\n\t\t\n\t} \n\n\tif(localStorage.getItem('subscribe') == \"1\") {\n\t\tsub = <a href={work} className=\"login_price\">My Videos</a>\n\t}\n\nreturn (\n\n\t<div>\n\n\t{nav}\n\n\t<CircularProgress style={{'display':'none'}} id=\"circlePricing\" className=\"Mpbar\" />\n\n\t<div id=\"prizing\">\n\n\t<div className='tier'>\n\t\t<div className=\"priceTag\">FREE</div>\n\t\t<div className=\"priceVal\">$0<span className='permonth'>/Month</span></div>\n\t\t<div className='nv'>1 video</div>\n\t\t<div>Automatic transcription</div>\n\t\t<div>Add text</div>\n\t\t<div>Add and style top heading</div>\n\t\t<div>Video resizing</div>\n\t\t<div>Progress bar</div>\n\t\t<div>Style and position subtitle</div>\n\t\t<div className='wm'>No Watermark</div>\n\n\t\t{log}\n\n\t</div>\n\n\t<div className='tier'>\n\t\t<div className=\"priceTag\">PRO</div>\n\t\t<div className=\"priceVal\">$19 <span className='permonth'>/Month</span></div>\n\t\t<div className='nv'>10 videos</div>\n\t\t<div>Automatic transcription</div>\n\t\t<div>Add text</div>\n\t\t<div>Add and style top heading</div>\n\t\t<div>Video resizing</div>\n\t\t<div>Progress bar</div>\n\t\t<div>Style and position subtitle</div>\n\t\t<div>No Watermark</div>\n\n\t\t{sub}\n\n\n\n\t</div>\n\n\t\n\t</div>\n\n\n\n\t</div>\n\n)\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nPricing.displayName = \"Pricing\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Pricing));\n","import {tickerTime, miliToTime, miliToMinTime, strToMili} from './utils';\n\nexport const increaseT = function(e) {\n\t\t\tconsole.log(\"in increaseT\")\n\t\t\t\t// if id=0\n\t\t\tif (e.currentTarget.classList.contains('MuiSvgIcon-colorDisabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar pa = e.currentTarget.parentNode; //div\n\t\t \tvar nt = e.currentTarget.nextSibling;\n\n\t\t \tvar id = pa.id;\n\t\t\tvar t = nt.textContent;\n\n\t\t\tvar rowT = document.getElementById(\"rows\")\n\t\t\tvar getId = rowT.getAttribute(\"tickerId\");\n\n\t\t\tvar timNew = tickerTime(rowT.textContent);\n\t\t\tif (id == \"zero\") {timNew = timNew + 60*1000;}  \n\t\t\tif (id == \"one\") {timNew = timNew + 1000;}  \n\t\t\tif (id == \"two\") {timNew = timNew + 100;}\n\n\t\t \tvar x = miliToMinTime(timNew);\n\n\t\t \ttry{\n\t\t \t\n\t\t \tdocument.getElementById(getId).setAttribute(\"stime\",x);\n\t\t \t// document.getElementById(\"bt\"+getId).innerHTML = x;\n\t\t \t// document.getElementById(\"bt\"+getId).innerHTML = `<li class='fa'>&#xf017</li>`\n\n\t\t \tdocument.getElementById(getId).previousSibling.previousSibling.setAttribute(\"etime\", x);\n\n\t\t \tconsole.log('changing time', document.getElementById(getId))\n\t\t \t\n\t\t \tconsole.log('changing time', document.getElementById(getId).getAttribute(\"stime\"), document.getElementById(getId).previousSibling.previousSibling.getAttribute(\"etime\"))\n\t\t \n\t\t } catch {\n\t\t \tconsole.log('tickerId is null');\n\t\t }\n\n\n\t\t \tvar a = x.split(':')[0].padStart(2,0);\n\t\t \tvar b = x.split(':')[1].split('.')[0].padStart(2,0);\n\t\t \tvar c = x.split(':')[1].split('.')[1].padStart(1,0);\n\n\t\t \tdocument.getElementById(\"zero\").childNodes[1].innerHTML = a;\n\t\t \tdocument.getElementById(\"one\").childNodes[1].innerHTML = b;\n\t\t \tdocument.getElementById(\"two\").childNodes[1].innerHTML = c;\n\n\n\n}\n\nexport const decreaseT = function(e) {\n\n\t\t\t\t\t// if id=0\n\t\t\tif (e.currentTarget.classList.contains('MuiSvgIcon-colorDisabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar pa = e.currentTarget.parentNode; //div\n\t\t \tvar id = pa.id;\n\t\t\t\n\t\t\tvar nt = e.currentTarget.previousSibling;\n\t\t\tvar t = nt.textContent;\n\t\t\t\n\n\t\t\tvar rowT = document.getElementById(\"rows\");\n\t\t\tvar getId = rowT.getAttribute(\"tickerId\");\n\n\t\t\tvar timNew = tickerTime(rowT.textContent);\n\t\t\tif (id == \"zero\") {timNew = timNew - 60*1000;}  \n\t\t\tif (id == \"one\") {timNew = timNew - 1000;}  \n\t\t\tif (id == \"two\") {timNew = timNew - 100;}\n\n\t\t \tvar x = miliToMinTime(timNew);\n\n\t\t \ttry {\n\t\t \tdocument.getElementById(getId).setAttribute(\"stime\",x);\n\t\t \t// document.getElementById(\"bt\"+getId).innerHTML = x;\n\n\t\t \tdocument.getElementById(getId).previousSibling.previousSibling.setAttribute(\"etime\", x);\n\n\t\t \tconsole.log('changing time', document.getElementById(getId).getAttribute(\"stime\"), document.getElementById(getId).previousSibling.previousSibling.getAttribute(\"etime\"))\n\n \t\t\t} catch {\n\t\t \tconsole.log('tickerId is null');\n\t\t }\n\n\t\t \tconsole.log('x',x);\n\n\t\t \tvar a = x.split(':')[0].padStart(2,0);\n\t\t \tvar b = x.split(':')[1].split('.')[0].padStart(2,0);\n\t\t \tvar c = x.split(':')[1].split('.')[1].padStart(1,0);\n\n\t\t \tdocument.getElementById(\"zero\").childNodes[1].innerHTML = a;\n\t\t \tdocument.getElementById(\"one\").childNodes[1].innerHTML = b;\n\t\t \tdocument.getElementById(\"two\").childNodes[1].innerHTML = c;\n\t\n}","import React, { useEffect } from 'react';\n\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport './div_ticker.css';\n\nimport {setTickerState} from './utils';\n\nimport {increaseT, decreaseT} from './changeTime';\n\nfunction TickerTime(props){\n\n\nuseEffect(() => {\n\t// console.log('ticker of props',props.tickid, props.posX, props.posY);\n\n\tvar h = document.getElementById(\"rows\").getBoundingClientRect().height //in px\n\tvar tik = document.getElementById(\"rows\");\n\ttik.style.left = props.posX - document.getElementById(\"vcolumn\").getBoundingClientRect().width +\"px\";\n\ttik.style.top = props.posY +\"px\";\n\n\t// document.getElementById(\"rows\").getBoundingClientRect().height\n\n\ttik.setAttribute(\"tickerId\", props.tickid);\n\n\t// var pp = props.target;\n\ttry {\n\t\tvar x = document.getElementById(props.tickid).getAttribute(\"stime\");\t\n\t\tconsole.log('in tick x', x);\n\t} catch {\n\t\tvar x = \"00:00.0\";\t\n\t}\n\t\n \tvar a = x.split(':')[0].padStart(2,0);\n \tvar b = x.split(':')[1].split('.')[0].padStart(2,0);\n \tvar c = x.split(':')[1].split('.')[1].padStart(1,0);\n\n \tdocument.getElementById(\"zero\").childNodes[1].innerHTML = a;\n \tdocument.getElementById(\"one\").childNodes[1].innerHTML = b;\n \tdocument.getElementById(\"two\").childNodes[1].innerHTML = c;\n\n})\n\t\n\nuseEffect(() => { \n\n\t// var x = document.getElementsByClassName(\"up\");\n\n\n\n\tvar x = document.getElementsByClassName(\"up\")\n\n\tfor (var i=0; i< x.length; i++) {\n\t\tvar icon = x[i];\n\t\t// console.log(icon.parentNode)\n\t\tvar a=59,b=59,c=9;  //c == c*100\n\t\tvar MaxAllowedTime = a*60*1000 + b*1000 + c*100;\n\n\n\t\ticon.addEventListener(\"click\", (e) => {\n\t\t\t// console.log(\"props.target\",props.posX, props.tickid)\n\t\t\te.preventDefault();\n    \t\te.stopPropagation();\n\t\t\tincreaseT(e) ;\n\t\t\tsetTickerState(document.getElementById(\"rows\").getAttribute(\"tickerId\"));\n\t\t})\n\t}\n\n\n\tvar x = document.getElementsByClassName(\"down\")\n\n\tfor (var i=0; i< x.length; i++) {\n\t\tvar icon = x[i];\n\t\tvar MinAllowedTime = 0;\n\t\ticon.addEventListener(\"click\", (e) => {\n\t\t\t// console.log(\"props.target\", props.tickid);\n\t\t\te.preventDefault();\n    \t\te.stopPropagation();\n\t\t\tdecreaseT(e);\n\t\t\tsetTickerState(document.getElementById(\"rows\").getAttribute(\"tickerId\"));\n\t\t})\n\t}\n\n\tdocument.getElementById(\"delete\").addEventListener(\"click\", (e) => {\n\n\t\tvar tId = document.getElementById(\"rows\").getAttribute(\"tickerId\");\n\t\t// first and last children shouldnt get deleted\n\t\t// var gPa = document.getElementById(\"subdiv\").children\n\t\t// if (tId == gPa[1].id || tId == gPa[gPa.length-1].id) {\n\t\t// \treturn;\n\t\t// }\n\n\t\t// console.log(tId);\n\n\t\tvar x = document.getElementById(tId)\n\t\tvar z = x.previousSibling;\n\t\t// console.log('xxx', x, z, x.innerText);  //z = get div caption-break > bt6\n\t\t// delete both x, z\n\n\t\t// after the element \n\t\t// x.insertAdjacentText(\"afterend\", x.innerText);\n\t\tz.previousSibling.innerText = z.previousSibling.innerText + x.innerText\n\t\tz.previousSibling.setAttribute(\"etime\", x.getAttribute(\"etime\"));\n\n\t\tvar parent = x.parentNode;\n\t\tconsole.log('parent', parent,'parent previous text', z.previousSibling);  //span id\n\t\tparent.removeChild(x);\n\t\tparent.removeChild(z);\n\n\t})\n\n}, [])\n\n\treturn (\n<div id=\"rows\" tickerId=\"0\">\n\n<div id= \"row1\">\n  \n <div id=\"zero\" className=\"col1\">\n \t<ArrowDropUpIcon className=\"up\" color=\"secondary\" style={{ fontSize: 35 }} /> \n\t<span>01</span>\n\t<ArrowDropDownIcon className=\"down\" color=\"secondary\" style={{ fontSize: 35 }} />\n </div>\n\n <div className=\"col1\">:</div>\n\n <div id=\"one\" className=\"col1\">\n\t<ArrowDropUpIcon className=\"up\" color=\"secondary\" style={{ fontSize: 35 }}/> \n \t<span>00</span>\n \t<ArrowDropDownIcon className=\"down\" color=\"secondary\" style={{ fontSize: 35 }}/>\n </div>\n \n\n <div className=\"col1\">:</div>\n\n <div id=\"two\" className=\"col1\">\n\t<ArrowDropUpIcon className=\"up\" color=\"secondary\" style={{ fontSize: 35 }} />\n\t<span>0</span>\n\t<ArrowDropDownIcon className=\"down\" color=\"secondary\" style={{ fontSize: 35 }}/>\n </div>\n\n</div>\n\n<div id=\"row2\">\n\n\n\t<div className=\"col2\">\n\t\t<DeleteForeverIcon id=\"delete\" color=\"secondary\" fontSize=\"large\" />\n\t</div>\n\n\n</div>\n\n</div>\n\n\t\t)\n}\n\n\nTickerTime.displayName = \"TickerTime\";\nexport default React.memo(TickerTime);\n","import React, { useEffect } from 'react';\nimport {strToMili} from './utils';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\n\n\nfunction Reset(props){\n\nconst resetPage = function() {\n\n  var pa = document.getElementById(\"subdiv\") ;\n  pa.innerHTML = \"\";\n\nfor (var i=0; i<props.subtext.length ; i++){\n\n\n      // var s_pa = document.getElementById(\"editor\");\n\n      // var pa = document.createElement(\"div\");\n      // pa.setAttribute(\"id\", \"subdiv\");\n      // pa.setAttribute(\"contentEditable\", \"true\");\n      // pa.setAttribute(\"class\", \"ProseMirror ProseMirror-example-setup-style\");\n\n      var cdiv = document.createElement(\"div\");\n      cdiv.setAttribute(\"caption-break\", \"\");  \n\n\n      cdiv.className = \"caption-break\";\n      cdiv.contentEditable = \"true\";\n      cdiv.draggable = \"true\";\n\t  \n      var ticker = document.createElement(\"span\");\n\n      //to not write random text in time button\n      ticker.setAttribute(\"contentEditable\", \"false\");\n      \n      // console.log('bttn id', ticker.id);\n      ticker.style.position = 'relative';\n      // console.log('input id', inputtick.id);\n\n      cdiv.appendChild(ticker);\n\n      // var ticktick = `<TickerTime time={props.state.strt[0]}/>`;\n      // cdiv.insertAdjacentHTML('afterbegin', ticktick);\n\n     //  ticker.addEventListener(\"click\", (e) => {\n     //  \te.preventDefault();\n    \t// e.stopPropagation();\n     //  \tshowTicker(e, setTickid, setPosX, setPosY, setDisplay)\n     //  });\n\n      pa.appendChild(cdiv);\n\n      var cspan = document.createElement(\"span\");\n      cspan.setAttribute(\"stime\", props.stime[i]);\n      cspan.setAttribute(\"etime\", props.etime[i]);\n\n      cspan.setAttribute(\"className\", \"caption current-caption\");\n      cspan.setAttribute(\"class\", \"caption current-caption\");\n\n      // var att = document.createAttribute(\"contentEditable\");      \n      // att.value = \"true\";                         \n      cspan.setAttribute(\"contentEditable\", \"true\");\n\n    \n    pa.appendChild(cspan);\n\n    if (i!=0) {\n    // console.log('i',i);\n    cspan.setAttribute(\"className\", \"caption\");\n    cspan.setAttribute(\"class\", \"caption\");\n    }\n   // cspan.removeClass(\"current-caption\");\n\n   ticker.style.backgroundColor = 'black';\n   ticker.style.color = 'white';\n   ticker.style.borderColor = \"pink\";\n   ticker.style.padding = \"4px\";\n\n   // ticker.setAttribute(\"width\", \"30px\");\n   if ( i == 0 ) {\n   \t\tticker.innerHTML = \" Begin \";\t\n   \t\tticker.style.backgroundColor = 'gold';\n   \t\tticker.style.color = 'black';\n\n   } else if ( strToMili(props.stime[i])/1000 == parseFloat(props.duration).toFixed(1) ){\n   \t\tticker.innerHTML = \" End \";\t\n   \t\tticker.style.backgroundColor = 'gold';\n   \t\tticker.style.color = 'black';\n} else {\n\tticker.innerHTML = props.stime[i];\n}\n   // cspan.setAttribute(\"lineHeight\",\"10em\");\n\n  \n  ticker.setAttribute(\"id\", \"bt\"+i.toString());\n  cspan.setAttribute(\"id\", i);\n\n  cspan.innerText = props.subtext[i];\n}\n\n}\n\n\nlet styles = {\n  margin:'auto',\n  display:'block',\n  border: \"pink\",\n};\n\n\n\nreturn (\n<div>\n\n\n<button id=\"reset\" type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\" onClick={resetPage}>\n<RefreshIcon id=\"refresh\" style={styles} />Reset</button> \n\n</div>\n\t\t)\n}\n\n\nReset.displayName = \"Reset\";\nexport default React.memo(Reset);\n\n","import React, { useEffect } from 'react';\nimport {strToMili, rgbToHex} from './utils';\n\nimport axios from 'axios'; \n\n/* global $ */\n\n//  add multiple heads-text, their width, subtitle width, seekbar width\n//  video position and dimensions!\n\n\n//use useState to store the states,transfer it to state on page change\n\nfunction Save(props){\n\nconst saveState = function() {\n\n  // var state = props.state;\n  var ch = document.getElementById(\"subdiv\").children;\n\nvar subtitle = [];\n\n// dont consider last child (SPAN) which is END \nfor (var i=0; i<ch.length-1 ; i++){\n  let s = {}\n  if (ch[i].tagName == \"DIV\") {continue;}\n\n // sub.push(ch[i].innerText);\n // stim.push(ch[i].getAttribute(\"stime\"));\n // etim.push(ch[i].getAttribute(\"etime\"));\n \n\n s['start_time'] = ch[i].getAttribute(\"stime\");\n s['words'] = ch[i].innerText;\n s['end_time'] = ch[i].getAttribute(\"etime\");\n subtitle.push(s)\n}\n\nvar head = document.getElementById(\"head\").innerText;\nvar title = {'head': head};\n // this.setState({...state, sub: sub });\n // var data = {'sub':sub, 'stime':stim, 'etime':etim}\n\nfunction trim (str) {\n  return str.replace(/^\\s+|\\s+$/gm,'');\n}\n\nfunction getrgb(rgba) {\nvar inParts = rgba.substring(rgba.indexOf(\"(\")).split(\",\")\nvar r = parseInt(trim(inParts[0].substring(1)), 10),\n      g = parseInt(trim(inParts[1]), 10),\n      b = parseInt(trim(inParts[2]), 10)\n\ntry {\nvar a = parseFloat(parseFloat(trim(inParts[3].substring(0, inParts[3].length - 1))).toFixed(2));\n} catch {\n  var a = 1\n}\n a = (a*100)\n var hex = rgbToHex(r,g,b)\n var z = hex.substring(0, 2)\n var y = hex.substring(2,4)\n var x = hex.substring(4,6)\n\n a = 100 - a \n if (a == 100) {\n  a = 'ff'\n } else {\n  a = a.toString().padStart(2,0);\n }\n\nvar h = '&H' + a + x + y + z\nconsole.log('hoolaa','r',r,'g',g,'b',b,'a',a, 'h', h)\nreturn h \n}\n\n\nfunction gethex(rgba) {\n\n  var inParts = rgba.substring(rgba.indexOf(\"(\")).split(\",\")\n  var r = parseInt(trim(inParts[0].substring(1)), 10),\n      g = parseInt(trim(inParts[1]), 10),\n      b = parseInt(trim(inParts[2]), 10)\n\ntry {\nvar a = parseFloat(parseFloat(trim(inParts[3].substring(0, inParts[3].length - 1))).toFixed(2));\n} catch {\n  var a = 1\n}\n a = a.toString()\n var hex = rgbToHex(r,g,b)\n\n return '#' + hex + '@' + a\n\n}\n\n//  ratio \nvar r = document.getElementById(\"custom-seekbar11\").getAttribute(\"ratio\");\n// subtitle text\nvar sfs = parseFloat(document.getElementById(\"subtitle-text-container\").style.fontSize)*r\nsfs = Math.ceil(sfs*3/2);\n\nvar sps = parseFloat(document.getElementById(\"subtitle-text-container\").style.padding)*r\nsps = Math.ceil(sps);\n\nvar sc = document.getElementById(\"subtitle-text-container\").style.color\nvar sbc = document.getElementById(\"subtitle-text-container\").style.backgroundColor\n\nsc = getrgb(sc)\nsbc = getrgb(sbc)\n// head text\n// need to add all the text content!\nvar hfs = parseFloat(document.getElementById(\"head-text-container\").style.fontSize)*r\nhfs = Math.ceil(hfs*3/2)\nvar hps = Math.ceil(parseFloat(document.getElementById(\"head-text-container\").style.padding)*r)\n\nvar hc = document.getElementById(\"head-text-container\").style.color\nvar hbc = document.getElementById(\"head-text-container\").style.backgroundColor\nhc = getrgb(hc)\nhbc = getrgb(hbc)\n\n// padding color \nvar pc = document.getElementById(\"vid\").style.backgroundColor\npc = gethex(pc)\n// seekbar\nvar seekh = Math.ceil(parseFloat(document.getElementById(\"custom-seekbar1\").style.height)*r)\n\nvar bck = document.getElementById(\"custom-seekbar1\").style.backgroundColor\nbck = gethex(bck)\nvar frnt = document.getElementById(\"custom-seekbar11\").style.backgroundColor\nfrnt = gethex(frnt)\n\n//  font\nvar font_s = document.getElementById(\"subtitle-text-container\").style.fontFamily;\nvar font_h = document.getElementById(\"head-text-container\").style.fontFamily;\n\n//  nh nw\nvar nh = parseInt(document.getElementById(\"custom-seekbar11\").getAttribute(\"nh\"));\nvar nw = parseInt(document.getElementById(\"custom-seekbar11\").getAttribute(\"nw\"));\n\n\n// var ar = parseFloat(props.state.state.ar)\n // calculate on the spot \n// var d = parseFloat(props.state.state.duration)\n// var v = props.state.state.v;\n\nvar filename = localStorage.getItem(\"filename\");\n// console.log(props.state.state.filename)\n\nvar h, s, align_h, align_s;\n\n\nvar ht = document.getElementById(\"heads-container\").style.top\nvar bt = document.getElementById(\"heads-container\").style.bottom\n\nvar hs = document.getElementById(\"subtitles-container\").style.top\nvar bs = document.getElementById(\"subtitles-container\").style.bottom\n\n\nif (bt == 'auto') {\n  h = parseFloat(ht)\n  align_h = 8\n} else { \n  h = parseFloat(bt) \n  align_h = 2; \n}\n\n\n\nif (bs == 'auto') {\n  // s = $('#subtitles-container').position().top\n  s = parseFloat(hs)\n  align_s = 8\n} else { \n  s = parseFloat(bs) \n  align_s = 2; \n}\n\n\n// h = $('#heads-container').position().top\nconsole.log(h,s)\nh = h*r\ns = s*r\n\n// wrap or full back\nvar fs =0, fh = 0;\nvar hw = document.getElementsByClassName(\"wrap\")[0].style.display \nvar sw = document.getElementsByClassName(\"wrap\")[1].style.display\nif (sw == \"none\") { fs=1 }\nif (hw == \"none\") { fh=1 }\n\n//  seekbar position\nvar ytx = parseFloat(document.getElementById(\"custom-seekbar1\").style.bottom);\nytx = ytx*r\n\nvar jdata = {subtitle, title, pc, seekh, bck, frnt, hfs,hps,hc,hbc, sfs,sps,sc,sbc, font_h, font_s,nh,nw,filename, s, h, fs, fh, ytx, align_s, align_h};\n // fetch('http://localhost:5000/save', {\n //      method: \"POST\",\n //      // body: suby,\n //      dataType: 'json',\n //      type: 'POST',\n //      body: JSON.stringify(jdata),\n //      contentType: 'application/json',\n\n //      // headers: {\n //      //   'Content-Type': 'application/json',\n //      // }\n\n //    });\n\n axios.post('http://localhost:5000/save', JSON.stringify(jdata), \n    {\n      headers: {\n        'Content-Type': 'application/json',\n        // 'Cache-Control': 'no-cache',\n      }\n\n    }).then((res) => {\n      console.log('save', res.data)  //res.data has processed file path, \n      // show + download it\n\n      var url = 'http://localhost:5000/download/' + res.data + '?cachebuster=' + Date.now()\n      // a.setAttribute('download', res.data)\n      // a.click()\n\n      var a = document.createElement('a');\n      // a.target = '_blank';\n      a.href = url;\n      // a.style.display = 'none';\n      // document.getElementById('subdiv').appendChild(a); // Required for Firefox\n      a.click();\n      // a.remove();\n\n    })\n\n\n\n // props.changeBothTime(sub, stim, etim);\n \n}\n\nreturn (\n<div>\n\n\n<button id=\"save\" type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\" onClick={(e)=> saveState()}>Create!</button> \n\n\n</div>\n\t\t)\n}\n\n\nSave.displayName = \"Save\";\nexport default React.memo(Save);\n\n","\nimport React, { useEffect } from 'react';\n// import './colors2.css';\n/* global $ */\nimport {setColor, setSaturationColor, hexToRgb,rgbToHex, getHsl, hslToRgb , hslToHex, setXY} from './utils';\n\n\n\nfunction getColors2(event, parent, d) {\n        \n        var offset = event.currentTarget.getBoundingClientRect();  \n\t    var left = (event.clientX - offset.left);\n\t    var totalWidth = offset.width;\n\t    var percent = ( left / totalWidth )*100;\n\n\n\n        // set the pointer position in hue bar\n        $(\".vc-hue-picker\").css(\"margin-left\", left);\n        // console.log('vc-hue-picker', percent);\n\n        // store the hue value to be passed on\n        $(\".vc-hue-pointer\").css(\"left\", percent);\n\n        var h = $(\".vc-hue-pointer\").css(\"left\");  //20px\n    \tvar y = $(\".vc-saturation-circle\").css(\"top\") //20px\n    \tvar x = $(\".vc-saturation-circle\").css(\"left\") //20px\n\n\n    \th = h.split(\"px\")[0];\n    \tx = x.split(\"px\")[0];\n    \ty = y.split(\"px\")[0];\n\n\t\t// if ( parseFloat(x)>99) {\n\t\t// \tx = 99;\n\t\t// }\n\t\t// if ( parseFloat(y)>99) {\n\t\t// \ty = 99;\n\t\t// }\n\n    \tvar hsl = getHsl(h,x,y);\n    \tvar rgb = hslToRgb(hsl);\n    \tif (rgb==2) {\n    \t\treturn;\n    \t}\n    \tconsole.log('!!!hue',rgb, h,x,y);\n    \tvar hex = hslToHex(hsl);\n\n    \tvar result = setSaturationColor(percent);\n\n    \t// set the saturation chart color\n        $(\".vc-saturation\").css(\"background\", 'rgb('+result.join()+') none repeat scroll 0% 0%');\n\n\n\t    $(\"#hex\").val(hex);\n\t\t$(\"#r\").val(Math.round(rgb[0]));\n\t\t$(\"#g\").val(Math.round(rgb[1]));\n\t\t$(\"#b\").val(Math.round(rgb[2]));\n\n        var a = $(\"#a\").val();\n\n        //set bg button color\n        parent.style.fill = 'rgb('+rgb.join()+')';\n        parent.style.fillOpacity = a;\n\n        rgb.push(a)\n\n\n        // console.log('rgba', alf, rgb);\n    \t // set the active color\n        $('.vc-sketch-active-color').css(\"background\", 'rgb('+rgb.join()+') none repeat scroll 0% 0%');\n\n\n        setColor(d, parent, rgb);\n\n    }\n// });\n\nfunction getSaturationColor(e, parent, d) {\n\n\tconsole.log('boundingbox', e.currentTarget)\n\tvar offset = e.currentTarget.getBoundingClientRect();  \n    var left = (e.clientX - offset.left);\n    var totalWidth = offset.width;\n    var percent = ( left / totalWidth )*100;\n\n\n    var top = (e.clientY - offset.top);\n    var totalHeight = offset.height;\n    var topcent = ( top / totalHeight )*100;\n    console.log('sat circle X', e.pageX, e.clientX, offset.left, offset.width);\n    console.log('sat circle Y', e.pageY, e.clientY, offset.top, offset.height);\n// to move the pointer //left and top values are out of boundary\n    $(\".vc-saturation-pointer\").css(\"left\", left);\n    $(\".vc-saturation-pointer\").css(\"top\", top);\n// to store the correct x,y values\n    $(\".vc-saturation-circle\").css(\"left\", percent);\n    $(\".vc-saturation-circle\").css(\"top\", topcent);\n\n    console.log('set circle position:', left, top, percent, topcent)\n    console.log('set circle position:', $(\".vc-saturation-pointer\").css(\"left\"), $(\".vc-saturation-pointer\").css(\"left\"), $(\".vc-saturation-circle\").css(\"left\"), $(\".vc-saturation-circle\").css(\"top\"));\n\n    var h = $(\".vc-hue-pointer\").css(\"left\");  //20px\n    var y = $(\".vc-saturation-circle\").css(\"top\") //20px\n    var x = $(\".vc-saturation-circle\").css(\"left\") //20px\n\n   \th = h.split(\"px\")[0];\n\tx = x.split(\"px\")[0];\n\ty = y.split(\"px\")[0];\n\n\tif ( parseFloat(x)>99) {\n\t\tx = 99;\n\t}\n\tif ( parseFloat(y)>99) {\n\t\ty = 99;\n\t}\n\n\tvar hsl = getHsl(h,x,y);\n\tvar rgb = hslToRgb(hsl);  //array\n\tif (rgb==2) {\n    \t\treturn;\n    \t}\n    console.log('!!!sat',rgb, h,x,y);\n\tvar hex = hslToHex(hsl);\n\n\t// set the saturation chart color\n     // $(\".vc-saturation\").css(\"background\", 'rgb('+rgb.join()+') none repeat scroll 0% 0%');\n\n\t$(\"#hex\").val(hex);\n\t$(\"#r\").val(Math.round(rgb[0]));\n\t$(\"#g\").val(Math.round(rgb[1]));\n\t$(\"#b\").val(Math.round(rgb[2]));\n\n    // var alf = $(\"#a\").val();\n    // rgb.push(parseFloat(alf))\n    var a = $(\"#a\").val();\n\n    parent.style.fill = 'rgb('+rgb.join()+')';\n    parent.style.fillOpacity = a;\n\n    rgb.push(a);\n\t// set the active color\n    $('.vc-sketch-active-color').css(\"background\", 'rgb('+rgb.join()+') none repeat scroll 0% 0%');\n\n    // console.log('rgba', rgb, alf);\n    // console.log('e parent', e, parent);\n    \n    setColor(d, parent, rgb);\n\n}\n\nfunction alphaChange(e, parent, d) {\n\tvar a = document.getElementById(\"a\").value;\n\n\t\t// these rgb values will be int\n\tvar r = document.getElementById(\"r\").value;\n\tvar g = document.getElementById(\"g\").value;\n\tvar b = document.getElementById(\"b\").value;\n\n\n\tvar rgba = [r,g,b,a];\n\n\n    // rgb.push(parseFloat(a));\n    \n    // var hex = rgbaToHex('rgba('+rgb.join()+')');\n   \t// $(\"#hex\").val(hex);\n\n    // set the active color\n    $('.vc-sketch-active-color').css(\"background\", 'rgba('+rgba.join()+') none repeat scroll 0% 0%');\n\n    // console.log('e parent', e, parent);\n// set parent color\n\n    parent.style.fill = 'rgb('+[r,g,b].join()+')';\n    parent.style.fillOpacity = a;\n\n    setColor(d, parent, rgba);\n    // parent.style.fillOpacity = a;\n\n}\n\nfunction RgbColorChange(e, parent, d) {\n\n\t// these rgb values will be int\n\tvar r = document.getElementById(\"r\").value;\n\tvar g = document.getElementById(\"g\").value;\n\tvar b = document.getElementById(\"b\").value;\n\tvar a = $(\"#a\").val();\n\n\n\tsetXY([r,g,b]);\n\n\n\t// var rgba = [r,g,b, alf];\n\n    // set the saturation chart color\n    // $(\".vc-saturation\").css(\"background\", 'rgb('+rgb.join()+') none repeat scroll 0% 0%');\n\n\n    var hex = rgbToHex(r,g,b);\n\n\tconsole.log('rgb',r,g,b, hex);\n\n\tdocument.getElementById(\"hex\").value = hex;\n    \t\t// set the active color\n    $('.vc-sketch-active-color').css(\"background\", 'rgba('+[r,g,b,a].join()+') none repeat scroll 0% 0%');\n\n\n    // console.log('e parent', e, parent);\n// set parent color\n    parent.style.fill = 'rgb('+[r,g,b].join()+')';\n    parent.style.fillOpacity = a;\n    setColor(d, parent, [r,g,b,a]);\n\n }\n\nfunction setPaletteColor (e, parent, d) {\n\tvar bg = e.target.style.backgroundColor\n\n\tvar bgc = bg.split('(')[1].split(\",\")\n\tvar r = bgc[0];\n\tvar g = bgc[1];\n\tvar b = bgc[2].split(')')[0]\n\t// var a = 1;\n\n\tvar a = $(\"#a\").val();\n\t\n\t$('.vc-sketch-active-color').css(\"background\", bg);\n\n\tparent.style.fill = 'rgb('+[r,g,b].join()+')';\n    parent.style.fillOpacity = a;\n    setColor(d, parent, [r,g,b,a]);\n\n    var hex = rgbToHex(r,g,b);\n\n\tdocument.getElementById(\"hex\").value = hex;\n\tdocument.getElementById(\"r\").value = r;\n\tdocument.getElementById(\"g\").value = g;\n\tdocument.getElementById(\"b\").value = b;\n\t\n\n\n}\nfunction hexColorChange(e, parent, d) {\n\n\tvar hex = document.getElementById(\"hex\").value;\n\n    console.log('hex:', hex);\n\n\tvar rgb = hexToRgb(hex);\n\tif (rgb == 2) { //if r/g/b/ is NaN\n\t\treturn;\n\t}\n\n\tsetXY(rgb);\n\n\tdocument.getElementById(\"r\").value = rgb[0];\n\tdocument.getElementById(\"g\").value = rgb[1];\n\tdocument.getElementById(\"b\").value = rgb[2];\n\n\n\n    // var alf = $(\"#a\").val();\n    // rgb.push(parseFloat(alf))\n\n    // console.log('e parent', e, parent);\n\t\n\tvar a = $(\"#a\").val();\n\n\tparent.style.fill = 'rgb('+rgb.join()+')';\n\tparent.style.fillOpacity = a;\n\n\trgb.push(a);\n   \t// set the active color\n    $('.vc-sketch-active-color').css(\"background\", 'rgba('+rgb.join()+') none repeat scroll 0% 0%');\n\n// set parent color\n    setColor(d, parent, rgb);\n\n }\n\nfunction Colors2(props){\t\n// pass the bg color parent. [rgb] \n// set hex,r,g,b [rgbToHex], hue, saturationChart color\n// change closeColor parent if-else\n// set posX posY \n\n\tuseEffect(() => {\n\n\t\t// props.color\n\tif (props.target) {\n\t\tvar parent = props.target;\n\n\n\t\tvar rgb = parent.style.fill;\n\t\tvar alf = parent.style.fillOpacity;\n\t\tvar d = rgb.split(\"(\")[1];\n\t\tvar dd = d.split(\",\");\n\t\tconsole.log(dd)\n\n\t\tvar rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2].split(')')[0])]\n\t\tconsole.log('props.target', parent, 'rgb', rgb);\n\t\t\n\t\t$(\"#r\").val(rgb[0]);\n\t\t$(\"#g\").val(rgb[1]);\n\t\t$(\"#b\").val(rgb[2]);\n\t\t$(\"#a\").val(alf);\n\n\t\tconsole.log('alpha', $(\"#a\").val());\n\t\t// var rgba = [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2].split(')')[0]), alf]\n\n\t\tvar hex = rgbToHex(rgb[0],rgb[1],rgb[2]);\n\n\t\t$(\"#hex\").val(hex);\n\n\t\tvar rgba = [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2].split(')')[0]), alf]\n\t\t// set the active color\n    \t$('.vc-sketch-active-color').css(\"background\", 'rgba('+rgba.join()+') none repeat scroll 0% 0%');\n\n\t\t// setXY(rgb);\n\n\t    setXY(rgb);\n\n\n\t} else {\n\t\tvar parent = 'none';\n\t\tconsole.log('else props.target', parent)\n\t}\n\t\n\t},[props.target])\n\n\nreturn (\n\t<div id=\"ycolumn\">\n\t \n\n\t <div className=\"relative\">\n\t  <div className=\"color-picker mt-1\">\n\t  <div role=\"application\" aria-label=\"Sketch color picker\" className=\"w-full vc-sketch\">\n\t  <div onClick={(e) => getSaturationColor(e,props.target, props.d)} className=\"vc-sketch-saturation-wrap\">\n\t  <div className=\"vc-saturation\" style={{ background: 'rgb(255, 0, 0) none repeat scroll 0% 0%' }}>\n\t  <div className=\"vc-saturation--white\"></div> \n\t  <div className=\"vc-saturation--black\"></div> \n\t  <div className=\"vc-saturation-pointer\" style={{ top: '18%', left: '75%'}}>\n\t  <div className=\"vc-saturation-circle\"></div></div></div></div> \n\t  <div className=\"vc-sketch-controls\">\n\t  <div className=\"vc-sketch-sliders\">\n\t  <div onClick={(e) => getColors2(e, props.target, props.d)} className=\"vc-sketch-hue-wrap\">\n\t  <div onClick={(e) => getColors2(e, props.target, props.d)} className=\"vc-hue vc-hue--horizontal\"><div role=\"slider\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"360\" className=\"vc-hue-container\">\n\t  <div role=\"presentation\" className=\"vc-hue-pointer\" style={{ top: '0px', left: '0%' }}>\n\t  <div className=\"vc-hue-picker\"></div></div></div></div></div> \n\t  </div> \n\n\t  <div className=\"vc-sketch-color-wrap\"><div aria-label=\"Current color is rgb(218,146,146)\" className=\"vc-sketch-active-color\" style={{ background: 'rgb(0, 0, 0) none repeat scroll 0% 0%' }}></div> <div className=\"vc-checkerboard\" style={{ backgroundImage: '\"url(\"data:image/png' }}\n  />\n\t  </div></div> \n\t <div className=\"vc-sketch-field\">\n\t \n\t <div className=\"vc-sketch-field--double\">\n\t <div className=\"vc-editable-input\">\n\t <input onInput={(e) => hexColorChange(e, props.target, props.d)} aria-labelledby=\"input__label__hex__045\" id=\"hex\" className=\"vc-input__input\" /> \n\t <span for=\"hex\" id=\"input__label__hex__045\" className=\"vc-input__label\">hex</span> \n\t <span className=\"vc-input__desc\"></span>\n\t </div>\n\t </div> \n\t \n\t <div className=\"vc-sketch-field--single\">\n\t <div className=\"vc-editable-input\">\n\t <input onInput={(e) => RgbColorChange(e, props.target, props.d)} id=\"r\" aria-labelledby=\"input__label__r__871\" id=\"r\" className=\"vc-input__input\" /> \n\t <span for=\"r\" id=\"input__label__r__871\" className=\"vc-input__label\">r</span> \n\t <span className=\"vc-input__desc\"></span></div></div> \n\t \n\t <div className=\"vc-sketch-field--single\">\n\t <div className=\"vc-editable-input\">\n\t <input onInput={(e) => RgbColorChange(e, props.target, props.d)} id=\"g\" aria-labelledby=\"input__label__g__125\" id=\"g\" className=\"vc-input__input\" /> \n\t <span for=\"g\" id=\"input__label__g__125\" className=\"vc-input__label\">g</span> \n\t <span class=\"vc-input__desc\"></span></div></div> \n\t \n\t <div class=\"vc-sketch-field--single\">\n\t <div class=\"vc-editable-input\">\n\t <input onInput={(e) => RgbColorChange(e, props.target, props.d)} id=\"b\" aria-labelledby=\"input__label__b__478\" class=\"vc-input__input\" /> \n\t <span for=\"b\" id=\"input__label__b__478\" class=\"vc-input__label\">b</span> \n\t <span class=\"vc-input__desc\"></span></div></div> \n\n\t <div class=\"vc-sketch-field--single\">\n\t <div class=\"vc-editable-input\">\n\t <input onInput={(e) => alphaChange(e, props.target, props.d)} id=\"a\" aria-labelledby=\"input__label__b__478\" class=\"vc-input__input\" /> \n\t <span for=\"a\" id=\"input__label__a__478\" class=\"vc-input__label\">alpha</span> \n\t <span class=\"vc-input__desc\"></span></div></div> \n\t </div> \n\n\t \t<div onClick={(e) => setPaletteColor(e, props.target, props.d)} className=\"ColorPalette_section__3ijad\" data-cy=\"color-palette\">\n\t\n\t<div data-cy=\"color-FFFFFF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 255, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-000000\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 0, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EEEEEE\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(238, 238, 238) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-BDBDBD\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(189, 189, 189) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-757575\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(117, 117, 117) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-B0BEC5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(176, 190, 197) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-78909C\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(120, 144, 156) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-546E7A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(84, 110, 122) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EF9A9A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(239, 154, 154) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EF5350\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(239, 83, 80) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-E53935\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(229, 57, 53) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF1744\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 23, 68) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-F48FB1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(244, 143, 177) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EC407A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(236, 64, 122) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-D81B60\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(216, 27, 96) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-F50057\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(245, 0, 87) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-CE93D8\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(206, 147, 216) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-AB47BC\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(171, 71, 188) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-8E24AA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(142, 36, 170) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-D500F9\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(213, 0, 249) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-B39DDB\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(179, 157, 219) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-7E57C2\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(126, 87, 194) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-5E35B1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(94, 53, 177) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-651FFF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(101, 31, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-9FA8DA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(159, 168, 218) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-5C6BC0\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(92, 107, 192) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-3949AB\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(57, 73, 171) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-3D5AFE\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(61, 90, 254) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-90CAF9\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(144, 202, 249) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-42A5F5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(66, 165, 245) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-1E88E5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(30, 136, 229) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-2979FF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(41, 121, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-81D4FA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(129, 212, 250) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-29B6F6\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(41, 182, 246) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-039BE5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(3, 155, 229) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00B0FF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 176, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-80DEEA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(128, 222, 234) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-26C6DA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(38, 198, 218) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00ACC1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 172, 193) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00E5FF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 229, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-80CBC4\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(128, 203, 196) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-26A69A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(38, 166, 154) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00897B\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 137, 123) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-1DE9B6\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(29, 233, 182) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-A5D6A7\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(165, 214, 167) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-66BB6A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(102, 187, 106) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-43A047\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(67, 160, 71) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00E676\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 230, 118) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-C5E1A5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(197, 225, 165) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-9CCC65\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(156, 204, 101) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-7CB342\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(124, 179, 66) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-76FF03\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(118, 255, 3) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-E6EE9C\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(230, 238, 156) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-D4E157\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(212, 225, 87) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-C0CA33\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(192, 202, 51) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-C6FF00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(198, 255, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFF59D\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 245, 157) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFEE58\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 238, 88) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FDD835\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(253, 216, 53) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFEA00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 234, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFE082\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 224, 130) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFCA28\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 202, 40) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFB300\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 179, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFC400\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 196, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFCC80\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 204, 128) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFA726\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 167, 38) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FB8C00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(251, 140, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF9100\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 145, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFAB91\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 171, 145) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF7043\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 112, 67) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-F4511E\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(244, 81, 30) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF3D00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 61, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-BCAAA4\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(188, 170, 164) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-8D6E63\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(141, 110, 99) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-6D4C41\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(109, 76, 65) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-fef7ef\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(254, 247, 239) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-f7f8ff\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(247, 248, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-f1fbf1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(241, 251, 241) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-fbf1fb\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(251, 241, 251) none repeat scroll 0% 0%'}}></div>\n\t\n     </div>\n\n\n\t </div></div></div>\n\t</div>\n)\n}\n\n\nColors2.displayName = \"Colors2\";\nexport default React.memo(Colors2);","import React, { useEffect } from 'react';\n\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport './textstyle.css';\n\nimport {storeSubstyle} from './storelocalstorage';\n\n// import {setWidth} from './utils';\n\nfunction setFontSize(e, props) {\n\n   e.currentTarget.previousSibling.firstChild.innerHTML = e.target.innerText;\n\n   console.log('props in sub', props, e.target.innerText)\n\n   if (props.d == \"s\") {\n    props.props.update_x(0, 'fs', parseInt(e.target.innerText))\n\n   } else {\n\n    if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'fs', parseInt(e.target.innerText))\n\n   }\n\n   props.props.invalidate(false);\n\n   // debugger\n\n   // console.log('set ration', e.currentTarget.previousSibling.innerText, e.currentTarget, e.target.innerText);\n}\n\n\n// Align - center left right\nfunction setColorH(e, props) {\n\n  var q, i=0;\n\n  if (props.d == \"s\") {\n    i = 1;\n  }\n\n  if (e.currentTarget.id == \"1left\") {\n      document.getElementsByClassName(\"1left\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"2center\")[i].style.display = \"block\"\n      document.getElementsByClassName(\"3right\")[i].style.display = \"none\"\n      q = \"center\"\n  } else if (e.currentTarget.id == \"2center\") {\n      document.getElementsByClassName(\"1left\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"2center\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"3right\")[i].style.display = \"block\"\n      q = \"right\"\n  } else {\n      document.getElementsByClassName(\"1left\")[i].style.display = \"block\"\n      document.getElementsByClassName(\"2center\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"3right\")[i].style.display = \"none\"\n      q = \"left\"\n  }\n\nif (props.d == \"s\") {\n\n      props.props.update_x(0, 'align', q)\n\n    } else {\n      \n    if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'align', q)\n\n    }\n  props.props.invalidate(false);\n}\n\nfunction setBold(e, props) {\n  e.currentTarget.classList.toggle(\"clickedH\")\n\n  var p = '';\n\n  if (e.currentTarget.classList.contains(\"clickedH\")) {\n      p = \"bold\";\n  }\n\n\n  if (props.d == \"s\") {\n    props.props.update_x(0, 'b', p)\n  } else {\n if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'b', p)\n  }\n\n  props.props.invalidate(false)\n}\n\nfunction setItalics(e, props) {\n  e.currentTarget.classList.toggle(\"clickedH\")\n\n  var p = ''\n  \n  if (e.currentTarget.classList.contains(\"clickedH\")) {\n      p = \"italic\"\n  }\n\nif (props.d == \"s\") {\n    props.props.update_x(0, 'i', p)\n  } else {\nif(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'i', p)\n}\n\n  props.props.invalidate(false)\n\n}\n\n\n\nfunction closeNone(e, props) {\n\n  var i = 0 ;\n  if (props.d == \"s\") {i=1}\n\n// Zoom slider\n  if (e.target.classList.contains(\"none\")) {\n    // document.getElementById(\"overlayzoom\").style.display = \"block\"\n    return;\n  }\n  \n  if (document.getElementsByClassName(\"overlaynone\")[i]) {\n      if (document.getElementsByClassName(\"overlaynone\")[i].contains(e.target)) {\n    // document.getElementById(\"overlayzoom\").style.display = \"block\";\n    return;\n  } \n  \n  document.getElementsByClassName(\"overlaynone\")[i].style.display = \"none\"  \n  }\n}\n\n\n\n\n\n\nfunction setbgColor(e, setTarget, setD, y) {\n  if (e.target.classList.contains(\"bgColor\") || e.target.parentNode.classList.contains(\"bgColor\")) {\n  document.getElementById(\"ycolumn\").style.display = \"block\";\n\n  var tar = e.currentTarget;\n\n  console.log('%',tar, tar.tagName == 'BUTTON', tar.children[0])\n  if (tar.tagName == 'BUTTON') {\n      tar = tar.children[0];\n  }\n\n  console.log('setTarget', tar);\n\n  setTarget(tar);\n  setD(y);\n\n  var offset = tar.getBoundingClientRect();\n  //var left = (offset.left + offset.width/2);\n  var top = (offset.top + offset.height); \n  // var top = offset.top;  \n  var left = offset.left;\n  // e.currentTarget.style.color = document.getElementsByClassName('vc-sketch-active-color')[0].style.background.split(\" none\")[0];\n\n  console.log('widget', tar, top, left);\n\n  // document.getElementById(\"ycolumn\").style.marginTop = top +'px';\n  // document.getElementById(\"ycolumn\").style.marginLeft = 0 + 'px';\n}\n}\n\nfunction displayFonts(e, props) {\n\n    var w = document.getElementsByClassName(\"SubtitleTools_subtitleDropDownList__2Q4CU\")\n\n    console.log('w', w);\n    // .style.display = \"block\"\n    if (props.d == \"s\") {\n      w[1].style.display = \"block\"\n    } else {\n      w[0].style.display = \"block\"\n    }\n}\n\nfunction selectfont(e, props) {\n\n   var i = 0\n\n   if (props.d == \"s\") {\n    i = 1\n    props.props.update_x(0, 'f', e.target.textContent)\n\n   } else {\n\n    if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'f', e.target.textContent)\n\n   }\n\n   props.props.invalidate(false);\n\n\n  document.getElementsByClassName(\"SubtitleTools_subtitleDropDownItemSelected__1bwqt\")[i].setAttribute(\"class\", \"btn-default SubtitleTools_subtitleDropDownItem__EdYF8\")\n   \n  e.target.setAttribute(\"class\", \"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 SubtitleTools_subtitleDropDownItemSelected__1bwqt\" )\n\n  document.getElementsByClassName(\"currentfont\")[i].textContent = e.target.textContent\n\n  // setWidth(i+1)\n\n}\n\n\n\nfunction setWrap(e, props) {\n    if(!document.getElementsByClassName(\"move\")[0]) return;\n\n  var i=0;\n\n\n  console.log('props.d', props.d)\n\n if (e.currentTarget.classList.contains(\"wrap\")) {\n  document.getElementsByClassName(\"wrap\")[i].style.display = \"none\";\n  document.getElementsByClassName(\"full\")[i].style.display = \"block\";\n\n  document.getElementsByClassName(\"move\")[0].style.width = '100%';\n \n\n  document.getElementsByClassName(\"move\")[0].style.backgroundColor = document.getElementsByClassName(\"move\")[0].lastElementChild.style.backgroundColor\n  document.getElementsByClassName(\"move\")[0].lastElementChild.style.backgroundColor = 'rgba(0,0,0,0)'\n\n} else {\n\n  document.getElementsByClassName(\"move\")[0].style.width = 'auto';\n\n  document.getElementsByClassName(\"wrap\")[i].style.display = \"block\";\n  document.getElementsByClassName(\"full\")[i].style.display = \"none\";\n \n\n    document.getElementsByClassName(\"move\")[0].lastElementChild.style.backgroundColor = document.getElementsByClassName(\"move\")[0].style.backgroundColor\n    document.getElementsByClassName(\"move\")[0].style.backgroundColor = 'rgba(0,0,0,0)'\n    \n  }\n}\n\nfunction Textstyle(props){\t\n\n\t// set the bkgrnd color as default\n\tvar  setTarget = props.setTarget; \n\n// set d for Colors2\n  var setD = props.setD;\n  var y = props.d;\n  \n\n  if (props.d == \"s\") {\n   console.log(props.d)\n  } else {\n\n  }\n\n\n\tuseEffect(() => {\n\n  document.body.addEventListener(\"click\", (e) => closeNone(e, props));\n\n\t\t// props.color\n\tif (props.target) {\n\t\n\n\t} else {\n\t\tvar parent = 'none';\n\t\tconsole.log('else props.target', parent)\n\t}\n\t\n\t},[props.target])\n\n\n// <button type=\"button\" className=\"btn btn-default SubtitleTools_subtitleDropDownItem__EdYF8\" data-toggle=\"tab\">\n// <span type=\"button\" className=\"btn btn-default SubtitleTools_subtitleDropDownLink__1nRl4\" data-toggle=\"tab\"><svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style={{\"vertical-align\": \"middle\", \"height\":\"1em\", \"width\":\"1em\"}}><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line></svg>&nbsp;More Fonts</span></button>\n\n\n    // <button onClick={(e) => setWrap(e, props)} style={{display:'none'}} type=\"button\" className=\"wrap clickedH btn btn-default\" data-toggle=\"tab\">Wrap</button>\n    // <button onClick={(e) => setWrap(e, props)} style={{display:'none'}} type=\"button\" className=\"full clickedH btn btn-default\" data-toggle=\"tab\">Full</button>\n\n\nreturn (\n\n\n<div class=\"SubtitleTools_subtitleToolOptionsContainerRow__24lPc\">\n<div class=\"SubtitleTools_subtitleDropDownContainer__1UEa0\">\n\n\n\n<div className=\"1\">\n<div className=\"SubtitleStyle\">\n\n<div className=\"flex\">\n\n<div role=\"button\" tabindex=\"0\" className=\"SubtitleTools_subtitleDropDownDisplay__2M4Ue\">\n\n<div data-testid='@editor/font-dropdown' width='120' className=\"sc-AxjAm sc-AxmLO ezduSf\">\n<div className='css-14jk2my-container'>\n<div id=\"fontin\" onClick={(e) => displayFonts(e, props)} className=\" css-59hgv7-control\">\n<div className=\" css-1hwfws3\"><div className=\"currentfont css-d2krpo-singleValue\">Arial</div><input id=\"react-select-6-input\" readonly=\"\" tabindex=\"0\" aria-autocomplete=\"list\" class=\"css-62g3xt-dummyInput\" value=\"\" disabled=\"\"/></div>\n<div className=\"css-1wy0on6\">\n<div aria-hidden=\"true\" class=\" css-5e2tja-indicatorContainer\"><svg height=\"20\" width=\"20\" viewBox=\"0 0 20 20\" aria-hidden=\"true\" focusable=\"false\" class=\"css-19bqh2r\"><path d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path></svg>\n</div>\n</div>\n\n</div>\n</div>\n</div>\n\n\n</div>\n\n    <div className=\"fontsize dropdown\">\n          <button type=\"button\" className=\"size btn btn-default dropbtn\" data-toggle=\"tab\">\n         <span></span>\n          <ExpandMoreIcon style={{fontSize: 20, display:'block'}}/>\n          </button>\n\n          <div onClick={(e) => setFontSize(e,props)} className=\"dropdown-contenx\">\n            <a>8</a>\n            <a>9</a>\n            <a>10</a>\n            <a>11</a>\n            <a>12</a>\n            <a>13</a>\n            <a>14</a>\n            <a>16</a>\n            <a>18</a>\n            <a>20</a>\n            <a>22</a>\n            <a>24</a>\n            <a>26</a>\n            <a>28</a> \n            <a>30</a>\n            <a>32</a>\n            <a>34</a>  \n          </div>\n    </div>\n\n\n\n    <button onClick={(e) => setBold(e, props)} type=\"button\" className=\"bold btn btn-default\" data-toggle=\"tab\">\n    <FormatBoldIcon />\n    </button>\n\n    <button onClick={(e) => setItalics(e, props)} type=\"button\" className=\"italic btn btn-default\" data-toggle=\"tab\">\n    <FormatItalicIcon />\n    </button>\n\n    <div className=\"col\">\n        <button id=\"1left\" style={{display:'none'}} onClick={(e) => setColorH(e, props)} type=\"button\" className=\"1left btn btn-default clickedH\" dataToggle=\"tab\"><FormatAlignLeftIcon /></button>  \n        <button id=\"2center\" onClick={(e) => setColorH(e, props)} type=\"button\" className=\"2center btn btn-default clickedH\" dataToggle=\"tab\"><FormatAlignCenterIcon /></button>  \n        <button id=\"3right\" style={{display:'none'}} onClick={(e) => setColorH(e, props)} type=\"button\" className=\"3right btn btn-default clickedH\" dataToggle=\"tab\"><FormatAlignRightIcon /></button>  \n    </div>\n\n    <button onClick={(e) => setbgColor(e, setTarget, setD, y)} type=\"button\" className=\"btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon onClick={(e) => setbgColor(e, setTarget, setD, y)} className=\"tfg bgColor\" style={{ fill: 'rgb(0,0,0)', 'fill-opacity':\"1\", fontSize: 20, display:'block', margin:'auto'}}/>text</button>\n\n    <button onClick={(e) => setbgColor(e, setTarget, setD, y)} type=\"button\" className=\"tbbg btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon onClick={(e) => setbgColor(e, setTarget, setD, y)} className=\"tbg tbbg bgColor\" style={{ fill: 'rgb(239,154,154)','fill-opacity':\"0.5\",display:'block', margin:'auto' }}/>bckgrnd</button>\n\n\n    <div className=\"flex\">\n    </div>\n\n\n\n\n</div>\n\n\n\n\n</div>\n\n\n<div className=\"SubtitleTools_subtitleDropDownList__2Q4CU\" tabindex=\"-1\">\n\n\n<div className=\"SubtitleTools_bottomDivider__3_E41\"></div>\n\n<div id=\"fontselect\" onClick={(e) => selectfont(e, props)}>\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 SubtitleTools_subtitleDropDownItemSelected__1bwqt\"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Arial\"}}>Arial</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Oswald\"}}>Oswald</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Impact\"}}>Impact</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Comic Sans MS\"}}>Comic Sans MS</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Montserrat\"}}>Montserrat</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Raleway\"}}>Raleway</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Helvetica\"}}>Helvetica</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Georgia\"}}>Georgia</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Satisfy\"}}>Satisfy</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Permanent Marker\"}}>Permanent Marker</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Playfair Display\"}}>Playfair Display</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Noto Sans\"}}>Noto Sans</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Amatic SC\"}}>Amatic SC</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Days One\"}}>Days One</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Rock Salt\"}}>Rock Salt</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"New Rocker\"}}>New Rocker</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8\"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Passion One\"}}>Passion One</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Indie Flower\"}}>Indie Flower</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Quicksand\"}}>Quicksand</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Shadows Into Light\"}}>Shadows Into Light</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Source Code Pro\"}}>Source Code Pro</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Aladin\"}}>Aladin</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Calligraffitti\"}}>Calligraffitti</span></button>\n</div>\n</div>\n\n</div>  \n\n</div>\n\n</div>\n\n\n)\n}\n\n\nTextstyle.displayName = \"Textstyle\";\nexport default React.memo(Textstyle);","/* global $ */\n\n/*16:9 //1920:1080*/\n/*9:16 //1080:1920 */\n/* 1:1  //1080:1080*/\n/* 4:5  //1080:1350*/\n// original\n\n// import {setSubTime} from './arrangesub';\nimport {addHead, hexToRgb} from './utils';\n\nexport const setVidDim = function(width, props) {\n\nvar c = document.getElementById(\"vid\")\nvar g = (c.offsetWidth/c.offsetHeight).toFixed(1)\n// var g = (props.state.width/props.state.height).toFixed(1)\n\n// var vcx = document.getElementById(\"stage\");\n// var vidx = document.getElementById(\"vid1\");\n\nvar r, nh, nw, bar_height, bar_height_new, head_pad\nif ( g == \"0.6\") {\n//  9:16 w=1080, h=1920\n\nnw = 1080; nh=1920;\ndocument.getElementById(\"ar\").textContent = \"9:16\";\nconsole.log('def width', width, width/1080);\nr = 1080/width;\n\nbar_height = 40 + 'px';\nbar_height_new = parseInt(bar_height);\n\n\nhead_pad = 50 + 'px';\nvar head_pad_new = parseInt(head_pad);\n\nvar head_fs = 130 + 'px';\nvar head_fs_new = parseInt(head_fs);\n\nvar sub_pad = 50 + 'px';\nvar sub_pad_new = parseInt(sub_pad);\n\n//pos from bottom (of text w/o padding)\nvar sub_pos = bar_height + sub_pad + 'px'; \nsub_pos = bar_height + 'px' ;\nvar sub_pos_new = parseInt(sub_pos);\n\nvar sub_fs = 110 + 'px';\nvar sub_fs_new = parseInt(sub_fs);\n\n// console.log(bar_height_new, head_fs_new)\n// return [bar_height_new, head_pad_new, head_fs_new*2/3, sub_pad_new, sub_pos_new, sub_fs_new*2/3]\n}\n\nelse if (g == \"1.8\") {\n\t// 16:9 w=1920, h=1080\n\nnw=1920; nh=1080;\ndocument.getElementById(\"ar\").textContent = \"16:9\";\nconsole.log('def width', width, width/1920);\nr = 1920/width;\nbar_height = 30 + 'px';\nbar_height_new = parseInt(bar_height);\n\n\nhead_pad = 50 + 'px';\nvar head_pad_new = parseInt(head_pad);\n\nvar head_fs = 130 + 'px';\nvar head_fs_new = parseInt(head_fs);\n\n\nvar sub_pad = 60 + 'px';\nvar sub_pad_new = parseInt(sub_pad);\n\n//pos from bottom (of text w/o padding)\nvar sub_pos = bar_height + sub_pad + 'px'; \nvar sub_pos = bar_height + 'px' ;\nvar sub_pos_new = parseInt(sub_pos);\n\nvar sub_fs = 120 + 'px';\nvar sub_fs_new = parseInt(sub_fs);\n\n// console.log(bar_height_new, head_fs_new)\n// return [bar_height_new, head_pad_new, head_fs_new*2/3, sub_pad_new, sub_pos_new, sub_fs_new*2/3]\n}\n\n\nelse if (g == \"1.0\") {\n\t// 1:1 w=1080, h=1080\n\nnw=1080; nh=1080;\nr = 1080/width;\ndocument.getElementById(\"ar\").textContent = \"1:1\";\nconsole.log('def width', width, width/1080);\nbar_height = 25 + 'px';\nbar_height_new = parseInt(bar_height);\n\n\nhead_pad = 25 + 'px';\nvar head_pad_new = parseInt(head_pad);\n\nvar head_fs = 110 + 'px';\nvar head_fs_new = parseInt(head_fs);\n\n\nvar sub_pad = 25 + 'px';\nvar sub_pad_new = parseInt(sub_pad);\n\n//pos from bottom (of text w/o padding)\nvar sub_pos = bar_height + sub_pad + 'px'; \nvar sub_pos = bar_height + 'px' ;\nvar sub_pos_new = parseInt(sub_pos);\n\nvar sub_fs = 90 + 'px';\nvar sub_fs_new = parseInt(sub_fs);\n\n// console.log(bar_height_new, head_fs_new)\n// return [bar_height_new, head_pad_new, head_fs_new*2/3, sub_pad_new, sub_pos_new, sub_fs_new*2/3]\n}\n\nelse if(g == \"0.8\"){\n\t// 4:5 w=1080, h=1350\t\n\nnw=1080; nh=1350;\nr = 1080/width;\ndocument.getElementById(\"ar\").textContent = \"4:5\";\nconsole.log('def width', width, width/1080);\nbar_height = 30 + 'px';\nbar_height_new = parseInt(bar_height);\n\n\nhead_pad = 30 + 'px';\nvar head_pad_new = parseInt(head_pad);\n\nvar head_fs = 110 + 'px';\nvar head_fs_new = parseInt(head_fs);\n\n\nvar sub_pad = 30 + 'px';\nvar sub_pad_new = parseInt(sub_pad);\n\n//pos from bottom (of text w/o padding)\nvar sub_pos = bar_height + sub_pad + 'px'; \nvar sub_pos = bar_height + 'px' ;\nvar sub_pos_new = parseInt(sub_pos);\n\nvar sub_fs = 100 + 'px';\nvar sub_fs_new = parseInt(sub_fs);\n\n// console.log(bar_height_new, head_fs_new)\n// return [bar_height_new, head_pad_new, head_fs_new*2/3, sub_pad_new, sub_pos_new, sub_fs_new*2/3]\n}\n\nelse {\n\n// original w=1080 h=810  (4:3)\ndocument.getElementById(\"ar\").textContent = \"Org\";\nconsole.log('def width', width, width/1080);\nr = 1080/width;\nvar height = document.getElementById(\"stage\").offsetHeight;\nnw = 1080; nh = height*r\nbar_height = 25 + 'px';\nbar_height_new = parseInt(bar_height);\n\n\nhead_pad = 25 + 'px';\nvar head_pad_new = parseInt(head_pad);\n\nvar head_fs = 100 + 'px';\nvar head_fs_new = parseInt(head_fs);\n\n\nvar sub_pad = 25 + 'px';\nvar sub_pad_new = parseInt(sub_pad);\n\n//pos from bottom (of text w/o padding)\nvar sub_pos = bar_height + sub_pad + 'px'; \nvar sub_pos = bar_height + 'px' ;\nvar sub_pos_new = parseInt(sub_pos);\n\nvar sub_fs = 80 + 'px';\nvar sub_fs_new = parseInt(sub_fs);\n\n\n// console.log(bar_height_new, head_fs_new)\n// return [bar_height_new, head_pad_new, head_fs_new*2/3, sub_pad_new, sub_pos_new, sub_fs_new*2/3]\n\n}\n\n// store ratio in span-custom-seekbar11\ndocument.getElementById(\"custom-seekbar11\").setAttribute(\"ratio\", r);\ndocument.getElementById(\"custom-seekbar11\").setAttribute(\"nw\", nw);\ndocument.getElementById(\"custom-seekbar11\").setAttribute(\"nh\", nh);\n\nhead_fs_new = head_fs_new*2/3\nsub_fs_new = sub_fs_new*2/3\n\nvar c = 1/r\nreturn [bar_height_new, head_pad_new, head_fs_new, sub_pad_new, sub_pos_new, sub_fs_new]\n\n}\n\nexport const setTemplate1 = function(x, props) {\n\nconsole.log('props setTemplate1', props)\n\n// file has been uploaded\nif(localStorage.getItem(\"filename\")) {\n\nconsole.log('HIIIIIIIIIIIIIIIIIIIIIII', document.getElementsByClassName(\"Mpbar\")[0].style.display)\ndocument.getElementsByClassName(\"Mpbar\")[0].style.display = \"none !important\";\nconsole.log('HIIIIIIIIIIIIIIIIIIIIIII', document.getElementsByClassName(\"Mpbar\")[0].style.display)\n}\n\n// padding color for video\nvar v = document.getElementById(\"vid\")\nif (localStorage.getItem(\"videoColor\")) {\n\nvar col = localStorage.getItem(\"videoColor\")\nv.style.backgroundColor = col;\n\nvar d = col.split(\"(\")[1];\nvar dd = d.split(\",\");\ntry{\nvar a = parseFloat(dd[3].split(')')[0])\ndocument.getElementById(\"v\").style.fillOpacity = a;\n} catch {}\nvar rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2])];\n\ndocument.getElementById(\"v\").style.fill = 'rgb('+rgb.join()+')';\n\n\n} else {\n\nv.style.backgroundColor = 'rgba(0,0,0,1)';\n\ndocument.getElementById(\"v\").style.fill = 'rgb(0,0,0)';\ndocument.getElementById(\"v\").style.fillOpacity = 1;\n\n\n}\n\nvar vcx = document.getElementById(\"stage\")\n// 9:16\nvar hd = setVidDim(vcx.offsetWidth, props);\n\n\ndocument.getElementById(\"vx\").style.right = 0\ndocument.getElementById(\"vx\").style.left = 0\ndocument.getElementById(\"vx\").style.margin = 'auto'\n\n// document.getElementById(\"vx\").style.top = 0\n// document.getElementById(\"vx\").style.bottom = 0 + '%'\n\n\nvar c = 1/document.getElementById(\"custom-seekbar11\").getAttribute(\"ratio\");\nvar bar_height_new = c*hd[0];\n\nvar head_pad_new = c*hd[1];\nvar head_fs_new = c*hd[2];\n\nvar sub_pad_new = c*hd[3];\nvar sub_pos_new = c*hd[4];\nvar sub_fs_new = c*hd[5];\n\n// if ratio changes?\nif(JSON.parse(localStorage.getItem('seekbar'))[0]) {\n\n\tvar x = JSON.parse(localStorage.getItem('seekbar'))\n\tvar c = 1/document.getElementById(\"custom-seekbar11\").getAttribute(\"ratio\")\n\ndocument.getElementById(\"custom-seekbar1\").style.height = '3%';\nconsole.log('XXXX', x)\nconsole.log('SEEEEKBAAAR 1', document.getElementById(\"custom-seekbar1\").style.height)\n\t// document.getElementById(\"custom-seekbar1\").style.height = c*x[1] + 'px';\n\t// document.getElementById(\"custom-seekbar1\").style.width = x[2] ;\n\t// document.getElementById(\"custom-seekbar1\").style.top = x[3] ;\n\tdocument.getElementById(\"custom-seekbar11\").style.backgroundColor = x[4];\n\tdocument.getElementById(\"custom-seekbar1\").style.backgroundColor = x[5] ;\n\t// document.getElementById(\"custom-seekbar1\").style.left = x[6] ;\n\t\n\tdocument.getElementById(\"fp\").style.fill = x[4];\n\tdocument.getElementById(\"fp\").style.fillOpacity = 1;\n\n\tdocument.getElementById(\"bp\").style.fill = x[5];\n\tdocument.getElementById(\"bp\").style.fillOpacity = 1;\n\n\n} else {\n\nconsole.log('SEEEEKBAAAR 2', document.getElementById(\"custom-seekbar1\").style.height)\n\t// document.getElementById(\"custom-seekbar1\").style.height = 2*bar_height_new + 'px';\n\t// document.getElementById(\"custom-seekbar1\").style.width = 100 + '%';\n\n\n\t// document.getElementById(\"custom-seekbar1\").style.top = 90 + '%';\n\t// document.getElementById(\"custom-seekbar11\").style.backgroundColor = 'rgba(206,147,216,1)';\n\t// front\n\tdocument.getElementById(\"custom-seekbar11\").style.backgroundColor = 'rgba(255,255,255,1)';\n\t// back\n\tdocument.getElementById(\"custom-seekbar1\").style.backgroundColor = 'rgba(0,0,0,0.4)' ;\n\t// document.getElementById(\"custom-seekbar1\").style.left = 0 + '%';\n\t\n\tdocument.getElementById(\"fp\").style.fill = 'rgb(255,255,255)';\n\tdocument.getElementById(\"fp\").style.fillOpacity = 1;\n\n\tdocument.getElementById(\"bp\").style.fill = 'rgb(0,0,0)';\n\tdocument.getElementById(\"bp\").style.fillOpacity = .4;\n}\n\n\n// var sub = document.getElementById(\"subtitle-text-container\");\n// sub.style.padding = sub_pad_new + 'px'\n\n// document.getElementById(\"subtitle-text-container\").style.fontSize = sub_fs_new + 'px'  //16px\n// props.update_x(0, 'fs', sub_fs_new )\n\n// document.getElementById(\"subtitle-text-container\").style.padding = 0.5*sub_pad_new + 'px'\n\n\n// if(JSON.parse(localStorage.getItem('substyle'))[0]) {\n\n\n\n// \t// justifyContent = 'flex-start' 'flex-end' 'center'\n// \t// if(x[1] == 'rgba(0, 0, 0, 0)') {\n\t\n// \tif(x[1].split(',')[3] && x[1].split(',')[3].split(')')[0] == 0) {\n// \t\tdocument.getElementsByClassName(\"wrap\")[1].style.display = \"block\";\n//   \t\tdocument.getElementsByClassName(\"full\")[1].style.display = \"none\";\n//   \t\tdocument.getElementsByClassName(\"tbg\")[1].style.fill = x[10];\n// \t} else {\n// \t\tdocument.getElementsByClassName(\"wrap\")[1].style.display = \"none\";\n//   \t\tdocument.getElementsByClassName(\"full\")[1].style.display = \"block\";\n//   \t\tdocument.getElementsByClassName(\"tbg\")[1].style.fill = x[1];\n// \t}\n\n// // in %\n// \t// document.getElementById(\"subtitles-text-container\").style.width = x[2]\n\n// \tif(x[6]) { \n\n// \t\tdocument.getElementsByClassName(\"bold\")[1].classList.add(\"clickedH\")}\n// \tif(x[7]) { \n\n// \t\tdocument.getElementsByClassName(\"italic\")[1].classList.add(\"clickedH\")\n// \t}\n// \tif(x[8]) { \n\n//   \t\tdocument.getElementsByClassName(\"currentfont\")[1].innerText = x[9];\n// \t}\n\n// \t// document.getElementById(\"subtitles-text-container\").style.visibility = 'visible';\n\t\n// \tdocument.getElementsByClassName(\"tfg\")[1].style.fill = x[0];\n// \tdocument.getElementsByClassName(\"tfg\")[1].style.fillOpacity = 1;\n\n\n// \tdocument.getElementsByClassName(\"tbg\")[1].style.fillOpacity = 1;\n\n// } else {\n\n\n\n\n//   document.getElementsByClassName(\"wrap\")[1].style.display = \"none\";\n//   document.getElementsByClassName(\"full\")[1].style.display = \"block\";\n\n\n// \tdocument.getElementsByClassName(\"tfg\")[1].style.fill = 'rgb(0,0,0)';\n// \tdocument.getElementsByClassName(\"tfg\")[1].style.fillOpacity = 1;\n\n// \tdocument.getElementsByClassName(\"tbg\")[1].style.fill = 'rgb(255,255,255)';\n// \tdocument.getElementsByClassName(\"tbg\")[1].style.fillOpacity = 0.5;\n\n// \tdocument.getElementsByClassName(\"currentfont\")[1].textContent = \"Oswald\"\n\n\n// }\n\n\n// var t = 0\n\n// while(JSON.parse(localStorage.getItem(t))) {\n// \t\tlocalStorage.removeItem(t)\n// \t\tt = t+1\n// }\n\n// if there is already one head-container (=>all others will be there, dont do this)\n\n\n\nvar vid = document.getElementById(\"vid\");\n\nvar texts = document.getElementsByClassName(\"head-text-container\")\nfor (var k=0; k<texts.length; k++) {\n\ttexts[k].style.fontSize = head_fs_new + 'px';\n\ttexts[k].style.padding = 0.7*head_pad_new + 'px';\n}\n\nvar rgb = hexToRgb(props.state.color)\n\nrgb.push(0.5)\nvar hbc = 'rgba('+rgb.join()+')';\n\nvar sbc = 'rgba(255,255,255,0.5)';\n\nvar ht = 'rgba(251,241,251,1)';\n\n\nvar d = ht.split(\"(\")[1];\nvar dd = d.split(\",\");\nvar a = parseFloat(dd[3].split(')')[0])\nvar rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2])];\n// document.getElementById(\"bp\").style.fill = 'rgb('+rgb.join()+')';\n// document.getElementById(\"bp\").style.fillOpacity = a\n\n\n\n\n// document.getElementById(\"custom-seekbar11\").getAttribute(\"ratio\");\n\n\n// var ht = 'rgba(255,0,0,1)';\nvar ht = props.state.color;\n\nvar rgb =  hexToRgb(props.state.color);\n// document.getElementById(\"fp\").style.fill = 'rgb('+rgb.join()+')';\n// document.getElementById(\"fp\").style.fillOpacity = a\n\nvar stc = 'rgba(0,0,0,1)';\n\n// document.getElementById(\"subtitle-text-container\").getBoundingClientRect().height - sub_pad_new\n\nvar sf = document.getElementsByClassName(\"fontsize\")\n// sub => 2nd element\nsf[1].children[0].children[0].textContent = Math.round(sub_fs_new) ;\n\n// document.getElementsByClassName(\"currentfont\")[1].textContent = \"Oswald\"\n\n\n// document.getElementsByText\n\n// set subtitle text color\n// var d = stc.split(\"(\")[1];\n// var dd = d.split(\",\");\n// var a = parseFloat(dd[3].split(')')[0])\n// var rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2])];\n// document.getElementsByClassName(\"tfg\")[1].style.fill = 'rgb('+rgb.join()+')';\n// document.getElementsByClassName(\"tfg\")[1].style.fillOpacity = a\n\n// set subtitle back color\n// var d = sbc.split(\"(\")[1];\n// var dd = d.split(\",\");\n// var a = parseFloat(dd[3].split(')')[0])\n// var rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2])];\n// document.getElementsByClassName(\"tbg\")[1].style.fill = 'rgb('+rgb.join()+')';\n// document.getElementsByClassName(\"tbg\")[1].style.fillOpacity = a\n\n\n\n// // just around text padding/color\n// var htc = 'rgba(255,255,255,1)';\n\n// console.log('sf sf', sf[0].children[0])\nsf[0].children[0].children[0].textContent = Math.round(head_fs_new);\ndocument.getElementsByClassName(\"currentfont\")[0].textContent = \"Oswald\"\n\n// set heading text color\n// var d = htc.split(\"(\")[1];\n// var dd = d.split(\",\");\n// var a = parseFloat(dd[3].split(')')[0])\n// var rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2])];\n// document.getElementsByClassName(\"tfg\")[0].style.fill = 'rgb('+rgb.join()+')';\n// document.getElementsByClassName(\"tfg\")[0].style.fillOpacity = a;\n\n// set head back color\n// console.log('hbc', hbc);\n// var d = hbc.split(\"(\")[1];\n// var dd = d.split(\",\");\n// var a = parseFloat(dd[3].split(')')[0])\n// var rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2])];\n// document.getElementsByClassName(\"tbg\")[0].style.fill = 'rgb('+rgb.join()+')';\n// document.getElementsByClassName(\"tbg\")[0].style.fillOpacity = a;\n\n\n// document.getElementById(\"askSub\").style.display = 'block';\n\n// set display subtitles as 0 => dont show subtitles\n  // localStorage.setItem(\"showSub\", \"0\")\n\n// generate subtitle\ndocument.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display = \"none\"\ndocument.getElementById(\"askSub\").getElementsByClassName(\"transcribe_\")[0].style.display = \"none\"\n \n// document.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display = \"block\"\n// document.getElementById(\"askSub\").getElementsByClassName(\"transcribe_\")[0].style.display = \"block\"\n// localStorage.setItem(\"showSub\", \"0\")\n\n\n}\n","// the setting bar towards left to change styling\n\n\nimport React, { useState,useEffect } from 'react';\n// import Color from './colors';\nimport Colors2 from './colors2';\nimport Textstyle from './textstyle';\nimport './vidstyle.css';\n\nimport Tab1 from './tab1';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport {setTemplate1} from './setTemplate';\nimport {setWidth, setDim, miliToTime} from './utils'\nimport axios from 'axios'; \n\n// import {fade} from 'material-ui/styles/colorManipulator';\n\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n\nconst progUp = function (e) {\n\n  document.getElementById(\"custom-seekbar1\").style.bottom = parseFloat(document.getElementById(\"custom-seekbar1\").style.bottom) + 1 + 'px'; \n\n}\n\nconst progDwn = function (e) {\n  console.log('prog', document.getElementById(\"custom-seekbar1\").style.bottom)\n    document.getElementById(\"custom-seekbar1\").style.bottom = parseFloat(document.getElementById(\"custom-seekbar1\").style.bottom) - 1 + 'px';\n\n}\n\nconst closeStyle = function (e) {\n      document.getElementById(\"xcolumn\").style.display=\"none\"\n}\n\n\nfunction setARatio(e, props) {\n  var txtt = e.target.innerText.split(' ')[0]\n  console.log('txtt', txtt)\n   e.currentTarget.previousSibling.firstChild.innerHTML = txtt;\n\n\n  var r = e.target.id \n\n  setDim(r, props)\n\n\n\n// var vidx = document.getElementById(\"vid1\");\n// vidx.load();\n// vidx.onloadeddata = function() {\n\n\n  setTemplate1(1, props);\n//     // setWidth(1);\n\n\n// };\n\n   // console.log('set ration', e.currentTarget.previousSibling.innerText, e.currentTarget, e.target.innerText);\n}\n\n\n\nfunction closeWidget(e) {\n\n// close if user is writing subtitles\ntry{\n  if(document.getElementById(\"subdiv\").contains(e.target)) {\n    \n    document.getElementById('xcolumn').style.display='none'\n    \n  }\n} catch {}\n\ntry {\n  if (!document.getElementById(\"xx\").contains(e.target)) {\n  \n    document.getElementById(\"rx\").style.display=\"block\"\n    document.getElementById(\"xx\").style.display=\"none\"\n    document.getElementsByClassName(\"vid-fixed-top\")[0].style.opacity = 1\n\n    console.log(e.target)\n  }\n} catch {}\n// id is either parent circle or button\n\tif (e.target.classList.contains(\"bgColor\")) {\n\t// document.getElementById(\"ycolumn\").style.display = \"block\";\n\treturn;\n\t} \n\n  if (document.getElementById(\"ycolumn\")) {\n// if the target is a child of 'color widget'\n\tif (document.getElementById(\"ycolumn\").contains(e.target)) {\n\t   // document.getElementById(\"ycolumn\").style.display = \"block\";\n\treturn;\t\n\t}\n\n  document.getElementById(\"ycolumn\").style.display = \"none\";\n\n// Zoom slider\n  if (e.target.classList.contains(\"zoomd\") || e.target.id == \"zoomd\") {\n    // document.getElementById(\"overlayzoom\").style.display = \"block\"\n    return;\n  }\n  \n  if (document.getElementById(\"overlayzoom\")) {\n      if (document.getElementById(\"overlayzoom\").contains(e.target)) {\n    // document.getElementById(\"overlayzoom\").style.display = \"block\";\n    return;\n  } \n  \n  document.getElementById(\"overlayzoom\").style.display = \"none\"\n\n  // fonts - head and sub\n  var ft = document.getElementsByClassName(\"SubtitleTools_subtitleDropDownList__2Q4CU\");\n  var i = 0\n  if (e.target.id == \"fontin\") {\n    // ft[i].style.display = \"block\"\n    return;\n  }\n  \n  if (ft[0].style.display != \"none\") {\n      if (ft[0].contains(e.target)) {\n        // ft[i].style.display = \"block\";\n        return;\n  } \n}\n\n  if (ft[1].style.display != \"none\") {\n      if (ft[1].contains(e.target)) {\n        // ft[i].style.display = \"block\";\n        return;\n  } \n}\n\nft[0].style.display = \"none\"\nft[1].style.display = \"none\"\n  \n  \n  }\n}\n\n}\n\n\n\nfunction calcSub() {\n\n    const meta = JSON.parse(localStorage.getItem('meta'));\n\n    console.log('meta', meta);\n    // // console.log(props.match.params, props.location.state);\n    // // console.log('dur',props.location.state.vid.duration);\n    var strt=[];\n    var en=[];\n    var sub=[];\n    for(var i=0;i<meta.length;i++){\n      strt.push(meta[i].start_time);\n      en.push(meta[i].end_time);\n      sub.push(meta[i].words);\n    }\n\n    // var se = parseFloat(props.location.state.vid.duration).toFixed(1).split('.');\n    // var se = parseFloat(localStorage.getItem(\"duration\")).toFixed(1).split('.');\n    var viddur = miliToTime(parseFloat(localStorage.getItem(\"duration\"))*1000)\n\n    // var se = ['33', '9']\n\n// change end_time to duration for last element\n    en[i-1] = viddur;\n    strt[i] = viddur;\n    en[i] = viddur;\n    sub[i] = \" \";\n\n    localStorage.setItem('sub', JSON.stringify(sub));\n    localStorage.setItem('en', JSON.stringify(en));\n    localStorage.setItem('strt', JSON.stringify(strt));\n\n    console.log('DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD');\n    console.log(JSON.parse(localStorage.getItem('sub')));\n\n}\n\n\nfunction generateSub(e, s, setS) {\n\n  var data = {}\n  data['filename'] = localStorage.getItem('filename');\n  axios.post('http://localhost:5000/getsub', data,\n      {\n    \n      headers: {\n        'Content-Type': 'application/json',\n      // 'Content-Type': 'multipart/form-data',\n      },\n\n    }).then((response) => {\n\n\n      return response;\n\n    }).then((body) => {\n        console.log('body r', body.data.data)\n\n        var meta = body.data.data.meta\n        localStorage.setItem('meta', JSON.stringify(meta))\n        \n        calcSub();\n        setS('true');\n        document.getElementById(\"dcolumn\").style.display = 'block';\n\n})\n\n}\n\nfunction zoomD(e) {\n  console.log('zoom', e.target)\n  document.getElementById(\"overlayzoom\").style.display = \"block\"\n}\n\nfunction setbgColor(e, setTarget) {\n  if (e.target.classList.contains(\"bgColor\") || e.target.parentNode.classList.contains(\"bgColor\")) {\n  document.getElementById(\"ycolumn\").style.display = \"block\";\n\n  var tar = e.currentTarget;\n\n  console.log('%',tar, tar.tagName == 'BUTTON', tar.children[0])\n  if (tar.tagName == 'BUTTON') {\n      tar = tar.children[0];\n      console.log(tar);\n\n  }\n\n  console.log('setTarget', tar);\n\n  setTarget(tar);\n\n  var offset = tar.getBoundingClientRect();\n  //var left = (offset.left + offset.width/2);\n  var top = (offset.top + offset.height); \n  // var top = offset.top;  \n  var left = offset.left;\n\n  // e.currentTarget.style.color = document.getElementsByClassName('vc-sketch-active-color')[0].style.background.split(\" none\")[0];\n\n  console.log('widget', tar, top, left);\n\n  // document.getElementById(\"ycolumn\").style.marginTop = top +'px';\n  // document.getElementById(\"ycolumn\").style.marginLeft = 0 + 'px';\n}\n}\n\nfunction Vidstyle(props){\n\n// set the bkgrnd color as default\n  const [target, setTarget] = useState(0); \n  const [d, setD] = useState(\"s\"); \n  const [s, setS] = useState(\"false\")\n\n  // const props = props;\n  // console.log('##tar', target);\n\n\tuseEffect(() => {\n\n\tdocument.body.addEventListener(\"click\", (e) => closeWidget(e));\n\n\n// zoom\n\n  // Zoom in video \n  /* Array of possible browser specific settings for transformation */\n  var properties = ['transform', 'WebkitTransform', 'MozTransform',\n                    'msTransform', 'OTransform'],\n      prop = properties[0];\n\n  /* Iterators and stuff */    \n  var i,j;\n\n  var stage = document.getElementById('stage');\n  /* Find out which CSS transform the browser supports */\n  for(i=0,j=properties.length;i<j;i++){\n    if(typeof stage.style[properties[i]] !== 'undefined'){\n      prop = properties[i];\n      break;\n    }\n  }\n\n  var v = document.getElementById('vid1');\n  var slider = document.getElementById(\"zoom\");\n  slider.addEventListener(\"input\", function(e){\n    e.preventDefault();\n    e.stopPropagation();\n    // document.getElementById(\"demo\").innerHTML = this.value;\n    slider.value = parseInt(slider.value) \n    var zoom = 1 + parseInt(slider.value)/10 ;\n  // // console.log('zoom',zoom);\n    v.style[prop]='scale('+zoom+')';\n  });\n\n  // var slide = document.getElementById(\"opacity\");\n  // slide.addEventListener(\"input\", function(e){\n  //   e.preventDefault();\n  //   e.stopPropagation();\n  //   // document.getElementById(\"demo\").innerHTML = this.value;\n  //   slide.value = parseInt(slide.value) \n  //   var opacity = parseInt(slide.value)/10 ;\n\n  // });\n\n\n\t},)\n\n\n// vc-saturation selects the color\n\nreturn (\n  <div style={{display: 'flex'}}>\n\t<div id=\"xcolumn\">\n  <CancelIcon id=\"stylecancel\" onClick={closeStyle} style={{ display: 'inline-block', cursor: 'pointer' }} />\n\t \n  <Colors2 d={d} target={target}/>\n\n\t<div className=\"sidenav\">\n\n    <div className=\"flexy\">\n\n    <div className=\"flexy\">\n\n    <div className=\"coly\">\n    \n\t \t<div className=\"textinwidget\">Video</div>\n    <div className='aspec'>\n    <div className=\"dropdown aspect\">\n  \t\t\t<button type=\"button\" className=\"btn btn-default dropbtn\" data-toggle=\"tab\">Size\n          <br/> \n          <span id='ar'>9:16</span>\n          <ExpandMoreIcon/>\n        </button>\n  \t\t\t\n        <div onClick={(e) => setARatio(e,props)} className=\"dropdown-content\">\n    \t\t\t<a id='1:1'>1:1 Square</a>\n    \t\t\t<a id='16:9'>16:9 LandScape</a>\n    \t\t\t<a id='9:16'>9:16 Vertical</a>\n    \t\t\t<a id='4:5'>4:5 Portrait</a>\n    \t\t\t<a id='org'>Org Size</a>\t\n  \t\t\t</div>\n\n\t \t</div>\n\n      <button onClick={(e) => setbgColor(e, setTarget)} type=\"button\" className=\"v btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon id=\"v\" onClick={(e) => setbgColor(e, setTarget)} className=\"v bgColor\" style={{ fill: 'rgb(139,0,0)', 'fill-opacity':\"1\", display:'block', margin:'auto' }}/>vidbck</button>\n\n      <button onClick={zoomD} id=\"zoomd\" type=\"button\" className=\"btn btn-default zoomd\" data-toggle=\"tab\">Zoom</button>    \n\n      <button type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\">LOGO</button> \n    </div>\n    </div>\n    \n\n    <div className=\"coly2\">\n      <div className=\"textinwidget\">progress bar</div>  \n      <div className=\"flexy\">\n        <button onClick={(e) => setbgColor(e, setTarget)} type=\"button\" className=\"bp btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon id=\"bp\" onClick={(e) => setbgColor(e, setTarget)} className=\"bp bgColor\" style={{ fill: 'rgb(155,123,0)', 'fill-opacity':\"1\", display:'block', margin:'auto' }}/> bck </button>\n        <button onClick={(e) => setbgColor(e, setTarget)} type=\"button\" className=\"fp btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon id=\"fp\" onClick={(e) => setbgColor(e, setTarget)} className=\"fp bgColor\" style={{ fill: 'rgb(14,125,205)', 'fill-opacity':\"1\", display:'block', margin:'auto' }}/>front</button>\n\n\n        <button onClick={(e) => progDwn(e, props)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\">\n        <ArrowDownwardIcon style={{display:'block', margin: 'auto'}}/>\n        dwn \n        </button> \n\n        <button onClick={(e) => progUp(e, props)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\"><ArrowUpwardIcon style={{display:'block', margin: 'auto'}}/>up</button>\n\n\n      </div>  \n    </div>\n\n\n\n\n    </div>\n\n      <div className=\"coly\">\n      <div id=\"heady\" style={{display: 'block'}} className=\"coly\">\n        <div className=\"coly\">\n          <div className=\"textinwidget\">Heading</div> \n        </div>\n        <Textstyle d=\"h\" setTarget={setTarget} setD={setD}/>\n      </div>\n      <button onClick={(e) => generateSub(e, s, setS)} id='generateSub' type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\">Generate Subtitles</button>\n      <div id=\"suby\" style={{ display: 'block'}}>\n        <div className=\"textinwidget\">Subtitle</div>\n        <Textstyle d=\"s\" setTarget={setTarget} setD={setD}/>\n      </div>\n      </div>\n    \n    </div>\n\n\n      <div id=\"overlayzoom\">\n      <div className=\"slidercontain\">\n        <input type=\"range\" className=\"slider\" min=\"0\" max=\"10\" step=\"1\" value=\"0\" id=\"zoom\" /> \n      </div>\n      </div>\n      \n\n\n\t   </div>\n\n  </div>\n  <Tab1 s={s} style={{position: 'absolute'}} />\n\t</div>\n)\n}\n\n\nVidstyle.displayName = \"Vidstyle\";\nexport default React.memo(Vidstyle);","\n/* global $ */\n\nimport {gettime, miliToTime, miliToHrCommaTime} from './utils';\n\n\n\nconst addTickerF = function(t) { \n  console.log('in addticker');\n\n    \n\n\tvar totalchars = document.getElementById('pooo').textContent.length\n\n\tvar poW = document.getElementById(\"pooo\").offsetWidth\n\tvar oneWidth = totalchars / poW\n\tvar charP = $('#vid').width() * oneWidth;\n\tcharP = Math.ceil(charP);\n\tconsole.log('old churpos', charP, totalchars, 'vid', $('#vid').width(), poW, oneWidth)\n\n  \tconst selectedSub = t\n  \tconst idn = selectedSub.id;\n  \tconsole.log(\"span idn \", idn);\n\n\n    /* var cursorPos = $('#text').prop('selectionStart') */\n    // var cursorPos = window.getSelection().getRangeAt(0).startOffset;\n    var cursorPos = charP;\n    \n    // var v = document.getElementById(idn).innerText;\n    const v = selectedSub.innerText;\n    console.log('text',v);\n    console.log('char',v.charAt(cursorPos), 'cursor:',cursorPos,'v', v);\n\n    var pa_stime = selectedSub.getAttribute(\"stime\");\n    var pa_etime = selectedSub.getAttribute(\"etime\");\n    // console.log(v.charAt(cursorPos) == ' ')\n\n\n    while (v.charAt(cursorPos) != ' ') {\n\n    \tcursorPos = cursorPos - 1;\n    \tconsole.log('cur find', cursorPos);\n    }\n\n   \n\n    console.log('new curpos', cursorPos );\n    // console.log('!!add ticker cursorPos', cursorPos, 'v',v.length);\n    var tim = gettime(idn, cursorPos);\n    // console.log('in add ticker get time:',t);\n    var t = miliToTime(tim);\n    //console.log('in add ticker get time:',t);\n\n    // console.log('selected sub-', 'sub value before-',selectedSub.value);\n    var textBefore = v.substring(0,  cursorPos );\n    var textAfter  = v.substring( cursorPos, v.length );\n    \n    selectedSub.innerText =  textBefore;\n    console.log(selectedSub.innerText, 'tB',textBefore);\n    // console.log('selected sub', 'cur',cursorPos,'textBefore', textBefore, 'selected sub value:', selectedSub.value);\n    // props.changeCaptions(textBefore);\n\n    // console.log(\"child\", document.getElementById(\"subdiv\").children );\n    // console.log(' strt length:', strt);\n\n    var i = document.getElementsByClassName(\"caption\").length;\n    var pa = selectedSub;\n\n    var cdiv = document.createElement(\"div\");\n    cdiv.setAttribute(\"caption-break\", \"\");  \n\n \n    cdiv.className = \"caption-break\";\n    cdiv.contentEditable = \"true\";\n    cdiv.draggable = \"true\";\n\n\n    // var ticker = document.createElement(\"button\");\n    var ticker = document.createElement(\"span\");\n\n    //do not write random text in time button\n    ticker.setAttribute(\"contentEditable\", \"false\");\n    ticker.setAttribute(\"id\", \"bt\"+i.toString());\n    // console.log('bttn id', ticker.id);\n    ticker.style.position = 'relative';\n\n    \n    // cdiv.appendChild(tickdiv);\n    cdiv.appendChild(ticker);\n    // ticker.appendChild(spantick);\n    // tickdiv.appendChild(inputtick);\n\n    // pa.appendChild(cdiv);\n    pa.insertAdjacentElement(\"afterend\", cdiv);\n\n    var cspan = document.createElement(\"span\");\n    cspan.setAttribute(\"stime\", t);\n    cspan.setAttribute(\"etime\", pa_etime);\n\n    selectedSub.setAttribute(\"etime\", t);\n\n    cspan.setAttribute(\"className\", \"caption current-caption\");\n    cspan.setAttribute(\"class\", \"caption current-caption\");\n        \n    cspan.setAttribute(\"contentEditable\", \"true\");\n\n    cspan.innerText = textAfter; //sub[i];\n    cspan.setAttribute(\"id\", i);\n\n    console.log('new ticker text', cspan.innerText);\n\n\n\n    // pa.appendChild(cspan);\n    cdiv.insertAdjacentElement(\"afterend\", cspan);\n\n    // cspan.className = \"caption\";\n    cspan.setAttribute(\"className\", \"caption\");\n    cspan.setAttribute(\"class\", \"caption\");\n\n    ticker.style.backgroundColor = 'black';\n   \tticker.style.color = 'white';\n   \tticker.style.borderColor = \"pink\";\n   \tticker.style.padding = \"2px\";\n   \tticker.setAttribute(\"width\", \"30px\");\n   \t// inputtick.setAttribute(\"type\", \"hidden\");\n   \tcspan.setAttribute(\"lineHeight\",\"10em\");\n    ticker.innerHTML = t;\n\n\n}\n\nconst deleteNode = function(cx, cx_prev)\n{\n\n\n  console.log('@@@@@!!', cx_prev.textContent, cx.textContent);\n  cx_prev.textContent = cx_prev.textContent + ' ' + cx.textContent;\n  cx_prev.setAttribute(\"etime\", cx.getAttribute(\"etime\"));\n  cx.parentNode.removeChild(cx.previousSibling);\n  cx.parentNode.removeChild(cx);\n\n\n}\n\nexport const setSubTime = function() {\n\n  $(\"#loading\").css(\"display\", \"block\");\n  \n  var ch = document.getElementById('subtitle-text-container');\n  var chead = document.getElementById('subtitles-text-container');\n\n  var style = window.getComputedStyle(ch);\n  \n  var padding_left = parseFloat(style.getPropertyValue(\"padding-left\"));\n  var padding_right = parseFloat(style.getPropertyValue(\"padding-right\"));\n   \n  var border_left = parseFloat(style.getPropertyValue(\"border-left-width\"));\n  var border_right = parseFloat(style.getPropertyValue(\"border-right-width\"));\n  \n  var cx = document.getElementById(\"subdiv\").children;\n\n  console.log('cx', cx);\n\n  let x = []\n  for (var i=0; i<cx.length ; i++){\n    if (cx[i].tagName == \"SPAN\") {\n\n        console.log('ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ')\n        console.log(cx[i])\n        x.push(cx[i].id)\n    }\n  }\n\n//  not deleting END\n  console.log('x' ,x, x.length)\n  for (var i=1; i<x.length-1 ; i++){\n\n    var cx = document.getElementById(x[i])\n    // i-1 could have been deleted\n    console.log('i',i,'cx', cx, 'pre',cx.previousSibling)\n    var cx_prev = cx.previousSibling.previousSibling\n\n    console.log('cx_prev', cx_prev)\n    console.log('cx', cx)\n    \n    var new_sub = cx.textContent + ' ' + cx_prev.textContent\n    \n     \n      console.log('newsub', new_sub)\n    var cS = ch.cloneNode();\n    cS.style.visibility = \"hidden\";\n    cS.setAttribute('id', 'po')\n    cS.setAttribute('class', 'po')\n    cS.textContent = new_sub;\n    cS.style.whiteSpace = 'nowrap';\n    chead.appendChild(cS);\n    console.log('***wid span', new_sub,$('#po').width(),cS.offsetWidth);\n\n\n    var ff = cS.offsetWidth\n    chead.removeChild(cS)\n\n    // ff = ff / Math.ceil(ff / $('#vid').width());\n    ff = 40 + ff + padding_left + padding_right + border_left + border_right\n    console.log('@@@ff',ff,$('#vid').width())\n    // ff = ff;\n    if (ff < ($('#vid').width())) { \n        console.log('delete', cx)   \n        console.log('del them',cx, cx_prev)\n       deleteNode(cx, cx_prev)\n    }\n\n    \n\n}\n\n$(\"#loading\").css(\"display\", \"none\");\n}\n\n\nexport const arrangeSub = function() {\n\n\tvar ch = document.getElementById('subtitle-text-container');\n    var chead = document.getElementById('subtitles-text-container');\n  \n\n    var style = window.getComputedStyle(ch);\n\n    var padding_left = parseFloat(style.getPropertyValue(\"padding-left\"));\n    var padding_right = parseFloat(style.getPropertyValue(\"padding-right\"));\n   \n    var border_left = parseFloat(style.getPropertyValue(\"border-left-width\"));\n    var border_right = parseFloat(style.getPropertyValue(\"border-right-width\"));\n\n    var cS = ch.cloneNode();\n    cS.style.visibility = \"hidden\";\n    cS.setAttribute('id', 'pooo')\n    cS.setAttribute('class', 'pooo')\n    cS.style.whiteSpace = 'nowrap';\n    chead.appendChild(cS);\n\n    var childrens = document.getElementById(\"subdiv\").children;\n\n   for (var i=0; i<childrens.length ; i++){\n   \t if (childrens[i].tagName == 'SPAN') {\n   \t \tconsole.log('child', childrens[i]);\n   \t \tcS.textContent = childrens[i].textContent;\n   \t \tvar ff = cS.offsetWidth;  \n   \t \tvar n = Math.ceil(ff / $('#vid').width());\n   \t \t// ff = ff / n;\n    \tconsole.log('ff',ff, 'textContent', cS.textContent)\n    \t// ff = 10 + ff + padding_left + padding_right + border_left + border_right\n\n    \tconsole.log('ff net', ff, $('#vid').width() - 10)\n    \tconsole.log( ff > ($('#vid').width() - 10) )\n\n    \tif (ff > $('#vid').width()) {\n       \t\taddTickerF(childrens[i])\n    \t}\n\n   \t \t\n   \t }\n   }\n\n    chead.removeChild(cS)\n    \n}\n\n\n\n\n\nexport const setSubBegin = function() {\n\n  $(\"#loading\").css(\"display\", \"block\");\n  \n  var ch = document.getElementById('subtitle-text-container');\n  var chead = document.getElementById('subtitles-text-container');\n\n  var style = window.getComputedStyle(ch);\n  \n  var padding_left = parseFloat(style.getPropertyValue(\"padding-left\"));\n  var padding_right = parseFloat(style.getPropertyValue(\"padding-right\"));\n   \n  var border_left = parseFloat(style.getPropertyValue(\"border-left-width\"));\n  var border_right = parseFloat(style.getPropertyValue(\"border-right-width\"));\n  \n\n    const meta = JSON.parse(localStorage.getItem('meta'));\n\n    var strt=[];\n    var en=[];\n    var sub=[];\n    // for(var i=0;i<meta.length;i++){\n    //   strt.push(meta[i].start_time);\n    //   en.push(meta[i].end_time);\n    //   sub.push(meta[i].words);\n    // }\n\n//  not deleting END\n  // console.log('x' ,x, x.length)\n  // for (var i=1; i<x.length-1 ; i++){\n    \n  var i = 0\n  var k = 0   \n  var test_sub = ''\n\n  var s=0; \n  console.log('meta', meta)\n  console.log('meta length', meta.length)\n\n  var start = meta[0].start_time\n\n  while( i < meta.length) {\n\n    // i-1 could have been deleted\n\n    var new_sub = test_sub + meta[i].words + ' '\n    \n     \n    console.log('newsub', new_sub, 'META',meta[i].words, 'TEST', test_sub)\n    var cS = ch.cloneNode();\n    cS.style.visibility = \"hidden\";\n    cS.setAttribute('id', 'po')\n    cS.setAttribute('class', 'po')\n    cS.textContent = new_sub;\n    cS.style.whiteSpace = 'nowrap';\n    chead.appendChild(cS);\n\n    var ff = cS.offsetWidth\n    chead.removeChild(cS)\n\n    // ff = ff / Math.ceil(ff / $('#vid').width());\n    ff = 40 + ff + padding_left + padding_right + border_left + border_right\n    console.log('@@@ff',ff,$('#vid').width())\n    // ff = ff;\n    if (ff < ($('#vid').width())) {  \n        test_sub = new_sub  \n        i = i + 1\n        console.log('&&&sub:',sub.length)\n\n       // deleteNode(cx, cx_prev)\n    } else {\n      // strt.push(meta[s].start_time)\n      strt.push(start)\n      en.push(meta[i].end_time)\n      sub.push(test_sub)\n      console.log('##IN##: ',i,test_sub)\n      test_sub = ''\n\n      start = meta[i].end_time\n      \n      s = i\n      console.log('ELSE: sub!!',sub.length)\n    }\n\n\n    \n      console.log('####SUB',sub.length, sub)\n}\n\n  if ( test_sub != '') {\n\n      strt.push(meta[s].start_time)\n      en.push(meta[i-1].end_time)\n      sub.push(test_sub)\n      console.log('@###SUB',sub.length)\n  }\n    var viddur = miliToTime(parseFloat(localStorage.getItem(\"duration\"))*1000)\n\n    // var se = ['33', '9']\n\n// change end_time to duration for last element\n    en[sub.length-1] = viddur;\n    strt[sub.length] = viddur;\n    en[sub.length] = viddur;\n    sub[sub.length] = \" \";\n\n    console.log('---SUB',sub.length, en.length, strt.length)\n    console.log('@@sub:', sub)\n    localStorage.setItem('subx', JSON.stringify(sub));\n    localStorage.setItem('en', JSON.stringify(en));\n    localStorage.setItem('strt', JSON.stringify(strt));\n    console.log('lengthhh', sub.length, JSON.stringify(sub))\n\n\n$(\"#loading\").css(\"display\", \"none\");\n}\n\n\n\n\nexport const splitSub = function() {\n\n  $(\"#loading\").css(\"display\", \"block\");\n  \n  var ch = document.getElementById('subtitle-text-container');\n  var chead = document.getElementById('subtitles-text-container');\n\n  \n\n    const meta = JSON.parse(localStorage.getItem('meta'));\n\n    var strt=[];\n    var en=[];\n    var sub=[];\n    // for(var i=0;i<meta.length;i++){\n    //   strt.push(meta[i].start_time);\n    //   en.push(meta[i].end_time);\n    //   sub.push(meta[i].words);\n    // }\n\n//  not deleting END\n  // console.log('x' ,x, x.length)\n  // for (var i=1; i<x.length-1 ; i++){\n    \n  var i = 0\n  var k = 0   \n  var test_sub = ''\n  var start\n\n  var s=0; \n  console.log('meta', meta)\n  console.log('meta length', meta.length)\n\n  if (meta.length  != 0 ) start = meta[0].start_time\n\n  var len, dot, comma, split\n\n  while( i < meta.length) {\n    split = 0\n\n    // i-1 could have been deleted\n\n    var new_sub = test_sub + meta[i].words + ' '\n    len = new_sub.length\n      \n    console.log('meta.words', meta[i].words.includes(\".\"))\n    dot = meta[i].words.includes(\".\")\n    comma = meta[i].words.includes(\",\")\n    if(meta[i].words.toLowerCase() == 'to') { split = 1 }\n    try{\n    if(meta[i+1].words.toLowerCase() == \"but\") { split = 1}\n    if(meta[i+1].words.toLowerCase() == \"and\") { split = 1}\n    if((new_sub + meta[i+1].words).length > 84) { split = 1}\n    console.log('@@@ Word length', (new_sub + meta[i+1].words).length)\n\n  } catch(e) { console.log(e) }\n\n\n    if (dot || comma || split) {  \n\n      // strt.push(meta[s].start_time)\n      strt.push(start)\n      en.push(meta[i].end_time)\n\n      // remove trailing and leading spaces\n      new_sub = new_sub.trim()\n      sub.push(new_sub)\n      console.log('##IN##: ',i,new_sub)\n      test_sub = ''\n      console.log('START-END', start, meta[i].end_time)\n\n      start = meta[i+1].start_time\n\n      \n      s = i+1\n      i = i+1\n      console.log('ELSE: sub!!',sub.length)\n\n    } else {\n      \n      test_sub = new_sub  \n      i = i + 1\n      console.log('&&&sub:',sub.length)\n\n     // deleteNode(cx, cx_prev)\n\n    }\n\n\n    \n      console.log('####SUB',sub.length, sub)\n}\n\n// last subtitle is remaining\n  if ( test_sub != '') {\n\n      strt.push(meta[s].start_time)\n      en.push(meta[s-1].end_time)\n\n      test_sub = test_sub.trim()\n      sub.push(test_sub)\n      console.log('@###SUB',sub.length)\n  }\n  var viddur = miliToHrCommaTime(parseFloat(localStorage.getItem(\"duration\"))*1000)\n\n\n\n    // var se = ['33', '9']\n\n// change end_time to duration for last element\n    en[sub.length-1] = viddur;\n    strt[sub.length] = viddur;\n    en[sub.length] = viddur;\n    sub[sub.length] = \" \";\n\n    console.log('---SUB',sub.length, en.length, strt.length)\n    console.log('@@sub:', sub)\n    localStorage.setItem('subx', JSON.stringify(sub));\n    localStorage.setItem('en', JSON.stringify(en));\n    localStorage.setItem('strt', JSON.stringify(strt));\n    console.log('lengthhh', sub.length, JSON.stringify(sub))\n\n\n$(\"#loading\").css(\"display\", \"none\");\n}\n","import React, { useState,useEffect } from 'react';\n\n/* global $ */\n/* global moment */\n\nimport './xoxo.css';\n// import './playButton.css';\nimport './bttn2.scss';\nimport './zoomslider.css';\n// import {keytimer, moveElement, setTickerState, getAbcString, gettime, tickerTime, strToMili, miliToTime, getLowestIndex} from './utils';\n\n\nimport {moveElement, setTickerState, getAbcString, gettime, tickerTime, strToMili, miliToTime, getLowestIndex} from './utils';\n\nimport TickerTime from './div_ticker';\nimport Reset from './reset';\nimport Save from './saveState';\n\nimport Vidstyle from './vidstyle';\n// import {arrangeSub} from './arrangesub';\nimport {setSubTime} from './arrangesub';\n\n\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n\n\n\n\n// const addticker = function(e, state, changeTime, changeBothTime, changeSub, changeCaptions) {\nconst addticker = function(e, props) { \n  console.log('in addticker');\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  // https://stackoverflow.com/questions/4456545/how-to-insert-text-at-the-current-caret-position-in-a-textarea\n\n  // need to get the exact location where it should be added\n  // + update time + update id + this.state \n\n  // https://stackoverflow.com/questions/2920150/insert-text-at-cursor-in-a-content-editable-div\n    \n  if (document.getElementsByClassName(\"current-caption\") && document.getElementsByClassName(\"current-caption\")[0]) {\n\n// document.getElementsByClassName(\"caption\")[idn] can't use this, span idn=8 before spna idn=6\n// byclassnames will be a list in order flow 0-1-2-3-4-5-8-7-6\n\n  // can have element with EXACTLY same text value! - whihc one to highlight then!?\n  // var idn = window.getSelection().getRangeAt(0).startContainer.parentNode.id;\n  const selectedSub = document.getElementsByClassName(\"current-caption\")[0]\n  const idn = selectedSub.id;\n  console.log(\"span idn \", idn);\n\n\n    /* var cursorPos = $('#text').prop('selectionStart') */\n    // var cursorPos = window.getSelection().getRangeAt(0).startOffset;\n    var cursorPos = window.getSelection().getRangeAt(0).startOffset;\n    console.log('old curpos:', cursorPos)\n    console.log(window.getSelection().getRangeAt(0).startContainer.parentNode)\n    // var v = document.getElementById(idn).innerText;\n    const v = selectedSub.innerText;\n    console.log('value',v);\n    console.log('char',v.charAt(cursorPos), 'cursor:',cursorPos,'v', v);\n\n    var pa_stime = selectedSub.getAttribute(\"stime\");\n    var pa_etime = selectedSub.getAttribute(\"etime\");\n    // console.log(v.charAt(cursorPos) == ' ')\n\n    if (v.charAt(cursorPos) != ' ' || v.charAt(cursorPos-1) != ' ') {\n\n      var indices = [];\n      indices.push(0); indices.push(v.length);\n      for(var i=0; i<v.length;i++) {\n      \t\t// console.log('NO NO NO')\n          if (v[i] === \" \") indices.push(i);\n      }\n\n      var indices2 = indices.map(function(value) { \n          return Math.abs(value - cursorPos); \n        });\n\n      console.log('position of space:',indices);\n      var p = getLowestIndex(indices2);\n      console.log(p)\n      cursorPos = indices[p];\n      \n\n      }\n\n    console.log('new curpos', cursorPos );\n    // console.log('!!add ticker cursorPos', cursorPos, 'v',v.length);\n    var tim = gettime(idn, cursorPos);\n    // console.log('in add ticker get time:',t);\n    var t = miliToTime(tim);\n    //console.log('in add ticker get time:',t);\n\n    // console.log('selected sub-', 'sub value before-',selectedSub.value);\n    var textBefore = v.substring(0,  cursorPos );\n    var textAfter  = v.substring( cursorPos, v.length );\n    \n    selectedSub.innerText =  textBefore;\n    console.log(selectedSub.innerText, 'tB',textBefore);\n    // console.log('selected sub', 'cur',cursorPos,'textBefore', textBefore, 'selected sub value:', selectedSub.value);\n    // props.changeCaptions(textBefore);\n\n    // console.log(\"child\", document.getElementById(\"subdiv\").children );\n    // console.log(' strt length:', strt);\n\n    var i = document.getElementsByClassName(\"caption\").length;\n    var pa = selectedSub;\n\n    var cdiv = document.createElement(\"div\");\n    cdiv.setAttribute(\"caption-break\", \"\");  \n\n    // strt[i] = t;\n    // console.log('strt[i]', t);\n\n    // cdiv.setAttribute(\"time\", t);\n \n    cdiv.className = \"caption-break\";\n    cdiv.contentEditable = \"true\";\n    cdiv.draggable = \"true\";\n\n    // var tickdiv = document.createElement(\"div\");\n    // tickdiv.setAttribute(\"className\", 'input-group date datepicker-me-class');\n    // tickdiv.setAttribute(\"class\", 'input-group date datepicker-me-class');\n\n    // var ticker = document.createElement(\"button\");\n    var ticker = document.createElement(\"span\");\n\n    //do not write random text in time button\n    ticker.setAttribute(\"contentEditable\", \"false\");\n    ticker.setAttribute(\"id\", \"bt\"+i.toString());\n    // console.log('bttn id', ticker.id);\n    ticker.style.position = 'relative';\n\n    // var spantick = document.createElement(\"SPAN\");\n    // spantick.setAttribute(\"className\",\"glyphicon-time glyphicon\");\n    // spantick.setAttribute(\"class\",\"glyphicon-time glyphicon\");\n    // // spantick.setAttribure(\"id\", \"ticker\"+i.toString())\n\n    // var inputtick = document.createElement(\"input\");\n    // inputtick.setAttribute(\"type\", \"hidden\");\n    // inputtick.setAttribute(\"id\", \"datetimepicker\"+i.toString());\n    \n    // cdiv.appendChild(tickdiv);\n    cdiv.appendChild(ticker);\n    // ticker.appendChild(spantick);\n    // tickdiv.appendChild(inputtick);\n\n    // pa.appendChild(cdiv);\n    pa.insertAdjacentElement(\"afterend\", cdiv);\n\n    var cspan = document.createElement(\"span\");\n    cspan.setAttribute(\"stime\", t);\n    cspan.setAttribute(\"etime\", pa_etime);\n\n    selectedSub.setAttribute(\"etime\", t);\n\n    cspan.setAttribute(\"className\", \"caption current-caption\");\n    cspan.setAttribute(\"class\", \"caption current-caption\");\n        \n    cspan.setAttribute(\"contentEditable\", \"true\");\n\n    cspan.innerText = textAfter; //sub[i];\n    cspan.setAttribute(\"id\", i);\n\n    console.log('new ticker text', cspan.innerText);\n\n\n\n    // pa.appendChild(cspan);\n    cdiv.insertAdjacentElement(\"afterend\", cspan);\n\n    // cspan.className = \"caption\";\n    cspan.setAttribute(\"className\", \"caption\");\n    cspan.setAttribute(\"class\", \"caption\");\n\n    // ticker.style.backgroundColor = 'black';\n   \tticker.style.color = 'blue';\n   \tticker.style.borderColor = \"pink\";\n   \tticker.style.padding = \"2px\";\n   \tticker.setAttribute(\"width\", \"30px\");\n   \t// inputtick.setAttribute(\"type\", \"hidden\");\n   \tcspan.setAttribute(\"lineHeight\",\"10em\");\n    ticker.innerHTML = t;\n\n    const newtime = JSON.parse(localStorage.getItem('strt')).slice()\n    newtime[i] = t;\n\n    const newsub = JSON.parse(localStorage.getItem('sub')).slice() //copy the array\n    newsub[idn] = textBefore;\n\n    newsub[i] = textAfter;\n\n    const endnew = JSON.parse(localStorage.getItem('en')).slice();\n    endnew[idn] = t; //parent ticker\n\n    // console.log('!new ticker text', state.txt);\n    // var endi = document.getElementById(i).nextSibling.nextSibling.getAttribute(\"id\");\n    // endnew[i] = endnew[endi]; \n    endnew[i] = JSON.parse(localStorage.getItem('en'))[idn];  //new ticker\n \t// en[idn] = strt[i];\n \t// en[i] = en[idn] ; //endtime for new ticker is endtime of parent ticker \n  console.log(\"change both time - \",'new',t);\n \tconsole.log(\"change both time - \",'new',i, newsub[i], newtime[i], endnew[i]);\n  console.log(\"change both time - \",'parent',idn, newsub[idn], newtime[idn], endnew[idn]);\n  // props.changeBothTime(newsub, newtime, endnew) ; \n\n    document.getElementById(\"subtitle-text-container\").innerText = document.getElementsByClassName('current-caption')[0].innerText;\n\n    // setState() \n  //  console.log('end of addticker state', props.state); \n    var vi = document.getElementById(\"subtitles-text-container\");\n    vi.style.visibility=\"visible\";  \n}\n}\n\nconst showTicker = function(e, t, x, y) {\n\tconsole.log(\"showticker\"); //e.target: span id=\"bt6\"\n\n\tif (e.target.parentNode.classList.contains(\"caption-break\")) {\n\n      var tickid = e.target.parentNode.nextSibling.id;\n\n      var f = document.getElementById(tickid).previousSibling;\n      var offset = f.getBoundingClientRect();  \n      \n      var gPa = document.getElementById(\"subdiv\").children\n\t  if (tickid == gPa[1].id || tickid == gPa[gPa.length-1].id) {\n\t\treturn;\n\t  }\n\n\t  document.getElementById(\"rows\").style.display = \"block\";\n\n\t  setTickerState(tickid); \n\n\n      t(tickid);\n      // x(e.clientX);\n      // y(e.clientY);\n      x(offset.left + offset.width/2);\n      y(offset.top + offset.height);      \n     } \n}\n\n\nfunction Tab1(props){\n\n\tconst [tickid, setTickid] = useState(\"0\"); //cspan\n\tconst [posX, setPosX] = useState(0);\n\tconst [posY, setPosY] = useState(0);\n\tconst [display, setDisplay] = useState(\"none\");\n\t\n // const [txy, setTxy] = useState([]);\n\t\n  const txy = localStorage.getItem(\"Yes\");\n\n\n\tuseEffect(() => {\n\n\tdocument.getElementById(\"addSubz\").addEventListener(\"click\", (e) => {\n\t\te.preventDefault();\n    e.stopPropagation();\n\t\t// console.log('addticker before state', props.state);\n\t\taddticker(e, props)\n\t\t});\n\n    var key = document.getElementById(\"subdiv\");\n  //   // key.addEventListener(\"DOMSubtreeModified\", (e) => keytimer(e));\n\t //  key.addEventListener(\"keydown\", (e) => {\n  //   keytimer(e)\n\n  //   // set width of sub container\n  //   // console.log('set width in tab1')\n  //   // setWidth(2);\n  \n  // }); //slow\n\t// key.addEventListener(\"mouseup\", (e) => keytimer(e)); //doin nthng\n\t// key.addEventListener(\"mousedown\", (e) => keytimer(e));\n\tkey.addEventListener(\"click\", (e) => {\n    // keytimer(e)\n    // setWidth(2);\n\n    // console.log('clinet', e.clientY, e.pageY)\n    \n    try {\n    // document.getElementById(\"addSubz\").removenext(document.getElementById(\"plus\"))\n    document.getElementById(\"plus\").remove();\n  } catch {\n    console.log(\"no child\");\n  }\n\n\n  function getpos(e) {\n  var posx = 0;\n  var posy = 0;\n  if (!e) var e = window.event;\n  if (e.pageX || e.pageY)   {\n    posx = e.pageX;\n    posy = e.pageY;\n  }\n  else if (e.clientX || e.clientY)  {\n    posx = e.clientX + document.body.scrollLeft\n      + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop\n      + document.documentElement.scrollTop;\n  }\n  return [posx, posy]\n}\n    document.getElementById(\"addSubz\").style.marginTop = getpos(e)[1] - 190 + 'px';\n    // document.getElementById(\"addSubz\").style.marginRight = -200 + 'px';\n\n\n    var xp = document.getElementById(\"addSubz\").getBoundingClientRect();\n\n      var cy = getpos(e)[1]  ;\n      var color = 'rgba(255,0,255,0.3)';\n      var thickness = 1;\n      var cx = e.clientX;\n\n      \n      var xx = xp.left + xp.width/3\n      var length = xx - cx  \n      var htmlLine = \"<div id=plus style='padding:0px; margin:0px; height:\" + thickness + \"px; background-color:\" + color + \"; line-height:1px;left:\" + cx + \"px; position: fixed; top:\" + cy + \"px; width:\" + length + \"px' />\";\n    //\n    // alert(htmlLine);\n    // document.getElementById(\"addSubz\").innerHTML += htmlLine;\n    document.getElementById(\"addSubz\").insertAdjacentHTML('afterend', htmlLine);\n\n  });\n\t// key.addEventListener(\"keypress\", (e) => keytimer(e));\n\t//key.addEventListener(\"keyup\", (e) => keytimer(e));\n\n\t// key.removeEventListener('keydown', handleKeyDown, true);\n //  key.removeEventListener('mousedown', handlePointerDown, true);\n //  doc.removeEventListener('pointerdown', handlePointerDown, true);\n //  doc.removeEventListener('touchstart', handlePointerDown, true);\n //  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n\ndocument.getElementById(\"head\").addEventListener(\"keyup\", function(e) {\n  let h = `<div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div>`\n\n  document.getElementById(\"head-text-container\").textContent = e.currentTarget.innerText ; \n  \n\n \n  // setWidth(1);\n})\n\n\tdocument.getElementById(\"subdiv\").addEventListener(\"click\", (e) => {\n\t\t// document.getElementById(\"rows\").style.display = \"block\";\n     //  \te.preventDefault();\n    \t// e.stopPropagation();\n      \tshowTicker(e, setTickid, setPosX, setPosY);\n      });\n\n\tdocument.body.addEventListener(\"click\", (e) => {\n\n\t\tif (!e.target.parentNode.classList.contains(\"caption-break\")) {\n      try {\n\t\tdocument.getElementById(\"rows\").style.display = \"none\";\n  } catch {\n\n  }\n\t\t\t}\n\t})\n\n\t},[JSON.parse(localStorage.getItem('strt')), JSON.parse(localStorage.getItem('en')), JSON.parse(localStorage.getItem('sub'))])\n\nuseEffect(() => {  //never update this part\n\n// set heading \n\ndocument.getElementById(\"head\").innerText = localStorage.getItem('head') ;\n// setWidth(1)\nconsole.log(\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\")\nconsole.log('BBBBBBBBBBBB', JSON.parse(localStorage.getItem('sub')))\n\n// console.log('tab1 state', props.state.sub.length)\nfor (var i=0; i<JSON.parse(localStorage.getItem('sub')).length ; i++){\n\n      var pa = document.getElementById(\"subdiv\") ;\n\n      var cdiv = document.createElement(\"div\");\n      cdiv.setAttribute(\"caption-break\", \"\");  \n\n\n      cdiv.className = \"caption-break\";\n      cdiv.contentEditable = \"true\";\n      cdiv.draggable = \"true\";\n\t  \n      var ticker = document.createElement(\"span\");\n\n      //to not write random text in time button\n      ticker.setAttribute(\"contentEditable\", \"false\");\n      \n      // console.log('bttn id', ticker.id);\n      ticker.style.position = 'relative';\n      // console.log('input id', inputtick.id);\n\n      cdiv.appendChild(ticker);\n\n      // var ticktick = `<TickerTime time={props.state.strt[0]}/>`;\n      // cdiv.insertAdjacentHTML('afterbegin', ticktick);\n\n     //  ticker.addEventListener(\"click\", (e) => {\n     //  \te.preventDefault();\n    \t// e.stopPropagation();\n     //  \tshowTicker(e, setTickid, setPosX, setPosY, setDisplay)\n     //  });\n\n      pa.appendChild(cdiv);\n\n      var cspan = document.createElement(\"span\");\n      var t = JSON.parse(localStorage.getItem('strt'))[i]\n      // console.log('tt',t,i)\n      var v = (Math.round(parseFloat(t.split(':')[1])*10)/10).toFixed(1) \n      if(v.length==3) { t = t.split(':')[0]+':' + '0' + v}\n      else { t = t.split(':')[0]+':' + v}\n\n      cspan.setAttribute(\"stime\", t);\n      var t = JSON.parse(localStorage.getItem('en'))[i]\n      // console.log('tt',t,i)\n      var v = (Math.round(parseFloat(t.split(':')[1])*10)/10).toFixed(1) \n      if(v.length==3) { t = t.split(':')[0]+':' + '0' + v}\n      else { t = t.split(':')[0]+':' + v}\n\n      cspan.setAttribute(\"etime\", t);\n\n      cspan.setAttribute(\"className\", \"caption current-caption\");\n      cspan.setAttribute(\"class\", \"caption current-caption\");\n\n      // var att = document.createAttribute(\"contentEditable\");      \n      // att.value = \"true\";                         \n      cspan.setAttribute(\"contentEditable\", \"true\");\n\n    \n    pa.appendChild(cspan);\n\n    if (i!=0) {\n    // console.log('i',i);\n    cspan.setAttribute(\"className\", \"caption\");\n    cspan.setAttribute(\"class\", \"caption\");\n    }\n   // cspan.removeClass(\"current-caption\");\n\n   // ticker.style.backgroundColor = 'black';\n   // ticker.style.color = 'white';\n       // ticker.style.backgroundColor = 'black';\n    ticker.style.color = 'blue';\n   ticker.style.borderColor = \"pink\";\n   ticker.style.padding = \"4px\";\n\n   // ticker.setAttribute(\"width\", \"30px\");\n   if ( i == 0 ) {\n   \t\tticker.innerHTML = \" Begin \";\t\n   \t\t// console.log('start', props.state.duration)\n   \t\tticker.style.backgroundColor = 'gold';\n   \t\tticker.style.color = 'black';\n\n   } else if ( strToMili(JSON.parse(localStorage.getItem('strt'))[i])/1000 == parseFloat(localStorage.getItem(\"duration\")).toFixed(1) ){\n   \t\tticker.innerHTML = \" End \";\t\n   \t\tticker.style.backgroundColor = 'gold';\n   \t\tticker.style.color = 'black';\n} else {\n\n\n  var t = JSON.parse(localStorage.getItem('strt'))[i]\n  // console.log('tt',t,i)\n  var v = (Math.round(parseFloat(t.split(':')[1])*10)/10).toFixed(1) \n  if(v.length==3) { t = t.split(':')[0]+':' + '0' + v} \n  else { t = t.split(':')[0]+':' + v}\n // console.log('tx',t,i)\n  \n\tticker.innerHTML = t \n;\n}\n   // cspan.setAttribute(\"lineHeight\",\"10em\");\n\n\n  // if ( i == sub.length) { i = 'xx'; }\n  \n  ticker.setAttribute(\"id\", \"bt\"+i.toString());\n  cspan.setAttribute(\"id\", i);\n\n\n  cspan.innerText = JSON.parse(localStorage.getItem('sub'))[i];\n}\n\n // arrange subtitles at t=0\n \n// var vidx = document.getElementById(\"vid1\");\n// vidx.onloadedmetadata = function() {\n\n//   arrangeSub();\n\n// };\n\nfunction deleteNode(e)\n{\n  \n  var cx = document.getElementById(\"subdiv\").children;\n\n  // console.log('cx', cx);\n  for (var i=0; i<cx.length-1 ; i++){\n    if (cx[i].classList.contains(\"caption\") == cx[i+1].classList.contains(\"caption\")) {\n      cx[i].innerText = cx[i].innerText + cx[i+1].innerText;\n      cx[i].setAttribute(\"etime\", cx[i+1].getAttribute(\"etime\"));\n      cx[i+1].parentNode.removeChild(cx[i+1]);\n    }\n}\n}\n// Select the node that will be observed for mutations\nconst targetNode = document.getElementById('subdiv');\n\n// Options for the observer (which mutations to observe)\n// const config = { attributes: true, childList: true, subtree: true };\nconst config = { childList: true}\n// Callback function to execute when mutations are observed\nconst callback = function(mutationsList, observer) {\n    // Use traditional 'for loops' for IE 11\n    for(let mutation of mutationsList) {\n        if (mutation.type === 'childList') {\n            deleteNode();\n            console.log('A child node has been added or removed.');\n        }\n        // else if (mutation.type === 'attributes') {\n        //     console.log('The ' + mutation.attributeName + ' attribute was modified.');\n        // }\n    }\n};\n\n// Create an observer instance linked to the callback function\nconst observer = new MutationObserver(callback);\n\n// Start observing the target node for configured mutations\nobserver.observe(targetNode, config);\n\n// Later, you can stop observing\n// observer.disconnect();\n\n// console.log('tickid', tickid, 'posX', posX, 'posY', posY)\n// console.log('tick', document.getElementById(tickid))\n\n  // <Vidstyle state={props.state} />\n\n//   <Reset subtext={props.state.subtext} stime={props.state.stime} etime={props.state.etime} duration={props.state.duration} />\n\n//           <Save changeBothTime={props.changeBothTime} state={props} />\n\n\n},[props.s])\n\treturn (\n\t<div id=\"dcolumn\">\n\n  \n\n\t\t<div className=\"jss586\">\n\t\t\t<div className=\"zub-editor-dkflgl\">\n           \n          <div id=\"xheadx\">\n          <div>Heading</div>\n          <span id=\"head\" contentEditable=\"true\" autoFocus></span>\n          </div>\n\n       \t\t <TickerTime tickid={tickid} posX={posX} posY={posY} />\n\n          <div id=\"headx\">\n          <div>Subtitles</div>\n          </div>\n\n\t\t       <div id=\"editor\" className=\"editor\">\n\n\t\t     \t <div id=\"subdiv\" contentEditable=\"true\" className=\"ProseMirror ProseMirror-example-setup-style\" />\n           <button id=\"addSubz\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><AddCircleIcon style={{ fontSize:30 }}></AddCircleIcon></button> \n\n           </div>\n\n            </div>\n        </div>\n\n        <div id=\"loading\">\n          <img id=\"loading-image\" src=\"\" alt=\"Loading...\" />\n        </div>\n\n        \n          <div id=\"save\">\n          <button type=\"button\" onClick={setSubTime} autoFocus>arrange</button> \n          <Save />\n          </div>\n          \n     </div>\n\t\t)\n}\n\n\nTab1.displayName = \"Tab1\";\nexport default React.memo(Tab1);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Tab1 from './tab1';\nimport Reset from './reset';\n\nfunction TabPanel(props) {\n\n  // const state = props.state;\n\n  const { children, value, index, ...other } = props;\n  // console.log(\"in tabpanel \", state);\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={5}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nfunction SimpleTabs(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  // console.log(\"in simple tabs \", props.state);\n  return (\n  <div id=\"dcolumn\">\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"Subtitles\" {...a11yProps(0)} />\n          <Tab label=\"Style\" {...a11yProps(1)} />\n          <Tab label=\"Newletter\" {...a11yProps(2)} />\n\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Tab1 state={props.state} changeTime={props.changeTime} changeHead = {props.changeHead} changeSub={props.changeSub} changeBothTime={props.changeBothTime} changeKey={props.changeKey} changeCaptions={props.changeCaptions} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <Reset state={props.state} />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        Newletter vs Blog Content\n      </TabPanel>\n    </div>\n  </div>\n  );\n}\n\nSimpleTabs.displayName = \"SimpleTabs\";\nexport default React.memo(SimpleTabs);","\nimport React, { useEffect } from 'react';\nimport './colorsbox.css';\n/* global $ */\nimport {setColor,  hexToRgb, rgbToHex} from './utils';\n\nimport ClearIcon from '@material-ui/icons/Clear';\n\n\n\n\nfunction alphaChange(e, parent, d, props) {\n\tvar a = document.getElementById(\"a\").value;\n\n\n\tvar hex = document.getElementById(\"hex\").value \n\n\tvar rgb = hexToRgb(hex);\n\n\tparent.style.fill = 'rgb('+rgb.join()+')';\n    parent.style.fillOpacity = a;\n\n\trgb.push(a)\n\n    $('.vc-sketch-active-color').css(\"background\", 'rgba('+rgb.join()+') none repeat scroll 0% 0%');\n\n    // console.log('e parent', e, parent);\n// set parent color\n\n\n\n    setColor(d, parent, rgb, props);\n    // parent.style.fillOpacity = a;\n\n}\n\n\n\nfunction setPaletteColor (e, parent, d, props) {\n\n\tconsole.log('setPaletteColor', e.target, e.target.classList.contains(\"color-nocolor\"), e.target.parentNode.classList.contains(\"color-nocolor\"))\n\n\tif ( e.target.classList.contains(\"ColorPalette_colorPreview__33iMp\") || e.target.parentNode.classList.contains(\"ColorPalette_colorPreview__33iMp\") || e.target.parentNode.parentNode.classList.contains(\"ColorPalette_colorPreview__33iMp\") ) {\n\n\tvar r,g,b,a\n\n\n\n\tif(e.target.classList.contains(\"color-nocolor\") || e.target.parentNode.classList.contains(\"color-nocolor\") || e.target.parentNode.parentNode.classList.contains(\"color-nocolor\")) {\n\t\t\tr = 0; g = 0;b = 0;a = 0;\n\t\t\tdocument.getElementsByClassName(\"vc-sketch-active-color\")[0].innerHTML = `<li class='fa' style=\"font-size:5rem !important\">&#xf05e</li>`\n\t\t\t// document.getElementById(\"a\").value = 0\n\t\t}\n\telse {\n\tvar bg = e.target.style.background\n\tconsole.log('palette',e.target)\n\tvar bgc = bg.split('(')[1].split(\",\")\n\tr = bgc[0];\n\tg = bgc[1];\n\tb = bgc[2].split(')')[0]\n\t// var a = 1;\n\n\ta = $(\"#a\").val();\n\tdocument.getElementsByClassName(\"vc-sketch-active-color\")[0].innerHTML = \"\"\n}\n\t\n\n\t$('.vc-sketch-active-color').css(\"background\", 'rgba('+[r,g,b,a].join()+') none repeat scroll 0% 0%');\n\n\tparent.style.fill = 'rgb('+[r,g,b].join()+')';\n    parent.style.fillOpacity = a;\n    setColor(d, parent, [r,g,b,a], props);\n\n    var hex = rgbToHex(r,g,b);\n\n    document.getElementById(\"hex\").value = hex;\n  }\n\n}\n\nfunction hexColorChange(e, parent, d, props) {\n\n\tvar hex = document.getElementById(\"hex\").value;\n\n    console.log('hex:', hex);\n\n\tvar rgb = hexToRgb(hex);\n\tif (rgb == 2) { //if r/g/b/ is NaN\n\t\treturn;\n\t}\n\n    // var alf = $(\"#a\").val();\n    // rgb.push(parseFloat(alf))\n\n    // console.log('e parent', e, parent);\n\t\n\tvar a = $(\"#a\").val();\n\n\tparent.style.fill = 'rgb('+rgb.join()+')';\n\tparent.style.fillOpacity = a;\n\n\trgb.push(a);\n   \t// set the active color\n    $('.vc-sketch-active-color').css(\"background\", 'rgba('+rgb.join()+') none repeat scroll 0% 0%');\n\n// set parent color\n    setColor(d, parent, rgb, props);\n\n }\n\nfunction Colorsbox(props){\t\n// pass the bg color parent. [rgb] \n// set hex,r,g,b [rgbToHex], hue, saturationChart color\n// change closeColor parent if-else\n// set posX posY \n\n\tconsole.log('props', props.props.boxes2)\n\n\n\tuseEffect(() => {\n\n\t\t// props.color\n\tif (props.target) {\n\t\tvar parent = props.target;\n\n\n\t\tvar rgb = parent.style.fill;\n\t\tvar alf = parent.style.fillOpacity;\n\t\tvar d = rgb.split(\"(\")[1];\n\t\tvar dd = d.split(\",\");\n\t\tconsole.log(dd)\n\n\t\tvar rgb =  [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2].split(')')[0])]\n\t\tconsole.log('props.target', parent, 'rgb', rgb);\n\t\t\n\n\t\t$(\"#a\").val(alf);\n\t\tconsole.log('alpha', $(\"#a\").val());\n\t\t// var rgba = [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2].split(')')[0]), alf]\n\n\t\tvar hex = rgbToHex(rgb[0],rgb[1],rgb[2]);\n\n\t\t$(\"#hex\").val(hex);\n\n\t\tvar rgba = [parseInt(dd[0]), parseInt(dd[1]),parseInt(dd[2].split(')')[0]), alf]\n\t\t// set the active color\n    \t$('.vc-sketch-active-color').css(\"background\", 'rgba('+rgba.join()+') none repeat scroll 0% 0%');\n    \t\tdocument.getElementsByClassName(\"vc-sketch-active-color\")[0].innerHTML = \"\"\n\n\n\n\t} else {\n\t\tvar parent = 'none';\n\t\tconsole.log('else props.target', parent)\n\t}\n\t\n\t},[props.target])\n\n\nreturn (\n\t<div id=\"ycolumn\">\n\t \n\n\n\t <div className=\"relative\">\n\n\n\t  <div className=\"color-picker mt-1\">\n\t  \t \n\n\t  <div role=\"application\" aria-label=\"Sketch color picker\" className=\"w-full vc-sketch\">\n \n\n\n\t <div className=\"vc-sketch-field\">\n\n\n\t \n\t <div className=\"vc-sketch-field--single\">\n\t <div className=\"vc-editable-input\">\n\t <input onInput={(e) => hexColorChange(e, props.target, props.d, props.props)} aria-labelledby=\"input__label__hex__045\" id=\"hex\" className=\"vc-input__input\" /> \n\t <span for=\"hex\" id=\"input__label__hex__045\" className=\"vc-input__label\"> hex</span> \n\t <span className=\"vc-input__desc\"></span>\n\t </div>\n\t </div> \n\t \n\n\t <div className=\"vc-sketch-field--single\">\n\t <div className=\"vc-editable-input\">\n\t <input onInput={(e) => alphaChange(e, props.target, props.d, props.props)} id=\"a\" aria-labelledby=\"input__label__b__478\" class=\"vc-input__input\" /> \n\t <span for=\"a\" id=\"input__label__a__478\" class=\"vc-input__label\"> alpha</span> \n\t <span class=\"vc-input__desc\"></span>\n\t </div>\n\t </div> \n\n\n\t <div className=\"vc-sketch-field--single\">\n\t <div className=\"vc-editable-input\">\n\n\t <div aria-label=\"Current color is rgb(218,146,146)\" className=\"vc-sketch-active-color\" style={{ background: 'rgb(0, 0, 0) none repeat scroll 0% 0%' }}></div> \n\t \n\t </div>\n\t </div>\n\t \n\n\n\n\t </div> \n\n\n\t<div onClick={(e) => setPaletteColor(e, props.target, props.d, props.props)} className=\"ColorPalette_section__3ijad\" data-cy=\"color-palette\">\n\t\n\t<div data-cy=\"color-FFFFFF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 255, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-000000\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 0, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EEEEEE\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(238, 238, 238) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-BDBDBD\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(189, 189, 189) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-757575\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(117, 117, 117) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-B0BEC5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(176, 190, 197) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-78909C\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(120, 144, 156) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-546E7A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(84, 110, 122) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EF9A9A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(239, 154, 154) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EF5350\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(239, 83, 80) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-E53935\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(229, 57, 53) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF1744\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 23, 68) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-F48FB1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(244, 143, 177) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-EC407A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(236, 64, 122) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-D81B60\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(216, 27, 96) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-F50057\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(245, 0, 87) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-CE93D8\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(206, 147, 216) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-AB47BC\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(171, 71, 188) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-8E24AA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(142, 36, 170) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-D500F9\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(213, 0, 249) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-B39DDB\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(179, 157, 219) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-7E57C2\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(126, 87, 194) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-5E35B1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(94, 53, 177) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-651FFF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(101, 31, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-9FA8DA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(159, 168, 218) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-5C6BC0\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(92, 107, 192) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-3949AB\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(57, 73, 171) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-3D5AFE\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(61, 90, 254) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-90CAF9\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(144, 202, 249) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-42A5F5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(66, 165, 245) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-1E88E5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(30, 136, 229) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-2979FF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(41, 121, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-81D4FA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(129, 212, 250) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-29B6F6\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(41, 182, 246) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-039BE5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(3, 155, 229) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00B0FF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 176, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-80DEEA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(128, 222, 234) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-26C6DA\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(38, 198, 218) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00ACC1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 172, 193) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00E5FF\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 229, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-80CBC4\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(128, 203, 196) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-26A69A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(38, 166, 154) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00897B\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 137, 123) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-1DE9B6\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(29, 233, 182) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-A5D6A7\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(165, 214, 167) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-66BB6A\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(102, 187, 106) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-43A047\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(67, 160, 71) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-00E676\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(0, 230, 118) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-C5E1A5\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(197, 225, 165) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-9CCC65\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(156, 204, 101) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-7CB342\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(124, 179, 66) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-76FF03\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(118, 255, 3) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-E6EE9C\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(230, 238, 156) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-D4E157\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(212, 225, 87) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-C0CA33\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(192, 202, 51) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-C6FF00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(198, 255, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFF59D\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 245, 157) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFEE58\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 238, 88) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FDD835\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(253, 216, 53) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFEA00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 234, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFE082\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 224, 130) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFCA28\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 202, 40) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFB300\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 179, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFC400\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 196, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFCC80\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 204, 128) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFA726\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 167, 38) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FB8C00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(251, 140, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF9100\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 145, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FFAB91\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 171, 145) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF7043\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 112, 67) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-F4511E\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(244, 81, 30) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-FF3D00\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(255, 61, 0) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-BCAAA4\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(188, 170, 164) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-8D6E63\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(141, 110, 99) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-6D4C41\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(109, 76, 65) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-fef7ef\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(254, 247, 239) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-f7f8ff\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(247, 248, 255) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-f1fbf1\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(241, 251, 241) none repeat scroll 0% 0%'}}></div>\n\t<div data-cy=\"color-fbf1fb\" className=\"ColorPalette_colorPreview__33iMp\" style={{background: 'rgb(251, 241, 251) none repeat scroll 0% 0%'}}></div>\n\t\n\t\n\t<div data-cy=\"color-nocolor\" className=\"color-nocolor ColorPalette_colorPreview__33iMp\"><ClearIcon style={{'font-size':'1.4em'}}/></div>\n\t\n     </div>\n\n\n\t </div></div></div>\n\t</div>\n)\n}\n\n\nColorsbox.displayName = \"Colorsbox\";\nexport default React.memo(Colorsbox);","import React, { useEffect } from 'react';\n\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport './textstyle.css';\n\nimport {storeSubstyle} from './storelocalstorage';\n\n// import {setWidth} from './utils';\n\nfunction setFontSize(e, props) {\n   e.currentTarget.previousSibling.firstChild.innerHTML = e.target.innerText;\n\n   console.log('props in sub', props, e)\n\n\n   if (props.d == \"s\") {\n    props.props.update_x(0, 'fs', parseInt(e.target.innerText))\n\n   } else {\n\n    if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'fs', parseInt(e.target.innerText))\n\n   }\n\n   props.props.invalidate(false);\n\n   // debugger\n\n   // console.log('set ration', e.currentTarget.previousSibling.innerText, e.currentTarget, e.target.innerText);\n}\n\n\n// center left right\nfunction setColorH(e, props) {\n\n  var q, i=0;\n\n  if (props.d == \"s\") {\n    i = 1;\n  }\n\n  if (e.currentTarget.id == \"1left\") {\n      document.getElementsByClassName(\"1left\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"2center\")[i].style.display = \"block\"\n      document.getElementsByClassName(\"3right\")[i].style.display = \"none\"\n      q = \"center\"\n  } else if (e.currentTarget.id == \"2center\") {\n      document.getElementsByClassName(\"1left\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"2center\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"3right\")[i].style.display = \"block\"\n      q = \"right\"\n  } else {\n      document.getElementsByClassName(\"1left\")[i].style.display = \"block\"\n      document.getElementsByClassName(\"2center\")[i].style.display = \"none\"\n      document.getElementsByClassName(\"3right\")[i].style.display = \"none\"\n      q = \"left\"\n  }\n\nif (props.d == \"s\") {\n\n      props.props.update_x(0, 'align', q)\n\n    } else {\n      \n    if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'align', q)\n\n    }\nprops.props.invalidate(false);\n}\n\nfunction setBold(e, props) {\n  e.currentTarget.classList.toggle(\"clickedH\")\n\n  var p = '';\n\n  if (e.currentTarget.classList.contains(\"clickedH\")) {\n      p = \"bold\";\n  }\n\n  if (props.d == \"s\") {\n    props.props.update_x(0, 'b', p)\n  } else {\n if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'b', p)\n  }\n\n  props.props.invalidate(false)\n\n}\n\nfunction setItalics(e, props) {\n  e.currentTarget.classList.toggle(\"clickedH\")\n\n  var p = ''\n  \n  if (e.currentTarget.classList.contains(\"clickedH\")) {\n      p = \"italic\"\n  }\n\n  if (props.d == \"s\") {\n    props.props.update_x(0, 'i', p)\n  } else {\n if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'i', p)\n  }\n\n  props.props.invalidate(false)\n\n}\n\n\n\nfunction closeNone(e, props) {\n\n  var i = 0 ;\n  if (props.d == \"s\") {i=1}\n\n// Zoom slider\n  if (e.target.classList.contains(\"none\")) {\n    // document.getElementById(\"overlayzoom\").style.display = \"block\"\n    return;\n  }\n  \n  if (document.getElementsByClassName(\"overlaynone\")[i]) {\n      if (document.getElementsByClassName(\"overlaynone\")[i].contains(e.target)) {\n    // document.getElementById(\"overlayzoom\").style.display = \"block\";\n    return;\n  } \n  \n  document.getElementsByClassName(\"overlaynone\")[i].style.display = \"none\"  \n  }\n}\n\n\n\n\n\n\nfunction setbgColor(e, setTarget, setD, y) {\n  if (e.target.classList.contains(\"bgColor\") || e.target.parentNode.classList.contains(\"bgColor\")) {\n  document.getElementById(\"ycolumn\").style.display = \"block\";\n\n  var tar = e.currentTarget;\n\n  console.log('%',tar, tar.tagName == 'BUTTON', tar.children[0])\n  if (tar.tagName == 'BUTTON') {\n      tar = tar.children[0];\n  }\n\n  console.log('setTarget', tar);\n\n  setTarget(tar);\n  setD(y);\n\n  var offset = tar.getBoundingClientRect();\n  //var left = (offset.left + offset.width/2);\n  var top = (offset.top + offset.height); \n  // var top = offset.top;  \n  var left = offset.left;\n  // e.currentTarget.style.color = document.getElementsByClassName('vc-sketch-active-color')[0].style.background.split(\" none\")[0];\n\n  console.log('widget', tar, top, left);\n\n  // document.getElementById(\"ycolumn\").style.marginTop = top +'px';\n  // document.getElementById(\"ycolumn\").style.marginLeft = 0 + 'px';\n}\n}\n\nfunction displayFonts(e, props) {\n\n    var w = document.getElementsByClassName(\"SubtitleTools_subtitleDropDownList__2Q4CU\")\n\n    console.log('w', w);\n    // .style.display = \"block\"\n    if (props.d == \"s\") {\n      w[1].style.display = \"block\"\n    } else {\n      w[0].style.display = \"block\"\n    }\n}\n\nfunction selectfont(e, props) {\n\n  // box_ will be updated\n\n    var i = 0\n   if (props.d == \"s\") {\n    i = 1\n    props.props.update_x(0, 'f', e.target.textContent)\n\n   } else {\n\n    if(props.props.selectText !=0) props.props.update_x(props.props.selectText, 'f', e.target.textContent)\n\n   }\n\n   props.props.invalidate(false);\n\n\n\n  document.getElementsByClassName(\"SubtitleTools_subtitleDropDownItemSelected__1bwqt\")[i].setAttribute(\"class\", \"btn-default SubtitleTools_subtitleDropDownItem__EdYF8\")\n   \n  e.target.setAttribute(\"class\", \"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 SubtitleTools_subtitleDropDownItemSelected__1bwqt\" )\n\n  document.getElementsByClassName(\"currentfont\")[i].textContent = e.target.textContent\n\n  // setWidth(i+1)\n\n}\n\n\n\nfunction setWrap(e, props) {\n\n\n  var i=1;\n\n\n  console.log('props.d', props.d)\n\n if (e.currentTarget.classList.contains(\"wrap\")) {\n  document.getElementsByClassName(\"wrap\")[i].style.display = \"none\";\n  document.getElementsByClassName(\"full\")[i].style.display = \"block\";\n\n  // document.getElementById(\"subtitles-text-container\").style.width = '100%';\n  // document.getElementById(\"subtitles-text-container\").style.left = '0%';\n \n\n  document.getElementById(\"subtitles-text-container\").style.backgroundColor = document.getElementById(\"subtitle-text-container\").style.backgroundColor\n  \n  document.getElementById(\"subtitle-text-container\").style.backgroundColor = 'rgba(0,0,0,0)'\n\n} else {\n\n  // document.getElementById(\"subtitles-text-container\").style.width = 'auto';\n\n  document.getElementsByClassName(\"wrap\")[i].style.display = \"block\";\n  document.getElementsByClassName(\"full\")[i].style.display = \"none\";\n \n\n    document.getElementById(\"subtitle-text-container\").style.backgroundColor = document.getElementById(\"subtitles-text-container\").style.backgroundColor\n    document.getElementById(\"subtitles-text-container\").style.backgroundColor = 'rgba(0,0,0,0)'\n    \n  }\n}\n\nfunction Textstylesub(props){\t\n\n\t// set the bkgrnd color as default\n\tvar  setTarget = props.setTarget; \n\n// set d for Colors2\n  var setD = props.setD;\n  var y = props.d;\n  \n\n  if (props.d == \"s\") {\n   console.log(props.d)\n  } else {\n\n  }\n\n\n\tuseEffect(() => {\n\n  document.body.addEventListener(\"click\", (e) => closeNone(e, props));\n\n\t\t// props.color\n\tif (props.target) {\n\t\n\n\t} else {\n\t\tvar parent = 'none';\n\t\tconsole.log('else props.target', parent)\n\t}\n\t\n\t},[props.target])\n\n\n// <button type=\"button\" className=\"btn btn-default SubtitleTools_subtitleDropDownItem__EdYF8\" data-toggle=\"tab\">\n// <span type=\"button\" className=\"btn btn-default SubtitleTools_subtitleDropDownLink__1nRl4\" data-toggle=\"tab\"><svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style={{\"vertical-align\": \"middle\", \"height\":\"1em\", \"width\":\"1em\"}}><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line></svg>&nbsp;More Fonts</span></button>\n\n\n    // <button onClick={(e) => setWrap(e, props)} type=\"button\" className=\"wrap clickedH btn btn-default\" data-toggle=\"tab\">Wrap</button>\n    // <button onClick={(e) => setWrap(e, props)} style={{display:'none'}} type=\"button\" className=\"full clickedH btn btn-default\" data-toggle=\"tab\">Full</button>\n\nreturn (\n\n\n<div class=\"SubtitleTools_subtitleToolOptionsContainerRow__24lPc\">\n<div class=\"SubtitleTools_subtitleDropDownContainer__1UEa0\">\n\n\n\n<div className=\"1\">\n<div className=\"SubtitleStyle\">\n\n<div className=\"flex\">\n\n<div role=\"button\" tabindex=\"0\" class=\"SubtitleTools_subtitleDropDownDisplay__2M4Ue\">\n\n<div data-testid='@editor/font-dropdown' width='120' class=\"sc-AxjAm sc-AxmLO ezduSf\">\n<div className='css-14jk2my-container'>\n<div id=\"fontin\" onClick={(e) => displayFonts(e, props)} class=\" css-59hgv7-control\">\n<div class=\" css-1hwfws3\"><div class=\"currentfont css-d2krpo-singleValue\">Arial</div><input id=\"react-select-6-input\" readonly=\"\" tabindex=\"0\" aria-autocomplete=\"list\" class=\"css-62g3xt-dummyInput\" value=\"\" disabled=\"\"/></div>\n<div className=\"css-1wy0on6\">\n<div aria-hidden=\"true\" class=\" css-5e2tja-indicatorContainer\"><svg height=\"20\" width=\"20\" viewBox=\"0 0 20 20\" aria-hidden=\"true\" focusable=\"false\" class=\"css-19bqh2r\"><path d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path></svg>\n</div>\n</div>\n\n</div>\n</div>\n</div>\n\n\n</div>\n\n    <div className=\"fontsize dropdown\">\n          <button type=\"button\" className=\"size btn btn-default dropbtn\" data-toggle=\"tab\">\n         <span></span>\n          <ExpandMoreIcon style={{fontSize: 20, display:'block'}}/>\n          </button>\n\n          <div onClick={(e) => setFontSize(e,props)} className=\"dropdown-contenx\">\n            <a>8</a>\n            <a>9</a>\n            <a>10</a>\n            <a>11</a>\n            <a>12</a>\n            <a>13</a>\n            <a>14</a>\n            <a>16</a>\n            <a>18</a>\n            <a>20</a>\n            <a>22</a>\n            <a>24</a>\n            <a>26</a>\n            <a>28</a> \n            <a>30</a>\n            <a>32</a>\n            <a>34</a>  \n          </div>\n    </div>\n\n\n\n    <button onClick={(e) => setBold(e, props)} type=\"button\" className=\"bold btn btn-default\" data-toggle=\"tab\">\n    <FormatBoldIcon />\n    </button>\n\n    <button onClick={(e) => setItalics(e, props)} type=\"button\" className=\"italic btn btn-default\" data-toggle=\"tab\">\n    <FormatItalicIcon />\n    </button>\n\n    <div className=\"col\">\n        <button id=\"1left\" style={{display:'none'}} onClick={(e) => setColorH(e, props)} type=\"button\" className=\"1left btn btn-default clickedH\" dataToggle=\"tab\"><FormatAlignLeftIcon /></button>  \n        <button id=\"2center\" onClick={(e) => setColorH(e, props)} type=\"button\" className=\"2center btn btn-default clickedH\" dataToggle=\"tab\"><FormatAlignCenterIcon /></button>  \n        <button id=\"3right\" style={{display:'none'}} onClick={(e) => setColorH(e, props)} type=\"button\" className=\"3right btn btn-default clickedH\" dataToggle=\"tab\"><FormatAlignRightIcon /></button>  \n    </div>\n\n    <button onClick={(e) => setbgColor(e, setTarget, setD, y)} type=\"button\" className=\"btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon onClick={(e) => setbgColor(e, setTarget, setD, y)} className=\"tfg bgColor\" style={{ fill: 'rgb(0,0,0)', 'fill-opacity':\"1\", fontSize: 20, display:'block', margin:'auto'}}/>text</button>\n\n    <button onClick={(e) => setbgColor(e, setTarget, setD, y)} type=\"button\" className=\"tbbg btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon onClick={(e) => setbgColor(e, setTarget, setD, y)} className=\"tbg tbbg bgColor\" style={{ fill: 'rgb(239,154,154)','fill-opacity':\"0.5\",display:'block', margin:'auto' }}/>bckgrnd</button>\n\n    <div className=\"flex\">\n    </div>\n\n\n\n\n</div>\n\n\n\n\n</div>\n\n\n<div className=\"SubtitleTools_subtitleDropDownList__2Q4CU\" tabindex=\"-1\">\n\n\n<div className=\"SubtitleTools_bottomDivider__3_E41\"></div>\n\n<div id=\"fontselect\" onClick={(e) => selectfont(e, props)}>\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 SubtitleTools_subtitleDropDownItemSelected__1bwqt\"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Arial\"}}>Arial</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Oswald\"}}>Oswald</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Impact\"}}>Impact</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Comic Sans MS\"}}>Comic Sans MS</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Montserrat\"}}>Montserrat</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Raleway\"}}>Raleway</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Helvetica\"}}>Helvetica</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Georgia\"}}>Georgia</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Satisfy\"}}>Satisfy</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Permanent Marker\"}}>Permanent Marker</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Playfair Display\"}}>Playfair Display</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Noto Sans\"}}>Noto Sans</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Amatic SC\"}}>Amatic SC</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Days One\"}}>Days One</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Rock Salt\"}}>Rock Salt</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"New Rocker\"}}>New Rocker</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8\"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Passion One\"}}>Passion One</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Indie Flower\"}}>Indie Flower</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Quicksand\"}}>Quicksand</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Shadows Into Light\"}}>Shadows Into Light</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Source Code Pro\"}}>Source Code Pro</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Aladin\"}}>Aladin</span></button><button type=\"button\" data-toggle=\"tab\" className=\"btn-default SubtitleTools_subtitleDropDownItem__EdYF8 \"><span className=\"SubtitleTools_subtitleDropDownLabel__2J0lT\" style={{\"font-family\": \"Calligraffitti\"}}>Calligraffitti</span></button>\n</div>\n</div>\n\n</div>  \n\n</div>\n\n</div>\n\n\n)\n}\n\n\nTextstylesub.displayName = \"Textstylesub\";\nexport default React.memo(Textstylesub);","import React, { useState,useEffect } from 'react';\n\nimport {connect} from 'react-redux';\n/* global $ */\n/* global moment */\n\nimport './xoxo.css';\nimport './tabbox.css';\n// import './playButton.css';\nimport './bttn2.scss';\nimport './zoomslider.css';\n// import {moveElement, keytimer, setWidth, setTickerState, getAbcString, gettime, tickerTime, strToMili, miliToTime, miliToMinTime, miliToHrTime, getLowestIndex} from './utils';\n\nimport {moveElement, setWidth, setTickerState, getAbcString, gettime, tickerTime, strToMili, miliToTime, miliToMinTime, miliToHrTime, getLowestIndex} from './utils';\n\n// import {keytimer} from './canvastry';\n\nimport TickerTime from './div_ticker';\nimport Reset from './reset';\n// import Save from './saveState';\n// import Save from './downloadvid';\n\nimport Vidstyle from './vidstyle';\n// import {arrangeSub} from './arrangesub';\nimport {setSubTime} from './arrangesub';\n\n\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport TimerOutlinedIcon from '@material-ui/icons/TimerOutlined';\n\n\n// const addticker = function(e, state, changeTime, changeBothTime, changeSub, changeCaptions) {\nconst addticker = function(e, props) { \n  console.log('in addticker');\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  // https://stackoverflow.com/questions/4456545/how-to-insert-text-at-the-current-caret-position-in-a-textarea\n\n  // need to get the exact location where it should be added\n  // + update time + update id + this.state \n\n  // https://stackoverflow.com/questions/2920150/insert-text-at-cursor-in-a-content-editable-div\n    \n  if (document.getElementsByClassName(\"current-caption\") && document.getElementsByClassName(\"current-caption\")[0]) {\n\n// document.getElementsByClassName(\"caption\")[idn] can't use this, span idn=8 before spna idn=6\n// byclassnames will be a list in order flow 0-1-2-3-4-5-8-7-6\n\n  // can have element with EXACTLY same text value! - whihc one to highlight then!?\n  // var idn = window.getSelection().getRangeAt(0).startContainer.parentNode.id;\n  const selectedSub = document.getElementsByClassName(\"current-caption\")[0]\n  const idn = selectedSub.id;\n  console.log(\"span idn \", idn);\n\n\n    /* var cursorPos = $('#text').prop('selectionStart') */\n    // var cursorPos = window.getSelection().getRangeAt(0).startOffset;\n    var cursorPos = window.getSelection().getRangeAt(0).startOffset;\n    console.log('old curpos:', cursorPos)\n    console.log(window.getSelection().getRangeAt(0).startContainer.parentNode)\n    // var v = document.getElementById(idn).innerText;\n    const v = selectedSub.innerText;\n    console.log('value',v);\n    console.log('char',v.charAt(cursorPos), 'cursor:',cursorPos,'v', v);\n\n    var pa_stime = selectedSub.getAttribute(\"stime\");\n    var pa_etime = selectedSub.getAttribute(\"etime\");\n    // console.log(v.charAt(cursorPos) == ' ')\n\n    if (v.charAt(cursorPos) != ' ' || v.charAt(cursorPos-1) != ' ') {\n\n      var indices = [];\n      indices.push(0); indices.push(v.length);\n      for(var i=0; i<v.length;i++) {\n      \t\t// console.log('NO NO NO')\n          if (v[i] === \" \") indices.push(i);\n      }\n\n      var indices2 = indices.map(function(value) { \n          return Math.abs(value - cursorPos); \n        });\n\n      console.log('position of space:',indices);\n      var p = getLowestIndex(indices2);\n      console.log(p)\n      cursorPos = indices[p];\n      \n\n      }\n\n    console.log('new curpos', cursorPos );\n    // console.log('!!add ticker cursorPos', cursorPos, 'v',v.length);\n    var tim = gettime(idn, cursorPos);\n    // console.log('in add ticker get time:',t);\n    var t = miliToMinTime(tim);\n    //console.log('in add ticker get time:',t);\n\n    // console.log('selected sub-', 'sub value before-',selectedSub.value);\n    var textBefore = v.substring(0,  cursorPos );\n    var textAfter  = v.substring( cursorPos, v.length );\n    \n    selectedSub.innerText =  textBefore;\n    console.log(selectedSub.innerText, 'tB',textBefore);\n    // console.log('selected sub', 'cur',cursorPos,'textBefore', textBefore, 'selected sub value:', selectedSub.value);\n    // props.changeCaptions(textBefore);\n\n    // console.log(\"child\", document.getElementById(\"subdiv\").children );\n    // console.log(' strt length:', strt);\n\n    var i = document.getElementsByClassName(\"caption\").length;\n    var pa = selectedSub;\n\n    var cdiv = document.createElement(\"div\");\n    cdiv.setAttribute(\"caption-break\", \"\");  \n\n    // strt[i] = t;\n    // console.log('strt[i]', t);\n\n    // cdiv.setAttribute(\"time\", t);\n \n    cdiv.className = \"caption-break\";\n    cdiv.contentEditable = \"true\";\n    cdiv.draggable = \"true\";\n\n    // var tickdiv = document.createElement(\"div\");\n    // tickdiv.setAttribute(\"className\", 'input-group date datepicker-me-class');\n    // tickdiv.setAttribute(\"class\", 'input-group date datepicker-me-class');\n\n    // var ticker = document.createElement(\"button\");\n    var ticker = document.createElement(\"span\");\n\n    //do not write random text in time button\n    ticker.setAttribute(\"contentEditable\", \"false\");\n    ticker.setAttribute(\"id\", \"bt\"+i.toString());\n    ticker.setAttribute(\"class\", \"tickers\");\n    // console.log('bttn id', ticker.id);\n    ticker.style.position = 'relative';\n\n    // var spantick = document.createElement(\"SPAN\");\n    // spantick.setAttribute(\"className\",\"glyphicon-time glyphicon\");\n    // spantick.setAttribute(\"class\",\"glyphicon-time glyphicon\");\n    // // spantick.setAttribure(\"id\", \"ticker\"+i.toString())\n\n    // var inputtick = document.createElement(\"input\");\n    // inputtick.setAttribute(\"type\", \"hidden\");\n    // inputtick.setAttribute(\"id\", \"datetimepicker\"+i.toString());\n    \n    // cdiv.appendChild(tickdiv);\n// BEFORE TOOLTIPPP\n    cdiv.appendChild(ticker);\n\n// AFTER ADDING TOOLTIP\n    // var z = document.createElement('DIV')\n    // z.setAttribute(\"class\",\"tooltip\")\n    // var zz = document.createElement('SPAN')\n    // zz.setAttribute(\"class\", \"tooltiptext\")\n    // zz.innerText = \"click to combine two subtitles or edit the timing\"\n    // z.append(zz)\n    // z.append(ticker)\n    // cdiv.append(z)\n\n\n/////////////////\n\n\n    // ticker.appendChild(spantick);\n    // tickdiv.appendChild(inputtick);\n\n    // pa.appendChild(cdiv);\n    pa.insertAdjacentElement(\"afterend\", cdiv);\n\n    var cspan = document.createElement(\"span\");\n    cspan.setAttribute(\"stime\", t);\n    cspan.setAttribute(\"etime\", pa_etime);\n\n    selectedSub.setAttribute(\"etime\", t);\n\n    cspan.setAttribute(\"className\", \"caption current-caption\");\n    cspan.setAttribute(\"class\", \"caption current-caption\");\n        \n    cspan.setAttribute(\"contentEditable\", \"true\");\n\n    cspan.innerText = textAfter; //sub[i];\n    cspan.setAttribute(\"id\", i);\n\n    console.log('new ticker text', cspan.innerText);\n\n\n\n    // pa.appendChild(cspan);\n    cdiv.insertAdjacentElement(\"afterend\", cspan);\n\n    // cspan.className = \"caption\";\n    cspan.setAttribute(\"className\", \"caption\");\n    cspan.setAttribute(\"class\", \"caption\");\n\n    // ticker.style.backgroundColor = 'black';\n   \t// ticker.style.color = 'blue';\n   \t// ticker.style.borderColor = \"pink\";\n   \tticker.style.padding = \"2px\";\n   \tticker.setAttribute(\"width\", \"30px\");\n   \t// inputtick.setAttribute(\"type\", \"hidden\");\n   \tcspan.setAttribute(\"lineHeight\",\"10em\");\n    // ticker.innerHTML = t;\n    ticker.innerHTML = `<li class='fa'>&#xf017</li>`;\n\n\n    const newtime = JSON.parse(localStorage.getItem('strt')).slice()\n    newtime[i] = t;\n\n    const newsub = JSON.parse(localStorage.getItem('subx')).slice() //copy the array\n    newsub[idn] = textBefore;\n\n    newsub[i] = textAfter;\n\n    const endnew = JSON.parse(localStorage.getItem('en')).slice();\n    endnew[idn] = t; //parent ticker\n\n    // console.log('!new ticker text', state.txt);\n    // var endi = document.getElementById(i).nextSibling.nextSibling.getAttribute(\"id\");\n    // endnew[i] = endnew[endi]; \n    endnew[i] = JSON.parse(localStorage.getItem('en'))[idn];  //new ticker\n \t// en[idn] = strt[i];\n \t// en[i] = en[idn] ; //endtime for new ticker is endtime of parent ticker \n  console.log(\"change both time - \",'new',t);\n \tconsole.log(\"change both time - \",'new',i, newsub[i], newtime[i], endnew[i]);\n  console.log(\"change both time - \",'parent',idn, newsub[idn], newtime[idn], endnew[idn]);\n  // props.changeBothTime(newsub, newtime, endnew) ; \n\n  //   document.getElementById(\"subtitle-text-container\").innerText = document.getElementsByClassName('current-caption')[0].innerText;\n\n  //   // setState() \n  // //  console.log('end of addticker state', props.state); \n  //   var vi = document.getElementById(\"subtitles-text-container\");\n  //   vi.style.visibility=\"visible\";  \n}\n}\n\nconst showTicker = function(e, t, x, y) {\n\tconsole.log(\"showticker\", e.target); //e.target: span id=\"bt6\"\n\n  var pa \n\n\n\tif (e.target.classList.contains(\"caption-break\") || e.target.parentNode.classList.contains(\"caption-break\") || e.target.parentNode.parentNode.classList.contains(\"caption-break\") ) {\n\n      if ( e.target.parentNode.classList.contains(\"caption-break\") ) {\n        pa = e.target.parentNode\n      }\n\n      if ( e.target.parentNode.parentNode.classList.contains(\"caption-break\") ) {\n        pa = e.target.parentNode.parentNode\n      }\n\n      if ( e.target.classList.contains(\"caption-break\") ) {\n        pa = e.target\n      }\n\n\n      // var tickid = e.target.parentNode.nextSibling.id;\n      var tickid = pa.nextSibling.id;\n\n      var f = document.getElementById(tickid).previousSibling;\n\n      var offset = f.getBoundingClientRect();  \n      \n// ///////////////////////////////////////////////////////////////////////////////\n  //     // dont show ticker at BEGIN and END\n  //     var gPa = document.getElementById(\"subdiv\").children\n\t //  if (tickid == gPa[1].id || tickid == gPa[gPa.length-1].id) {\n\t\t// return;\n\t //  }\n/////////////////////////////////////////////////////////////////////////////////////\n\n\t  document.getElementById(\"rows\").style.display = \"block\";\n\n\t  setTickerState(tickid); \n\n\n      t(tickid);\n      // x(e.clientX);\n      // y(e.clientY);\n      x(offset.left + offset.width/2);\n      y(offset.top + offset.height);      \n     } \n}\n\n\nfunction Tabbox(props){\n\n\tconst [tickid, setTickid] = useState(\"0\"); //cspan\n\tconst [posX, setPosX] = useState(0);\n\tconst [posY, setPosY] = useState(0);\n\tconst [display, setDisplay] = useState(\"none\");\n\t\n // const [txy, setTxy] = useState([]);\n\t\n  const txy = localStorage.getItem(\"Yes\");\n\n\n\tuseEffect(() => {\n\n\tdocument.getElementById(\"addSubz\").addEventListener(\"click\", (e) => {\n\t\te.preventDefault();\n    e.stopPropagation();\n\t\t// console.log('addticker before state', props.state);\n\t\taddticker(e, props)\n\t\t});\n\n    // var key = document.getElementById(\"subdiv\");\n\n    // key.addEventListener(\"DOMSubtreeModified\", (e) => keytimer(e));\n\n    \n\n\t  // key.addEventListener(\"keydown\", (e) => {keytimer(e) }); //slow\n\n\n\t// key.addEventListener(\"mouseup\", (e) => keytimer(e)); //doin nthng\n\t// key.addEventListener(\"mousedown\", (e) => keytimer(e));\n\t// key.addEventListener(\"click\", (e) => {\n //    keytimer(e)\n //    // setWidth(2);\n\n //    // console.log('clinet', e.clientY, e.pageY)\n    \n //    try {\n //    // document.getElementById(\"addSubz\").removenext(document.getElementById(\"plus\"))\n //    document.getElementById(\"plus\").remove();\n //  } catch {\n //    console.log(\"no child\");\n //  }\n\n\n//   function getpos(e) {\n//   var posx = 0;\n//   var posy = 0;\n//   if (!e) var e = window.event;\n//   if (e.pageX || e.pageY)   {\n//     posx = e.pageX;\n//     posy = e.pageY;\n//   }\n//   else if (e.clientX || e.clientY)  {\n//     posx = e.clientX + document.body.scrollLeft\n//       + document.documentElement.scrollLeft;\n//     posy = e.clientY + document.body.scrollTop\n//       + document.documentElement.scrollTop;\n//   }\n//   return [posx, posy]\n// }\n//     document.getElementById(\"addSubz\").style.marginTop = getpos(e)[1] - 190 + 'px';\n//     // document.getElementById(\"addSubz\").style.marginRight = -200 + 'px';\n\n\n//     var xp = document.getElementById(\"addSubz\").getBoundingClientRect();\n\n//       var cy = getpos(e)[1]  ;\n//       var color = 'rgba(255,0,255,0.3)';\n//       var thickness = 1;\n//       var cx = e.clientX;\n\n      \n//       var xx = xp.left + xp.width/3\n//       var length = xx - cx  \n//       var htmlLine = \"<div id=plus style='padding:0px; margin:0px; height:\" + thickness + \"px; background-color:\" + color + \"; line-height:1px;left:\" + cx + \"px; position: fixed; top:\" + cy + \"px; width:\" + length + \"px' />\";\n//     //\n//     // alert(htmlLine);\n//     // document.getElementById(\"addSubz\").innerHTML += htmlLine;\n//     document.getElementsByClassName(\"tooltip\")[0].insertAdjacentHTML('afterend', htmlLine);\n\n//   });\n\t// key.addEventListener(\"keypress\", (e) => keytimer(e));\n\t//key.addEventListener(\"keyup\", (e) => keytimer(e));\n\n\t// key.removeEventListener('keydown', handleKeyDown, true);\n //  key.removeEventListener('mousedown', handlePointerDown, true);\n //  doc.removeEventListener('pointerdown', handlePointerDown, true);\n //  doc.removeEventListener('touchstart', handlePointerDown, true);\n //  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n\n\n\tdocument.getElementById(\"subdiv\").addEventListener(\"click\", (e) => {\n\t\t// document.getElementById(\"rows\").style.display = \"block\";\n     //  \te.preventDefault();\n    \t// e.stopPropagation();\n      \tshowTicker(e, setTickid, setPosX, setPosY);\n      });\n\n\t// document.body.addEventListener(\"click\", (e) => {\n\n //      e.preventDefault();\n //      e.stopPropagation();\n\n //    var check = e.target.classList.contains(\"caption-break\") || e.target.parentNode.classList.contains(\"caption-break\") || e.target.parentNode.parentNode.classList.contains(\"caption-break\")\n\n\t// \tif (!check) {\n //      try {\n\t// \t  document.getElementById(\"rows\").style.display = \"none\";\n //  } catch {}\n\t// \t\t}\n\t// })\n\n\t},[])\n\nuseEffect(() => {  //never update this part\n\n// set heading \n\n\n\n\n// setWidth(1)\n\nconsole.log('BBBBBBBBBBBB', JSON.parse(localStorage.getItem('subx')))\n// console.log(JSON.parse(localStorage.getItem('subx')).length)\n\ndocument.getElementById(\"subdiv\").innerHTML = '';\n\nconsole.log('DURATIONNNN', miliToTime(parseFloat(localStorage.getItem(\"duration\"))*1000))\n\ntry {\n// console.log('tab1 state', props.state.sub.length)\nfor (var i=0; i<JSON.parse(localStorage.getItem('subx')).length ; i++){\n\n      console.log(\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\", props)\n      var pa = document.getElementById(\"subdiv\") ;\n\n      var cdiv = document.createElement(\"div\");\n      cdiv.setAttribute(\"caption-break\", \"\");  \n\n\n      cdiv.className = \"caption-break\";\n      cdiv.contentEditable = \"false\";\n      cdiv.draggable = \"true\";\n\t  \n      var ticker = document.createElement(\"span\");\n\n      //to not write random text in time button\n      ticker.setAttribute(\"contentEditable\", \"false\");\n      ticker.setAttribute(\"class\", \"tickers\");\n      // ticker.className = \"tooltiptext\"\n\n      // console.log('bttn id', ticker.id);\n      ticker.style.position = 'relative';\n      // console.log('input id', inputtick.id);\n\n     // <div className=\"tooltip\">\n     // <span className=\"tooltiptext\">Combine the two subtitles</span>\n\n// ACTUALLLLLLLLLL\n      cdiv.appendChild(ticker);\n\n// MAN-MADEEE ADDED TICKER\n     //  if (i!=0 && i!=JSON.parse(localStorage.getItem('subx')).length-1) {\n     //  var z = document.createElement('DIV')\n     //  z.setAttribute(\"class\",\"tooltip\")\n     //  var zz = document.createElement('SPAN')\n     //  zz.setAttribute(\"class\", \"tooltiptext\")\n     //  zz.innerText = \"click to combine two subtitles or edit the timing\"\n     //  z.append(zz)\n     //  z.append(ticker)\n     //  cdiv.append(z)\n     // } else {\n     //  cdiv.appendChild(ticker);\n     // }\n\n      // var ticktick = `<TickerTime time={props.state.strt[0]}/>`;\n      // cdiv.insertAdjacentHTML('afterbegin', ticktick);\n\n     //  ticker.addEventListener(\"click\", (e) => {\n     //  \te.preventDefault();\n    \t// e.stopPropagation();\n     //  \tshowTicker(e, setTickid, setPosX, setPosY, setDisplay)\n     //  });\n\n      pa.appendChild(cdiv);\n\n      var cspan = document.createElement(\"span\");\n\n      // t = 00:01.23\n      console.log('i',i, JSON.parse(localStorage.getItem('strt'))[i], JSON.parse(localStorage.getItem('subx')).length)\n      var t = JSON.parse(localStorage.getItem('strt'))[i]\n\n      // so that only one decimal place is included\n      t = miliToMinTime(strToMili(t))\n\n      // var v = (Math.round(parseFloat(t.split(':')[1])*10)/10).toFixed(1) \n      // if(v.length==3) { t = t.split(':')[0]+':' + '0' + v}\n      // else { t = t.split(':')[0]+':' + v}\n\n      cspan.setAttribute(\"stime\", t);\n      var t = JSON.parse(localStorage.getItem('en'))[i]\n\n      // so that only one decimal place is included\n      t = miliToMinTime(strToMili(t))\n\n      // console.log('tt',t,i)\n      // var v = (Math.round(parseFloat(t.split(':')[1])*10)/10).toFixed(1) \n      // if(v.length==3) { t = t.split(':')[0]+':' + '0' + v}\n      // else { t = t.split(':')[0]+':' + v}\n\n      cspan.setAttribute(\"etime\", t);\n\n      cspan.setAttribute(\"className\", \"caption current-caption\");\n      cspan.setAttribute(\"class\", \"caption current-caption\");\n\n      // var att = document.createAttribute(\"contentEditable\");      \n      // att.value = \"true\";                         \n      cspan.setAttribute(\"contentEditable\", \"true\");\n\n    \n    pa.appendChild(cspan);\n\n    if (i!=0) {\n    // console.log('i',i);\n    cspan.setAttribute(\"className\", \"caption\");\n    cspan.setAttribute(\"class\", \"caption\");\n    }\n   // cspan.removeClass(\"current-caption\");\n\n   // ticker.style.backgroundColor = 'black';\n   // ticker.style.color = 'white';\n       // ticker.style.backgroundColor = 'black';\n    // ticker.style.color = 'blue';\n   // ticker.style.borderColor = \"pink\";\n   ticker.style.padding = \"4px\";\n\n   // ticker.setAttribute(\"width\", \"30px\");\n\n///////////////////////////////////////////////////////////\n//    if ( i == 0 ) {\n//    \t\tticker.innerHTML = \" Begin \";\t\n//    \t\t// console.log('start', props.state.duration)\n//       ticker.style.fontSize = '1em';\n//    \t\tticker.style.backgroundColor = 'gold';\n//    \t\tticker.style.color = 'black';\n\n//    // } else if ( strToMili(JSON.parse(localStorage.getItem('strt'))[i])/1000 == parseFloat(localStorage.getItem(\"duration\")).toFixed(1) ){\n//   } else if (i==JSON.parse(localStorage.getItem('subx')).length-1) {\n//    \t\tticker.innerHTML = \" End \";\t\n//       ticker.style.fontSize = '1em';\n//    \t\tticker.style.backgroundColor = 'gold';\n//    \t\tticker.style.color = 'black';\n// } else \n\n///////////////////////////////////////////////////////////////\n// {\n\n\n  var t = JSON.parse(localStorage.getItem('strt'))[i]\n  t = miliToMinTime(strToMili(t))\n  // console.log('tt',t,i)\n  // var v = (Math.round(parseFloat(t.split(':')[1])*10)/10).toFixed(1) \n  // if(v.length==3) { t = t.split(':')[0]+':' + '0' + v} \n  // else { t = t.split(':')[0]+':' + v}\n // console.log('tx',t,i)\n  \n\t// ticker.innerHTML = t \n  // ticker.innerHTML = `<i class='fas fa-clock' aria-hidden='true'></i>` ;\n  ticker.innerHTML = `<li class='fa'>&#xf017</li>`;\n// }\n   // cspan.setAttribute(\"lineHeight\",\"10em\");\n\n\n  // if ( i == sub.length) { i = 'xx'; }\n  \n  ticker.setAttribute(\"id\", \"bt\"+i.toString());\n  cspan.setAttribute(\"id\", i);\n\n\n  cspan.innerText = JSON.parse(localStorage.getItem('subx'))[i];\n}\n\n} catch(e) {\n  console.log(e)\n // arrange subtitles at t=0\n}\n \n// var vidx = document.getElementById(\"vid1\");\n// vidx.onloadedmetadata = function() {\n\n//   arrangeSub();\n\n// };\n\n// function deleteNode(e)\n// {\n  \n//   var cx = document.getElementById(\"subdiv\").children;\n\n//   // console.log('cx', cx);\n//   for (var i=0; i<cx.length-1 ; i++){\n//     if (cx[i].classList.contains(\"caption\") == cx[i+1].classList.contains(\"caption\")) {\n//       cx[i].innerText = cx[i].innerText + cx[i+1].innerText;\n//       cx[i].setAttribute(\"etime\", cx[i+1].getAttribute(\"etime\"));\n//       cx[i+1].parentNode.removeChild(cx[i+1]);\n//     }\n// }\n// }\n// // Select the node that will be observed for mutations\n// const targetNode = document.getElementById('subdiv');\n\n// // Options for the observer (which mutations to observe)\n// // const config = { attributes: true, childList: true, subtree: true };\n// const config = { childList: true}\n// // Callback function to execute when mutations are observed\n// const callback = function(mutationsList, observer) {\n//     // Use traditional 'for loops' for IE 11\n//     for(let mutation of mutationsList) {\n//         if (mutation.type === 'childList') {\n//             deleteNode();\n//             console.log('A child node has been added or removed.');\n//         }\n//         // else if (mutation.type === 'attributes') {\n//         //     console.log('The ' + mutation.attributeName + ' attribute was modified.');\n//         // }\n//     }\n// };\n\n// // Create an observer instance linked to the callback function\n// const observer = new MutationObserver(callback);\n\n// // Start observing the target node for configured mutations\n// observer.observe(targetNode, config);\n\n// // Later, you can stop observing\n// // observer.disconnect();\n\n// console.log('tickid', tickid, 'posX', posX, 'posY', posY)\n// console.log('tick', document.getElementById(tickid))\n\n  // <Vidstyle state={props.state} />\n\n//   <Reset subtext={props.state.subtext} stime={props.state.stime} etime={props.state.etime} duration={props.state.duration} />\n\n//           <Save changeBothTime={props.changeBothTime} state={props} />\n\n\n// props.s\n},[props.s])\n\treturn (\n\t<div id=\"dcolumn\">\n\n  \n\n\t\t<div className=\"jss586\">\n\t\t\t<div className=\"zub-editor-dkflgl\">\n           \n       \t\t <TickerTime tickid={tickid} posX={posX} posY={posY} />\n\n\n\t\t       <div id=\"editor\" className=\"editor\">\n\n\t\t     \t <div id=\"subdiv\" contentEditable=\"false\" className=\"ProseMirror ProseMirror-example-setup-style\" />\n\n           <div className=\"tooltip\">\n           <span className=\"tooltiptext\">Add Subtitle at Cursor position</span>\n           <button id=\"addSubz\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n              <AddCircleIcon style={{ fontSize:30 }} />\n           </button> \n            </div>\n\n           </div>\n\n            </div>\n        </div>\n\n        <div id=\"loading\">\n          <img id=\"loading-image\" src=\"\" alt=\"Loading...\" />\n        </div>\n          \n     </div>\n\t\t)\n}\n\n\n// Map Redux state to React component props\nconst mapStateToProps = (state) => ({\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n})\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    // dispatching plain actions\n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    // increment: () => dispatch({ type: 'INCREMENT' }),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n// Connect Redux to React\nTabbox.displayName = \"Tabbox\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Tabbox));","// the setting bar towards left to change styling\n\n/* global $ */\n\nimport { showTextstyle} from './utils';\n\nimport React, { useState,useEffect } from 'react';\n\nimport {connect} from 'react-redux';\n\n// import Color from './colors';\nimport Colorsbox from './colorsbox';\nimport Textstyle from './textstyle';\nimport Textstylesub from './textstylesub';\nimport './boxstyle.css';\n\nimport Tabbox from './tabbox';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport {setTemplate1} from './setTemplate';\nimport {deleteText, setWidth, setDim, miliToTime, miliToHrCommaTime} from './utils'\nimport axios from 'axios'; \n\n// import {fade} from 'material-ui/styles/colorManipulator';\n\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\n// const closeStyle = function (e) {\n//       document.getElementById(\"xcolumn\").style.display=\"none\"\n// }\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport {setSubTime, setSubBegin, splitSub} from './arrangesub';\n\n// import {storeHead} from './storelocalstorage';\n\n\n// function deleteText(e) {\n//   // var y = e.target.parentNode.classList.contains(\"delH\") || e.target.parentNode.parentNode.classList.contains(\"delH\")\n  \n//   console.log('deleteText', e.currentTarget, e.currentTarget.parentNode)\n//   var y ;\n//   if ( e.currentTarget.parentNode.classList.contains(\"delH\") ) {\n//     y = e.currentTarget.parentNode\n//   } else {\n//     y = e.currentTarget.parentNode.parentNode\n//   }\n\n//   var z = y.id\n//   console.log('y', y, z.split('z')[0])\n//   document.getElementById(z.split('z')[0]).remove()\n//   y.remove()\n\n//   // document.getElementsByClassName(\"heads-text-container\")[0].remove()\n//   // document.getElementsByClassName(\"delH\")[0].remove()\n\n// }\n\n\n\n\n\n\nfunction closeWidget(e) {\n\n// close if user is writing subtitles\n// try{\n//   if(document.getElementById(\"subdiv\").contains(e.target)) {\n    \n//     document.getElementById('xcolumn').style.display='none'\n    \n//   }\n// } catch {}\n\n    var check = e.target.classList.contains(\"caption-break\") || e.target.parentNode.classList.contains(\"caption-break\") || e.target.parentNode.parentNode.classList.contains(\"caption-break\")\n\n   if (!check) {\n      try {\n     document.getElementById(\"rows\").style.display = \"none\";\n  } catch {}\n     }\n\ntry{\nvar c = e.target.classList.contains(\"heads-text-container\") || e.target.classList.contains(\"head-text-container\")|| e.target.classList.contains(\"subtitles-text-container\") || e.target.classList.contains(\"subtitle-text-container\") || e.target.classList.contains(\"custom-seekbar1\") || e.target.classList.contains(\"custom-seekbar11\") || e.target.classList.contains(\"vx\") || e.target.id == \"vid1\" || e.target.classList.contains(\"xheadx\") || e.target.classList.contains(\"head\") || document.getElementById(\"xcolumn\").contains(e.target)\n} catch {}\n\nif ( !c ) {\n      try {\n        document.getElementsByClassName(\"move\")[0].classList.remove(\"move\");\n      } catch {}\n\n      }\n\ntry {\n  if (!document.getElementById(\"xx\").contains(e.target)) {\n  \n    document.getElementById(\"rx\").style.display=\"block\"\n    document.getElementById(\"xx\").style.display=\"none\"\n    document.getElementsByClassName(\"vid-fixed-top\")[0].style.opacity = 1\n\n    console.log(e.target)\n  }\n} catch {}\n// id is either parent circle or button\n\t// if (e.target.classList.contains(\"bgColor\")) {\n\t// // document.getElementById(\"ycolumn\").style.display = \"block\";\n\t// return;\n\t// } \n\n  if (document.getElementById(\"ycolumn\")) {\n// if the target is a child of 'color widget'\n\tif (!document.getElementById(\"ycolumn\").contains(e.target)) {\n\t   // document.getElementById(\"ycolumn\").style.display = \"block\";\n\t  document.getElementById(\"ycolumn\").style.display = \"none\";\n\t}\n\n\n\n// Zoom slider\n  // if (e.target.classList.contains(\"zoomd\") || e.target.id == \"zoomd\") {\n  //   // document.getElementById(\"overlayzoom\").style.display = \"block\"\n  //   return;\n  // }\n  \n  // if (document.getElementById(\"overlayzoom\")) {\n  //     if (document.getElementById(\"overlayzoom\").contains(e.target)) {\n  //   // document.getElementById(\"overlayzoom\").style.display = \"block\";\n  //   return;\n  // } \n  // }\n  // document.getElementById(\"overlayzoom\").style.display = \"none\"\n\n  // fonts - head and sub\n  var ft = document.getElementsByClassName(\"SubtitleTools_subtitleDropDownList__2Q4CU\");\n  // console.log('ft', ft[0], ft[1], e.target)\n  var i = 0\n  if (e.target.id == \"fontin\") {\n    // ft[i].style.display = \"block\"\n    return;\n  }\n  \n  if (ft[0].style.display != \"none\") {\n      if (ft[0].contains(e.target)) {\n        // ft[i].style.display = \"block\";\n        return;\n  } \n}\n\n  if (ft[1].style.display != \"none\") {\n      if (ft[1].contains(e.target)) {\n        // ft[i].style.display = \"block\";\n        return;\n  } \n}\n\nft[0].style.display = \"none\"\nft[1].style.display = \"none\"\n  \n  \n  \n}\n\n}\n\n\n\nfunction zoomD(e) {\n  console.log('zoom', e.target)\n  document.getElementById(\"overlayzoom\").style.display = \"block\"\n}\n\nfunction setbgColor(e, setTarget) {\n  if (e.target.classList.contains(\"bgColor\") || e.target.parentNode.classList.contains(\"bgColor\")) {\n  document.getElementById(\"ycolumn\").style.display = \"block\";\n\n  var tar = e.currentTarget;\n\n  console.log('%',tar, tar.tagName == 'BUTTON', tar.children[0])\n  if (tar.tagName == 'BUTTON') {\n      tar = tar.children[0];\n      console.log(tar);\n\n  }\n\n  console.log('setTarget', tar);\n\n  setTarget(tar);\n\n  var offset = tar.getBoundingClientRect();\n  //var left = (offset.left + offset.width/2);\n  var top = (offset.top + offset.height); \n  // var top = offset.top;  \n  var left = offset.left;\n\n  // e.currentTarget.style.color = document.getElementsByClassName('vc-sketch-active-color')[0].style.background.split(\" none\")[0];\n\n  console.log('widget', tar, top, left);\n\n  // document.getElementById(\"ycolumn\").style.marginTop = top +'px';\n  // document.getElementById(\"ycolumn\").style.marginLeft = 0 + 'px';\n}\n}\n\n\nconst showSub = function (e) {\n\n  // document.getElementsByClassName(\"clickedV\")[0].setAttribute(\"class\", \"btn btn-default\")\n  // document.getElementById(\"generateSub\").setAttribute(\"class\", \"clickedV btn btn-default\")\n\n  document.getElementById(\"textstyle\").style.display = 'none';\n    // document.getElementById(\"progressBar\").style.display = 'none'\n\n    document.getElementById(\"showVideo\").style.display = 'none'\n    document.getElementById(\"substyle\").style.display = 'none'\n\n        document.getElementById(\"dcolumn\").style.display = 'block';\n        document.getElementById(\"showSub\").style.display = 'block';\n        document.getElementById(\"askSub\").style.display = 'none';\n    \n\n}\n\n\nfunction calcSub() {\n\n    const meta = JSON.parse(localStorage.getItem('meta'));\n\n    console.log('meta', meta);\n    // // console.log(props.match.params, props.location.state);\n    // // console.log('dur',props.location.state.vid.duration);\n    var strt=[];\n    var en=[];\n    var sub=[];\n    for(var i=0;i<meta.length;i++){\n      strt.push(meta[i].start_time);\n      en.push(meta[i].end_time);\n      sub.push(meta[i].words);\n    }\n\n    // var se = parseFloat(props.location.state.vid.duration).toFixed(1).split('.');\n    // var se = parseFloat(localStorage.getItem(\"duration\")).toFixed(1).split('.');\n    var viddur = miliToHrCommaTime(parseFloat(localStorage.getItem(\"duration\"))*1000)\n\n\n    // var se = ['33', '9']\n\n// change end_time to duration for last element\n    en[i-1] = viddur;\n    strt[i] = viddur;\n    en[i] = viddur;\n    sub[i] = \" \";\n\n    localStorage.setItem('subx', JSON.stringify(sub));\n    localStorage.setItem('en', JSON.stringify(en));\n    localStorage.setItem('strt', JSON.stringify(strt));\n\n    console.log('DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD');\n\n\n}\n\n\nfunction displaySub(e, res, setS, props) {\n\n\n          console.log(\"fetched transcript\", res)\n          // console.log('body', body)\n\n          var meta = res.data\n          localStorage.setItem('meta', JSON.stringify(meta))\n          \n          localStorage.removeItem(\"subx\");\n          localStorage.removeItem(\"en\");\n          localStorage.removeItem(\"strt\");\n\n          // calcSub();\n          // setSubBegin();\n          splitSub();\n          // console.log('sss',s)\n          setS(true);\n\n          showSub(e);\n\n          localStorage.setItem(\"showSub\", \"1\")\n\n// /////////////////////////////////////////\n\n\n    var subs = document.getElementsByClassName(\"caption\")\n\n    // document.getElementsByClassName(\"caption\")[0].innerHTML\n  // var hh = this.TwrapTextDummy(ctx, subs[0].innerText , 0, 0, 200 - 2*marginB, this.props.boxes2[0].fs + 0.4*marginB, this.props.boxes2[0].fs, this.props.boxes2[0].f)\n\n\n    // props.update_x(0, 'h', 2*marginB + hh )\n    props.update_x(0, 'text', JSON.parse(localStorage.getItem('subx'))[0])\n    props.update_x(0, 'html', JSON.parse(localStorage.getItem('subx'))[0].replace(/\\n/g,'<br>').replace(/&nbsp/g,'').replace(/&nbsp;/g,''))\n\n    props.update_x(0, 'fill', 'rgba(100,100,100,0.5)')\n\n    props.update_x(0, 'a', 0.5);\n\n    localStorage.setItem(\"showSub\", \"1\")\n\n}\n\n\nfunction generateSub(e, s, setS, props) {\n\n\n\nif(!localStorage.getItem(\"filename\")) {\n  return;\n}\n\nif(document.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display == \"block\") {\n  return;\n}\n\n  // document.getElementById(\"askSub\").setAttribute(\"x\", \"1\")\n  localStorage.setItem(\"showSub\", \"0\")\n\n  document.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display = \"block\"\n  document.getElementById(\"askSub\").getElementsByClassName(\"transcribe_\")[0].style.display = \"block\"\n  document.getElementsByClassName(\"waitSub\")[0].style.opacity = 0.5;\n\n\n  var filexame =  localStorage.getItem('filename');\n  var lang = localStorage.getItem('lang')\n  var json_name = filexame.split('.')[0] + '.json' \n  var audio = filexame.split('.')[0] + '.mp3'\n  // var end = filexame.split('.')[1]\n  // + '.mp3'\n\n\n  var url = 'https://9px0z1hbrk.execute-api.us-west-2.amazonaws.com/default/create_audio_file?file=' + filexame + '&lang=' + lang + '&audio=' + audio\n\n\n\n  // var xurl = 'https://807yynhrd3.execute-api.us-west-2.amazonaws.com/default/transcription_from_s3?key=88aee94b-677e-4c45-b2a8-87c76a916e04481597d3-73cf-4b15-8f3b-b744e3d87c13.json'\n\n  // axios.get(xurl).then(res => console.log('fetched json', res))\n\n  // console.log('xurl', xurl)\n\n// url = 'http://localhost:5000/getsub'\n// var data = {}\n// data['filename'] = localStorage.getItem('filename');\n\n\n// json_name = 'xxxauto_audio_1606101958359_small.json'\n\n// //////////////////////////////////////////////////////////////////////////\n\n// generate the audio file\naxios.get(url).then(res => {\n  console.log('Audio file created :)', res)\n\n// start transcription job\n    url = 'https://mzn16hec30.execute-api.us-west-2.amazonaws.com/default/create_transcript_job?audio=' + audio + '&lang=' + lang \n\n    // axios.get(url).then(res => {\n    //   console.log('transcript started', res.data)\n\n         // generate the transcript json\n    // url = 'https://807yynhrd3.execute-api.us-west-2.amazonaws.com/default/transcribe-audio-file?audio=' + audio + '&lang=' + lang \n    // res.data\n\n      axios.get(url).then(res => {\n        console.log('started creating json', res)\n\n        json_name = 'yjygj.json'\n        json_name = 'small.json'\n\n        var s = 'https://bc67h54zph.execute-api.us-west-2.amazonaws.com/default/transcription_from_s3?key=' + json_name + '&job=' + res.data\n        \n        // t is in seconds\n        var t = parseFloat(localStorage.getItem('duration'))\n        var tt = 60*1000\n        if (t > 60) {tt = 60*1000}\n        \n        // call after half duration \n        t = 0.5*t*1000\n        \n// setTimeout\n        const id = setTimeout(() => {\n\n        console.log('s',s, 't',t)\n\n        axios.get(s).then(res => {\n        console.log('json fetched', res)\n\n        displaySub(e, res, setS, props)\n        \n      \n      }).catch(err => {\n\n        console.log(err)\n        var dx = setInterval(() => {\n\n          axios.get(s).then(res => {\n        console.log('json fetched', res)\n        clearInterval(dx)\n        dx = 0;\n\n        document.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display = \"none\"\n\n        document.getElementById(\"askSub\").getElementsByClassName(\"transcribe_\")[0].style.display = \"none\"\n\n        displaySub(e, res, setS, props)\n\n\n      })\n\n        }, tt) //close setInterval\n      })\n    \n    }, t); //close setTimeout\n\n        // + '&cachebuster=' + Date.now()\n\n    }).catch(err => {\n      console.log('json', err) \n\n    document.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display = \"none\"\n    document.getElementById(\"askSub\").getElementsByClassName(\"transcribe_\")[0].style.display = \"none\"\n    document.getElementsByClassName(\"waitSub\")[0].style.opacity = 1;\n\n    })\n\n  }).catch(err => {\n    console.log('audio couldnt be generated', err)\n\n    document.getElementById(\"askSub\").getElementsByClassName(\"Mpbar\")[0].style.display = \"none\"\n    document.getElementById(\"askSub\").getElementsByClassName(\"transcribe_\")[0].style.display = \"none\"\n    document.getElementsByClassName(\"waitSub\")[0].style.opacity = 1;\n\n    alert(\"uploaded video doesn't have audio\")\n\n})\n\n///////////////////////////////////////////////////////////////////////////\n\n\n\n//     axios.get(url)\n//     .then(res => {\n//         console.log('transcript CREATED! :)', res)\n    \n\n//     // }).catch(err => {\n//     //   console.log('transcript creation threw error! :(', err)\n\n//               // get the generated transcript\n//         var s = 'https://bc67h54zph.execute-api.us-west-2.amazonaws.com/default/transcription_from_s3?key=' + 'transcribeFile/' + json_name\n\n//         axios.get(s).then(res => {\n//           console.log('fetched',res)\n//         }).then(body => {\n\n\n//           console.log(\"fetched transcript\", res)\n//           console.log('body', body)\n\n//           var meta = res.data\n//           localStorage.setItem('meta', JSON.stringify(meta))\n          \n//           localStorage.removeItem(\"subx\");\n//           localStorage.removeItem(\"en\");\n//           localStorage.removeItem(\"strt\");\n\n//           // calcSub();\n//           setSubBegin();\n//           console.log('sss',s)\n//           setS('true');\n\n//           showSub(e);\n\n//           localStorage.setItem(\"showSub\", \"1\")\n\n//             // document.getElementById(\"dcolumn\").style.display = 'block';\n//       }).catch(err => console.log('cant fetch', err))\n\n// // transcript creation error\n//     }).catch(err => {\n//       console.log('transcript creation threw error! :(', err) })\n\n//  //close res of audio generation\n\n\n//       localStorage.setItem(\"showSub\", \"1\")\n\n\n}\n\n\n\nfunction Boxstyle(props){\n  const dispatch = props.dispatch\n  const boxes2 = props.boxes2\n\n\n// set the bkgrnd color as default\n  const [target, setTarget] = useState(0); \n  const [d, setD] = useState(\"s\"); \n  const [s, setS] = useState(false)\n\n  // const props = props;\n  // console.log('##tar', target);\n\n\tuseEffect(() => {\n\n  // $(\"#ycolumn\").draggable();\n\n\tdocument.body.addEventListener(\"click\", (e) => closeWidget(e));\n\n//   document.getElementById(\"head\").addEventListener(\"keyup\", function(e) {\n//     e.stopPropagation();\n//     e.preventDefault();\n//   document.getElementById(\"head-text-container\").innerText = e.currentTarget.innerText; \n//   // setWidth(1);\n// })\n\n  // document.getElementById(\"head\").innerText = localStorage.getItem('head') ;\n\n\n// zoom\n\n  // // Zoom in video \n  // /* Array of possible browser specific settings for transformation */\n  // var properties = ['transform', 'WebkitTransform', 'MozTransform',\n  //                   'msTransform', 'OTransform'],\n  //     prop = properties[0];\n\n  // /* Iterators and stuff */    \n  // var i,j;\n\n  // var stage = document.getElementById('stage');\n  // /* Find out which CSS transform the browser supports */\n  // for(i=0,j=properties.length;i<j;i++){\n  //   if(typeof stage.style[properties[i]] !== 'undefined'){\n  //     prop = properties[i];\n  //     break;\n  //   }\n  // }\n\n  // var v = document.getElementById('vid1');\n  // var slider = document.getElementById(\"zoom\");\n  // slider.addEventListener(\"input\", function(e){\n  //   e.preventDefault();\n  //   e.stopPropagation();\n  //   // document.getElementById(\"demo\").innerHTML = this.value;\n  //   slider.value = parseInt(slider.value) \n  //   var zoom = 1 + parseInt(slider.value)/10 ;\n  // // // console.log('zoom',zoom);\n  //   v.style[prop]='scale('+zoom+')';\n  // });\n\n  // var slide = document.getElementById(\"opacity\");\n  // slide.addEventListener(\"input\", function(e){\n  //   e.preventDefault();\n  //   e.stopPropagation();\n  //   // document.getElementById(\"demo\").innerHTML = this.value;\n  //   slide.value = parseInt(slide.value) \n  //   var opacity = parseInt(slide.value)/10 ;\n\n  // });\n\n\n\t},)\n\n\n  useEffect(() => {\n\n       var x = localStorage.getItem(\"showSub\")\n       document.getElementById(\"askSubt\").setAttribute(\"class\", \"clickedV btn btn-default\")\n    // \"0\" => subtitles haven't been generated yet\n    if ( x == \"0\") {\n        document.getElementById(\"askSub\").style.display = 'flex'\n        document.getElementById(\"dcolumn\").style.display = 'none';\n        document.getElementById(\"showSub\").style.display = 'none';\n} else {\n        document.getElementById(\"askSub\").style.display = 'none';\n        document.getElementById(\"dcolumn\").style.display = 'block';\n        document.getElementById(\"showSub\").style.display = 'block';\n}\n\n},[])\n\n// vc-saturation selects the color\n\nreturn (\n  <div style={{display: 'flex'}}>\n\t<div id=\"xcolumn\">\n\n  <Colorsbox d={d} target={target} props={props} />\n\n\t<div className=\"sidenav\">\n\n    <div className=\"flexy\">\n\n    <div className=\"flexy\">\n\n    \n    <div className=\"coly\" id=\"showVideo\" style={{ display: 'none'}}>\n        <div className='aspec'>\n\n          <div className=\"dropdown aspect\">\n        \t\t\t<button type=\"button\" className=\"btn btn-default dropbtn\" data-toggle=\"tab\">Size\n                <br/> \n                <span id='ar'>9:16</span>\n                <ExpandMoreIcon/>\n              </button>\n        \t\t\t\n\n              <div id='aratio' className=\"dropdown-content\">\n          \t\t\t<a id='1:1'>1:1 Square</a>\n          \t\t\t<a id='16:9'>16:9 LandScape</a>\n          \t\t\t<a id='9:16'>9:16 Vertical</a>\n          \t\t\t<a id='4:5'>4:5 Portrait</a>\n          \t\t\t<a id='org'>Org Size</a>\t\n        \t\t\t</div>\n      \t \t</div>\n\n          <button onClick={(e) => setbgColor(e, setTarget)} type=\"button\" className=\"v btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon id=\"v\" onClick={(e) => setbgColor(e, setTarget)} className=\"v bgColor\" style={{ fill: 'rgb(0,0,0)', 'fill-opacity':\"1\", display:'block', margin:'auto' }}/>video backgrnd</button>\n\n        </div>\n\n      <span id=\"pbar\">Progress Bar</span>\n      <div className=\"flexy\">\n        <button onClick={(e) => setbgColor(e, setTarget)} type=\"button\" className=\"bp btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon id=\"bp\" onClick={(e) => setbgColor(e, setTarget)} className=\"bp bgColor\" style={{ fill: 'rgb(155,123,0)', 'fill-opacity':\"1\", display:'block', margin:'auto' }}/> back </button>\n        <button onClick={(e) => setbgColor(e, setTarget)} type=\"button\" className=\"fp btn btn-default bgColor\" data-toggle=\"tab\"><FiberManualRecordIcon id=\"fp\" onClick={(e) => setbgColor(e, setTarget)} className=\"fp bgColor\" style={{ fill: 'rgb(14,125,205)', 'fill-opacity':\"1\", display:'block', margin:'auto' }}/>front</button>\n      </div>  \n\n    </div>\n    \n\n\n\n    <div id=\"textstyle\" style={{display: 'none'}}>\n        <Textstyle d=\"h\" setTarget={setTarget} setD={setD} props={props} />\n        <div id=\"textstylx\">\n\n        </div>\n        <div id=\"addT\">  \n          <AddOutlinedIcon />\n        </div>\n\n    </div>\n\n    <div id=\"substyle\" style={{display: 'none'}}>\n        <Textstylesub id=\"substyle\" d=\"s\" setTarget={setTarget} setD={setD} style={{display: 'none'}} props={props}/>\n    </div>\n\n\n    <div x=\"0\" id=\"askSub\" style={{display: 'none'}} >\n      <button id=\"gensub\" onClick={(e) => generateSub(e, s, setS, props)} type=\"button\" className=\"waitSub btn btn-default\" data-toggle=\"tab\">Auto Generate Subtitles</button>\n        \n      <span id=\"askSubText\" style={{display:'none'}} className=\"waitTSub\">Please wait for video to upload 100% </span>\n      <div className=\"transcribe_\">\n        <div>Generating subtitles. Please wait. <br/>Might take a few minutes, depending upon the length of the video</div>\n        <CircularProgress className=\"Mpbar\" />\n      </div>\n\n    </div>\n\n\n    <div id=\"showSub\" style={{display: 'none'}}>\n      <Tabbox s={s} style={{position: 'absolute'}} />\n    </div>\n\n    </div>\n\n    </div>\n\n\n\n\n\t   </div>\n\n  </div>\n\n\t</div>\n)\n}\n\n// Map Redux state to React component props\nconst mapStateToProps = (state) => ({\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n  \n  filename: state.filename,\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n})\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    // dispatching plain actions\n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    setS : (value) => dispatch({ type: 'SET_S', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    // increment: () => dispatch({ type: 'INCREMENT' }),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n// Connect Redux to React\nBoxstyle.displayName = \"Boxstyle\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Boxstyle));\n\n","// the setting bar towards left to change styling\n\n\nimport React, { useState,useEffect } from 'react';\n// import Color from './colors';\nimport Colors2 from './colors2';\nimport Textstyle from './textstyle';\nimport './style.css';\n// import Save from './saveState';\n// import Save from './downloadvid';\n\n\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport {setTemplate1} from './setTemplate';\nimport {setWidth, setDim, miliToTime} from './utils'\nimport axios from 'axios'; \n\nimport {login_in_work} from './firebase_login';\n\n\n// import {fade} from 'material-ui/styles/colorManipulator';\n\nimport VideocamOutlinedIcon from '@material-ui/icons/VideocamOutlined';\nimport SubtitlesOutlinedIcon from '@material-ui/icons/SubtitlesOutlined';\nimport TextFieldsOutlinedIcon from '@material-ui/icons/TextFieldsOutlined';\n\n\n\n// import Color from './colors';\n\n\n// import Tab1 from './tab1';\n\n\n// import {fade} from 'material-ui/styles/colorManipulator';\n\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n\nimport Boxstyle from './boxstyle';\n\nimport { showVideo, askSubt, showSubstyle, showTextstyle, showProgress } from './utils';\n\nimport {connect} from 'react-redux';\n\n\nfunction showWorkspace(e, props) {\n\n  console.log(e, props, 'before workspace')\n\n\n  var uid = localStorage.getItem('uid')\n  if( uid ) {\n\n    var d = {}\n    d['uid'] = uid\n\n    props.props.history.push({\n          pathname: `/workspace/${uid}`\n          ,\n          state: { videos: d }\n    })\n\n} else {\n  login_in_work(e, props.props)\n}\n\n  // window.history.back()\n\n}\n\n\n\nfunction Style(props){\n\n// set the bkgrnd color as default\n \n  // const [target, setTarget] = useState(0); \n  // const [d, setD] = useState(\"s\"); \n  // const [s, setS] = useState(\"false\")\n\n\n\n\tuseEffect(() => {\n\n    document.getElementById('xcolumn').style.display='block'\n\n\t},)\n\n\n// vc-saturation selects the color\n//  onClick={(e) => generateSub(e, s, setS)}\n\n//      <Boxstyle state={props.state} s={s} />\n\n// <button id=\"showProgress\" onClick={(e) => showProgress(e)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\">Add Progress Bar</button>\n\nreturn (\n  <div id=\"stylex\" className=\"styling\">\n\n\n    <button id='myvideos' onClick={(e)=> showWorkspace(e, props)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\">workspace</button>\n\n\n  \t<div id=\"box\">\n     <Boxstyle state={props.state} />\n    \n\n\n    </div>\n\n\n    <div id=\"onlystyle\">\n        <button id='videoEdit' onClick={showVideo} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\"> Video <VideocamOutlinedIcon/> </button>\n\n        <button id='askSubt' onClick={(e) => askSubt(e)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\" autoFocus> Auto Subtitles <SubtitlesOutlinedIcon/> </button>\n\n        <button id=\"showSubstyle\" type=\"button\" onClick={(e) => showSubstyle(e)} className=\"btn btn-default\" data-toggle=\"tab\">Style Subtitle</button>\n        <button id=\"showTextstyle\" type=\"button\" onClick={(e) => showTextstyle(e)} className=\"btn btn-default\" data-toggle=\"tab\"> Add Text <TextFieldsOutlinedIcon/> </button>\n     \n  \t</div>\n  </div>\n)\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nStyle.displayName = \"Style\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Style));\n","import {strToMili, rgbToHex} from './utils';\n\nexport function trim (str) {\n  return str.replace(/^\\s+|\\s+$/gm,'');\n}\n\nexport function getrgb(rgba) {\nvar inParts = rgba.substring(rgba.indexOf(\"(\")).split(\",\")\nvar r = parseInt(trim(inParts[0].substring(1)), 10),\n      g = parseInt(trim(inParts[1]), 10),\n      b = parseInt(trim(inParts[2]), 10)\n\ntry {\nvar a = parseFloat(parseFloat(trim(inParts[3].substring(0, inParts[3].length - 1))).toFixed(2));\n} catch {\n  var a = 1\n}\n a = (a*100)\n var hex = rgbToHex(r,g,b)\n var z = hex.substring(0, 2)\n var y = hex.substring(2,4)\n var x = hex.substring(4,6)\n\n a = 100 - a \n if (a == 100) {\n  a = 'ff'\n } else {\n  a = a.toString().padStart(2,0);\n }\n\nvar h = '&H' + a + x + y + z\n// console.log('hoolaa','r',r,'g',g,'b',b,'a',a, 'h', h)\nreturn h \n}\n\n\nexport function gethex(rgba) {\n\n  var inParts = rgba.substring(rgba.indexOf(\"(\")).split(\",\")\n  var r = parseInt(trim(inParts[0].substring(1)), 10),\n      g = parseInt(trim(inParts[1]), 10),\n      b = parseInt(trim(inParts[2]), 10)\n\ntry {\nvar a = parseFloat(parseFloat(trim(inParts[3].substring(0, inParts[3].length - 1))).toFixed(2));\n} catch {\n  var a = 1\n}\n a = a.toString()\n var hex = rgbToHex(r,g,b)\n\n return '#' + hex + '@' + a\n\n}\n","import React, { useEffect } from 'react';\nimport {strToMili, rgbToHex} from './utils';\nimport {trim, getrgb, gethex} from './utilsave.js';\n\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport './downloadvid.css'\n\nimport axios from 'axios'; \n\n/* global $ */\n\n//  add multiple heads-text, their width, subtitle width, seekbar width\n//  video position and dimensions!\n\n\n//use useState to store the states,transfer it to state on page change\n\nfunction Save(props){\n\n  // localStorage.setItem('render', '0')\n\n //   var render_count = 'https://sz2oarqpyd.execute-api.us-west-2.amazonaws.com/default/add_render?uid=' + localStorage.getItem('uid') + '&render=' + '0'; \n // axios.get(render_count)\n\n\n  // console.log('props in SAVE', props.canv.render_count)\n\n  useEffect(() => {\n\nvar uid = localStorage.getItem(\"uid\")\n\n  if( uid ) {\n\n\n\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\nconsole.log('geturl', geturl)\naxios.get(geturl).then(res => {\n  \n  //  if user data\n  if(res.data.Item && res.data.Item.render ) {\n      var render = parseInt(res.data.Item.render.S) \n      var d = !localStorage.getItem('subscribe') || localStorage.getItem('subscribe') == \"0\"\n\n      console.log('render value', render)\n\n    if(d && render >= 1 ) {\n      document.getElementById('save').innerText = 'UPGRADE'\n      document.getElementById('save').style.display = 'block';\n      document.getElementById('save').style.color = 'black';\n      document.getElementById('save').style.backgroundColor = 'yellow';\n      document.getElementById('save').style.borderColor = 'yellow';\n} else {\n      document.getElementById('save').innerText = 'CREATE!' \n      document.getElementById('save').style.display = 'block';\n}\n\n  } else {\n        document.getElementById('save').innerText = 'CREATE!'\n        document.getElementById('save').style.display = 'block'; \n  }\n}).catch(err => { console.log(err)})\n\n// if no uid\n} else {\n    document.getElementById('save').innerText = 'Login and Download' \n    document.getElementById('save').style.display = 'block';\n}\n\n\n//  add file to user row in table\n\n\n  \n\n\n\n\n\n\n},[])\n\n\n// onClick={(e)=> saveState(e,props)}\n\n\n// onClick={(e)=> convertToImage()}\n\n// <a id=\"downloadx\" onClick={(e)=> convertToImage()} download=\"image.png\"><button id=\"save\" type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\">Create!</button> </a>\n\n\nreturn (\n<div>\n\n\n\n<a id=\"downloadx\" download=\"image.png\"><button id='save' type=\"button\"></button></a>\n\n\n<div className=\"download_\">\n  <div className=\"text_download_\">Generating Video. Please wait. <br/>Might take a few minutes, depending upon the length of the video</div>\n  <CircularProgress className=\"Mbar\" />\n</div>\n\n</div>\n\t\t)\n}\n\n\nSave.displayName = \"Save\";\nexport default React.memo(Save);\n\n","// the setting bar towards left to change styling\n\n/* global $ */\n\nimport React from 'react';\n\nimport pop from './xyz.mp4';\nimport './canvastry.css';\n\nimport {connect} from 'react-redux';\n\nimport {setDim} from './utils';\nimport axios from 'axios'; \n\nimport {storeSub, storeBar, storeVideo, storeSubstyle, storeBox} from './storelocalstorage';\nimport {setSubTime, setSubBegin, splitSub} from './arrangesub';\nimport {gethex} from './utilsave.js';\n\nimport { strToMili,  miliToMinTime, gettime, showSubstyle,showTextstyle } from './utils';\n\nimport {login_in_create} from './firebase_login';\n// add 'download' link as well + watermark and no watermark flow\n// send video generate link with watermark yes or no option\n// how to check if payment was successful ? \n// change payment success page to video output page! create another button for this\n\n//  dont clear localstorage while login when on vidx page - subtitles havent been saved yet.\n//  rather send localstorage to awsdynamoDB\n\n  // const increment = this.props.increment\n  const boxes2 = []\n\n  \n\n// Last updated November 2010 by Simon Sarris\n// www.simonsarris.com\n// sarris@acm.org\n//\n// Free to use and distribute at will\n// So long as you are nice to people, etc\n\n// This is a self-executing function that I added only to stop this\n// new script from interfering with the old one. It's a good idea in general, but not\n// something I wanted to go over during this tutorial\n// (function(window) {\n\n\n  // holds all our boxes\n  // var boxes2 = [];\n\n  // New, holds the 8 tiny boxes that will be our selection handles\n  // the selection handles will be in this order:\n  // 0  1  2\n  // 3     4\n  // 5  6  7\n  var selectionHandles = [];\n\n  // Hold canvas information\n  var canvas;\n  var ctx;\n  var WIDTH;\n  var HEIGHT;\n  var INTERVAL = 20; // how often, in milliseconds, we check to see if a redraw is needed\n\n  var isDrag = false;\n  var isResizeDrag = false;\n  var expectResize = -1; // New, will save the # of the selection handle if the mouse is over one.\n  var mx, my; // mouse coordinates\n\n  // when set to true, the canvas will redraw everything\n  // invalidate() just sets this to false right now\n  // we want to call invalidate() whenever we make a change\n  // var canvasValid = false;\n\n  // The node (if any) being selected.\n  // If in the future we want to select multiple objects, this will get turned into an array\n  var mySel = null;\n\n  // The selection color and width. Right now we have a red selection with a small width\n  // var mySelColor = '#CC0000';\n  var mySelColor = 'rgba(125,205,235,1)';\n  var mySelWidth = 2;\n  var mySelBoxColor = 'rgba(225,225,225,1)'; // New for selection boxes\n  var mySelBoxSize = 6;\n\n  // we use a fake canvas to draw individual shapes for selection testing\n  var ghostcanvas;\n  var gctx; // fake canvas context\n\n  // since we can drag from anywhere in a node\n  // instead of just its x/y corner, we need to save\n  // the offset of the mouse when we start dragging.\n  var offsetx, offsety;\n\n  // Padding and border style widths for mouse offsets\n  var stylePaddingLeft, stylePaddingTop, styleBorderLeft, styleBorderTop;\n\n// x and y text distance from rectange\n  var marginB\n\n  // Box object to hold data\n  class Box2 {\n\n    constructor(){\n    this.x = 0;\n    this.y = 0;\n    this.w = 1; // default width and height?\n    this.h = 1;\n    this.fill = '#444444';\n\n    this.text = 'write text here';\n\n    this.fs = 20;\n    this.f = 'Oswald';\n    this.align = 'center'; \n    this.tc = 'rgba(255,255,255,1)';\n    this.html = 'write text here';\n    this.b = '';\n    this.i = '';\n  }\n\n  // New methods on the Box class\n  // Box2.prototype = {\n    // we used to have a solo draw function\n    // but now each box is responsible for its own drawing\n    // mainDraw() will call this with the normal canvas\n    // myDown will call this with the ghost canvas with 'black'\n    draw(context, optionalColor) {\n      if (context === gctx) {\n        context.strokeStyle = 'black'\n        context.fillStyle = 'black'; // always want black for the ghost canvas\n      } else {\n        context.strokeStyle = this.fill\n        context.fillStyle = this.fill;\n      }\n\n      const self = new Canvastry() \n// // to ensure that height of rect is in coherence with text height (while resizing)\n     this.h = 2*marginB + self.TwrapTextDummy(ctx, this.html, 0, 0, this.w - 2*marginB, this.fs + 0.4*marginB, this.fs, this.f, this.b, this.i)\n\n     console.log('this.h', this.h)\n\n      // We can skip the drawing of elements that have moved off the screen:\n      if (this.x > WIDTH || this.y > HEIGHT) return;\n      if (this.x + this.w < 0 || this.y + this.h < 0) return;\n\n\n      self.DrawText(context, this.x, this.y, this.w, this.h, this.text, this.fs, this.f, this.align, this.tc, this.b, this.i)\n// make a rectangle\n//       context.fillRect(this.x, this.y, this.w, this.h);\n\n// these are 8 selection boxes\n\n      // draw selection\n      // this is a stroke along the box and also 8 new selection handles\n      if (mySel === this) {\n        context.strokeStyle = mySelColor;\n        context.lineWidth = mySelWidth;\n        context.strokeRect(this.x, this.y, this.w, this.h);\n\n        // draw the boxes\n\n        var half = mySelBoxSize / 2;\n\n        // 0  1  2\n        // 3     4\n        // 5  6  7\n\n        // top left, middle, right\n        selectionHandles[0].x = this.x - half;\n        selectionHandles[0].y = this.y - half;\n\n        selectionHandles[1].x = this.x + this.w / 2 - half;\n        selectionHandles[1].y = this.y - half;\n\n        selectionHandles[2].x = this.x + this.w - half;\n        selectionHandles[2].y = this.y - half;\n\n        //middle left\n        selectionHandles[3].x = this.x - half;\n        selectionHandles[3].y = this.y + this.h / 2 - half;\n\n        //middle right\n        selectionHandles[4].x = this.x + this.w - half;\n        selectionHandles[4].y = this.y + this.h / 2 - half;\n\n        //bottom left, middle, right\n        selectionHandles[6].x = this.x + this.w / 2 - half;\n        selectionHandles[6].y = this.y + this.h - half;\n\n        selectionHandles[5].x = this.x - half;\n        selectionHandles[5].y = this.y + this.h - half;\n\n        selectionHandles[7].x = this.x + this.w - half;\n        selectionHandles[7].y = this.y + this.h - half;\n\n\n// the selection small boxes\n        context.fillStyle = mySelBoxColor;\n        for (var i = 0; i < 8; i++) {\n          var cur = selectionHandles[i];\n          context.fillRect(cur.x, cur.y, mySelBoxSize, mySelBoxSize);\n        }\n      }\n\n    } // end draw\n\n  } // close class Box2 \n\n\nclass Canvastry extends React.Component {\n\nconstructor(props) {\n    super(props);\n\n// save mutation\n    this.sendJsonToS3 = this.sendJsonToS3.bind(this);\n// call this on resize or Aspect Ratio change\n    this.setVideo = this.setVideo.bind(this);\n\n    this.setARatio = this.setARatio.bind(this);\n    this.init2 = this.init2.bind(this);\n    this.addTextBox = this.addTextBox.bind(this);\n    this.myDblClick = this.myDblClick.bind(this);\n    this.edit_text = this.edit_text.bind(this);\n    this.invalidate = this.invalidate.bind(this);\n    this.getMouse = this.getMouse.bind(this);\n    this.getMouse_global = this.getMouse_global.bind(this);\n    this.DrawText = this.DrawText.bind(this);\n    this.wrapText = this.wrapText.bind(this);\n    this.TwrapTextDummy = this.TwrapTextDummy.bind(this);\n    this.myUp = this.myUp.bind(this);\n    this.myDown = this.myDown.bind(this);\n    this.deselect = this.deselect.bind(this);\n    this.addRect = this.addRect.bind(this);\n    this.deleteText_canvas = this.deleteText_canvas.bind(this);\n    this.clear = this.clear.bind(this);\n    this.mainDraw = this.mainDraw.bind(this);\n    this.roundRect = this.roundRect.bind(this);\n    this.keytimer = this.keytimer.bind(this);\n    this.myMove = this.myMove.bind(this);\n    this.convertToImage = this.convertToImage.bind(this);\n    this.setVidDim = this.setVidDim.bind(this);\n\n}\n\n\nsendJsonToS3() {\n      var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n    var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n    console.log('sending json to s3', url)\n    axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }).then((res) => {\n            console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)})\n}\n\n\n\nsetVideo(e) {\n\n  var vcx = document.getElementById(\"stage\")\n  // 9:16 // sets r, nh, nw in seekbar\n  var hd = this.setVidDim(vcx.offsetWidth, this.props);\n\n  console.log('in init2', this.props)\n\n  canvas = document.getElementById('canvas2');\n\n  var X_old = canvas.width\n  var Y_old = canvas.height\n\n  HEIGHT = vcx.offsetHeight ;\n  WIDTH = vcx.offsetWidth;\n  canvas.height = HEIGHT;\n  canvas.width = WIDTH;\n  ghostcanvas.height = HEIGHT;\n  ghostcanvas.width = WIDTH;\n  console.log('New canvas dimensions', canvas.height, canvas.width)\n  // gctx = ghostcanvas.getContext('2d');\n\n\n  var X_new = canvas.width\n  var Y_new = canvas.height\n\n  var rx = X_new / X_old\n  var ry = Y_new / Y_old\n\n  var bx\n  for (var k=0; k<this.props.boxes2.length; k++) {\n      bx = this.props.boxes2[k]\n\n      this.props.update_x(k, 'x', (bx.x)*rx)\n      this.props.update_x(k, 'y', (bx.y)*ry)\n      this.props.update_x(k, 'w', (bx.w)*rx)\n      this.props.update_x(k, 'fs', (bx.fs)*ry) \n\n      this.invalidate()\n  }\n\n  this.invalidate();\n}\n\n\nsetARatio(e) {\n  var txtt = e.target.innerText.split(' ')[0]\n  console.log('txtt', txtt)\n  e.currentTarget.previousSibling.firstChild.innerHTML = txtt;\n\n  var X_old = document.getElementById('stage').offsetWidth\n  var Y_old = document.getElementById('stage').offsetHeight\n\n  var r = e.target.id \n\n  setDim(r, this.props)\n\n  var X_new = document.getElementById('stage').offsetWidth\n  var Y_new = document.getElementById('stage').offsetHeight\n\n  var rx = X_new / X_old\n  var ry = Y_new / Y_old\n\n  var bx\n  for (var k=0; k<this.props.boxes2.length; k++) {\n      bx = this.props.boxes2[k]\n\n      this.props.update_x(k, 'x', (bx.x)*rx)\n      this.props.update_x(k, 'y', (bx.y)*ry)\n      this.props.update_x(k, 'w', (bx.w)*rx)\n      this.props.update_x(k, 'fs', (bx.fs)*ry) \n\n      this.invalidate()\n  }\n\n\n  // setDim(r, props)\n\n  // setTemplate1(1, props);\n  this.setVideo()\n\n  this.sendJsonToS3()\n}\n\n\n\ninit2(){\n\n  console.log('in init2', this.props)\n  canvas = document.getElementById('canvas2');\n\n  HEIGHT = canvas.height;\n  WIDTH = canvas.width;\n  ctx = canvas.getContext('2d');\n  ghostcanvas = document.createElement('canvas');\n  ghostcanvas.height = HEIGHT;\n  ghostcanvas.width = WIDTH;\n  gctx = ghostcanvas.getContext('2d');\n\n\n  console.log('CANVAS', canvas, HEIGHT, WIDTH)\n\n  //fixes a problem where double clicking causes text to get selected on the canvas\n  canvas.onselectstart = function() {\n    return false;\n  }\n\n  // fixes mouse co-ordinate problems when there's a border or padding\n  // see getMouse for more detail\n  if (document.defaultView && document.defaultView.getComputedStyle) {\n    stylePaddingLeft = parseInt(document.defaultView.getComputedStyle(canvas, null)['paddingLeft'], 10) || 0;\n    stylePaddingTop = parseInt(document.defaultView.getComputedStyle(canvas, null)['paddingTop'], 10) || 0;\n    styleBorderLeft = parseInt(document.defaultView.getComputedStyle(canvas, null)['borderLeftWidth'], 10) || 0;\n    styleBorderTop = parseInt(document.defaultView.getComputedStyle(canvas, null)['borderTopWidth'], 10) || 0;\n  }\n\n  // make mainDraw() fire every INTERVAL milliseconds\n  setInterval(this.mainDraw, INTERVAL);\n\n  // set our events. Up and down are for dragging,\n  // double click is for making new boxes\n  canvas.onmousedown = this.myDown;\n  canvas.onmouseup = this.myUp;\n\n  // document.body.onmousedown = this.deselect;\n  // canvas.ondblclick = myDblClick;\n  canvas.onmousemove = this.myMove;\n\n  // set up the selection handle boxes\n  for (var i = 0; i < 8; i++) {\n    var rect = new Box2;\n    selectionHandles.push(rect);\n  }\n\n  // add custom initialization here:\n\nmarginB = 12\n\n\n// font_size, font, alignment, text-color, back-color\nvar fs, f, align, tc, bc\n\n// 1. space after \\n => space before first letter in 2nd line\n// 2. need to use <br /> because \\n doesnt reflect in offsetHeight of span\n\n  // add a large green rectangle\n  fs = 20 //px; \n  f = 'Oswald'\n  align = 'center'\n  tc = 'rgba(255,255,255,1)'\n  bc = 'rgba(150,150,250,0)'\n\n\n  // console.log('boxes2', this.props.boxes2)\n// document.getElementsByClassName(\"caption\")[0].innerHTML\n  // var hh = this.TwrapTextDummy(ctx, \"None <br>of these <br> things have\" , 0, 0, 200 - 2*marginB, fs + 0.4*marginB, fs, f)\n  // // add a smaller purple rectangle\n\n// if box exists in boxes2\nif (!this.props.boxes2[0]) {\n  this.addRect(0, HEIGHT/2, WIDTH, 0, bc, \"\", fs, f, align, tc, \"\", 0);\n}\n  // sub => 2nd element\n  var sf = document.getElementsByClassName(\"fontsize\")\n  sf[1].children[0].children[0].textContent = Math.round(fs)\n  document.getElementsByClassName(\"currentfont\")[1].textContent = f\n\n  var dox\n  // if(window.localStorage.getItem(\"box_0\")) {\n\n// if the subtitles exist already\n  if(JSON.parse(window.localStorage.getItem(\"subx\")) && JSON.parse(window.localStorage.getItem(\"subx\"))[0]) {\n\n    dox = JSON.parse(window.localStorage.getItem(\"box_0\"))\n    this.props.update_x(0, 'x', dox.x)\n    this.props.update_x(0, 'y', dox.y)\n    this.props.update_x(0, 'w', dox.w)\n    // this.props.update_x(0, 'h', dox.h)\n    this.props.update_x(0, 'tc', dox.tc)\n\n    var rxgbx = dox.fill\n    var fd = rxgbx.split(\"(\")[1];\n    var fdd = fd.split(\",\");    \n    var rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), 0]\n\n    this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n\n    // this.props.update_x(0, 'fill', dox.fill)\n    this.props.update_x(0, 'fs', dox.fs)\n    this.props.update_x(0, 'f', dox.f)\n    this.props.update_x(0, 'align', dox.align)\n    // this.props.update_x(0, 'text', dox.text)\n    // this.props.update_x(0, 'html', dox.html)\n    this.props.update_x(0, 'a', dox.a)\n\n    var sf = document.getElementsByClassName(\"fontsize\")\n    sf[1].children[0].children[0].textContent = Math.round(dox.fs)\n    document.getElementsByClassName(\"currentfont\")[1].textContent = dox.f\n\n\n// whether to show subtitles at t = 0 or not\n    var subs = document.getElementById('subdiv').children\n    console.log('%%%%', subs, subs[1])\n    if(JSON.parse(localStorage.getItem('strt'))[0] == \"00:00.0\") {\n\n      var text_title = JSON.parse(localStorage.getItem('subx'))[0]\n\n      var text_html = text_title.replace(/\\n/g,'<br>')\n      text_html = text_html.replace(/&nbsp/g,'').replace(/&nbsp;/g,'')\n\n      this.props.update_x(0, 'text', text_title)\n      this.props.update_x(0, 'html', text_html)\n\n      rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), dox.a]\n\n      this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n\n    }\n\n  } \n\n  // console.log('boxes2', this.props.boxes2)\n\n  for (var g=1; g<parseInt(localStorage.getItem('nBox')); g++) {\n      dox = JSON.parse(window.localStorage.getItem(\"box_\" + g))\n\n      if (!this.props.boxes2[g]) {\n      this.addRect(dox.x, dox.y, dox.w, dox.h, dox.fill, dox.text, dox.fs, dox.f, dox.align, dox.tc, dox.html, dox.a)\n}\n      sf[0].children[0].children[0].textContent = Math.round(dox.fs)\n      \n}\n\n\nif (localStorage.getItem('videoColor') ){\n\ndocument.getElementById(\"vid\").style.backgroundColor = localStorage.getItem('videoColor');\n} else {\n document.getElementById(\"vid\").style.backgroundColor = 'rgba(0,0,0,1)';\n}\n\n\n// if ratio changes?\nif(JSON.parse(localStorage.getItem('seekbar'))[0]) {\n\n  var x = JSON.parse(localStorage.getItem('seekbar'))\n  var c = 1/document.getElementById(\"custom-seekbar11\").getAttribute(\"ratio\")\n\n  document.getElementById(\"custom-seekbar11\").style.backgroundColor = x[4];\n  document.getElementById(\"custom-seekbar1\").style.backgroundColor = x[5] ;\n  // document.getElementById(\"custom-seekbar1\").style.left = x[6] ;\n  \n  document.getElementById(\"fp\").style.fill = x[4];\n  document.getElementById(\"fp\").style.fillOpacity = 1;\n\n  document.getElementById(\"bp\").style.fill = x[5];\n  document.getElementById(\"bp\").style.fillOpacity = 1;\n\n\n} else {\n\n  document.getElementById(\"custom-seekbar1\").style.width = 100 + '%';\n  document.getElementById(\"custom-seekbar1\").style.bottom = 0 + '%';\n  // front\n  document.getElementById(\"custom-seekbar11\").style.backgroundColor = 'rgba(255,0,0,1)';\n  // back\n  document.getElementById(\"custom-seekbar1\").style.backgroundColor = 'rgba(0,0,0,0.4)' ;\n  document.getElementById(\"custom-seekbar1\").style.left = 0 + '%';\n  \n  document.getElementById(\"fp\").style.fill = 'rgb(255,0,0)';\n  document.getElementById(\"fp\").style.fillOpacity = 1;\n\n  document.getElementById(\"bp\").style.fill = 'rgb(0,0,0)';\n  document.getElementById(\"bp\").style.fillOpacity = .4;\n}\n\n\ndocument.getElementById(\"custom-seekbar1\").style.height = '3%'\n\nvar vcx = document.getElementById(\"stage\")\n// 9:16\nvar hd = this.setVidDim(vcx.offsetWidth, this.props);\n\n\n\n  // on timeupdate, update subtitles in the canvas box\n\ndocument.getElementById('vid1').addEventListener(\"timeupdate\", (e) =>{\n// console.log('in add event');\ne.stopPropagation();\ne.preventDefault();\n\nconsole.log('TIMEUPDATE')\n// set width of subtitle container\n  \n\n  var vid = document.getElementById(\"vid1\"); \n  var vCuTi = document.getElementById('vC');\n  \n  try{\n  vCuTi.innerText = miliToMinTime(vid.currentTime*1000) \n  // + '/' + miliToTime(parseFloat(localStorage.getItem(\"duration\"))*1000) ;\n\n} catch {}\n\n\ntry {\n//currentTime use second, if you want min *60\nvar vid = document.getElementById(\"vid1\");\n\nvar subs = document.getElementsByClassName(\"caption\")\n  \n\n  if (vid.paused) {\n    // // console.log('hello');\n\n      var play = document.getElementById(\"play\");\n      var pause = document.getElementById(\"pause\");\n\n      play.style.display='inline-block';\n      pause.style.display='none';\n\n  }\n\n// debugger\n  var c = 0\n  for (var idxx=0; idxx<subs.length; idxx++){\n    c =c +1;\n\n    var srttime = strToMili(subs[idxx].getAttribute(\"stime\"))/1000\n    var endtime = strToMili(subs[idxx].getAttribute(\"etime\"))/1000\n  \n  if (vid.currentTime >= srttime && vid.currentTime <= endtime) {\n    \n      try {\n      document.getElementsByClassName(\"current-caption\")[0].classList.remove(\"current-caption\")\n    } catch(e) {\n      console.log(e,'no current caption');\n    }\n\n      subs[idxx].classList.add(\"current-caption\")\n\n      var str = subs[idxx].innerText ;\n\n// boxes2[0] is for subtitles\n      var text_title = subs[idxx].innerText\n\n      var b = this.props.boxes2[0]\n\n      var text_html = subs[idxx].innerHTML.replace(/\\n/g,'<br>')\n      text_html = text_html.replace(/&nbsp/g,'').replace(/&nbsp;/g,'')\n\n\n        var rgba = b.fill\n        var fd = rgba.split(\"(\")[1];\n        var fdd = fd.split(\",\");\n        \n\n  // not single, there could be multiple spaces!\n    // length will be 0 if empty string \n        if (!text_title.replace(/\\s/g, '').length) {\n\n        var rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), 0]\n\n        this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n        // this.props.update_x(0, 'h', 0)\n\n        } else {\n\n\n\n        var rgbax = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), this.props.boxes2[0].a]\n\n\n\n      // boxes2[0].fill = 'rgba(280,100,0,1)'\n      // // ctx.clearRect(b.x, b.y, b.w, b.h)\n      // boxes2[0].h = 2*marginB + this.TwrapTextDummy(ctx, text_html, 0, 0, b.w - 2*marginB, b.fs + 0.4*marginB, b.fs, b.f)\n\n\n      this.props.update_x(0, 'fill', 'rgba('+rgbax.join()+')')\n      // this.props.update_x(0, 'h', 2*marginB + this.TwrapTextDummy(ctx, text_html, 0, 0, b.w - 2*marginB, b.fs + 0.4*marginB, b.fs, b.f, b.b, b.i))\n\n      }\n\n      // boxes2[0].html = text_html\n      // boxes2[0].text = text_title\n\n      this.props.update_x(0, 'html', text_html)\n      this.props.update_x(0, 'text', text_title)\n      \n     this.invalidate()\n     break;\n    } else {      \n// no subtitle that can be shown\n    \n    var b = this.props.boxes2[0]\n\n    var rgba = b.fill\n    var fd = rgba.split(\"(\")[1];\n    var fdd = fd.split(\",\");\n\n    var rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), 0]\n\n    this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n    // this.props.update_x(0, 'h', 0)\n\n    this.props.update_x(0, 'html', '')\n    this.props.update_x(0, 'text', '')\n    this.invalidate()\n \n    }\n  }\n\n} catch {}\n\n\n})  //end timeupdate eventlistener\n\n\n}\n\n\naddTextBox(i) {\n\n  // var i= this.props.boxes2.length - 1\n  var id = 'text_' + i.toString()\n    // add container to edit the text\n  var pa = document.getElementById(\"textstylx\")\n  var div = document.createElement(\"div\");\n  div.setAttribute('id', id)\n  div.setAttribute('class', 'delH')\n  pa.append(div)\n\n  var div1 = document.createElement(\"div\");\n  div1.addEventListener(\"click\", (e) => {this.deleteText_canvas(e) })\n  // onClick={deleteText} \n\n  div1.innerHTML = `<li class='fa del'>&#xf1f8</li>`\n  div.append(div1)\n\n\n  var div2 = document.createElement(\"div\");\n  div2.setAttribute('class', 'xheadx')\n  div.append(div2)\n\n  var span = document.createElement(\"textarea\");\n  // span.setAttribute('placeholder', 'Enter Text Here');\n  span.value = this.props.boxes2[i].text;\n  span.setAttribute('class', 'head')\n  div2.append(span)\n\n  span.setAttribute('contentEditable',\"true\");\n\n  span.addEventListener(\"keyup\", (e) => {this.edit_text(e) })\n\n}\n\n  // adds a new node\nmyDblClick(e) {\n\n\n    this.getMouse(e);\n    // for this method width and height determine the starting X and Y, too.\n    // so I left them as vars in case someone wanted to make them args for something and copy this code\n    var width = 100;\n    var height = 20;\n\n    var fs = 20 //px; \n    var f = 'Oswald'\n\n    console.log('position',mx - (width / 2), my - (height / 2))\n\n    this.addRect(WIDTH/2 - (width / 2), HEIGHT/2 - (height / 2), width, height, 'rgba(220,5,5,0)', 'Add Text', fs, f, \"center\", \"rgba(0,0,0,1)\", \"Add Text\", 0 );\n\n    this.invalidate();\n\n\n  var i= this.props.boxes2.length - 1\n  var id = 'text_' + i.toString()\n    // add container to edit the text\n  var pa = document.getElementById(\"textstylx\")\n  var div = document.createElement(\"div\");\n  div.setAttribute('id', id)\n  div.setAttribute('class', 'delH')\n  pa.append(div)\n\n  var div1 = document.createElement(\"div\");\n  div1.addEventListener(\"click\", (e) => {this.deleteText_canvas(e) })\n  // onClick={deleteText} \n\n  div1.innerHTML = `<li class='fa del'>&#xf1f8</li>`\n  div.append(div1)\n\n\n  var div2 = document.createElement(\"div\");\n  div2.setAttribute('class', 'xheadx')\n  div.append(div2)\n\n  var span = document.createElement(\"textarea\");\n  span.setAttribute('placeholder', 'Enter Text Here');\n  span.setAttribute('class', 'head')\n  div2.append(span)\n\n  span.setAttribute('contentEditable',\"true\");\n\n  span.addEventListener(\"keyup\", (e) => {this.edit_text(e) })\n\n  }\n\n\nedit_text(e) {\n\n  e.stopPropagation();\n  e.preventDefault();\n  var z = parseInt(e.target.parentNode.parentNode.id.split('_')[1])\n\n  // boxes2[z].text = e.target.value;\n  // boxes2[z].html = e.target.value.replace(/\\n/g, '<br>');\n\n  console.log(z,'in myDblClick', this.props, z)\n\n  this.props.update_x(z, 'text', e.target.value)\n  this.props.update_x(z, 'html', e.target.value.replace(/\\n/g, '<br>'))\n\n// set the box that is being written \n  this.props.selectedText(z)\n  // show the selection boxes (9 boxes)\n  mySel = this.props.boxes2[z];\n\n  this.invalidate() \n\n  this.sendJsonToS3()\n\n}\n\ninvalidate() {\n    // canvasValid = false;\n    \n    this.props.invalidate(false)\n  }\n\n  // Sets mx,my to the mouse position relative to the canvas\n  // unfortunately this can be tricky, we have to worry about padding and borders\ngetMouse(e) {\n    var element = canvas,\n      offsetX = 0,\n      offsetY = 0;\n\n    if (element.offsetParent) {\n      do {\n        offsetX += element.offsetLeft;\n        offsetY += element.offsetTop;\n      } while ((element = element.offsetParent));\n    }\n\n    // Add padding and border style widths to offset\n    offsetX += stylePaddingLeft;\n    offsetY += stylePaddingTop;\n\n    offsetX += styleBorderLeft;\n    offsetY += styleBorderTop;\n\n    mx = e.pageX - offsetX;\n    my = e.pageY - offsetY\n  } //close getMouse\n\n\n  // Sets mx,my to the mouse position relative to the canvas\n  // unfortunately this can be tricky, we have to worry about padding and borders\ngetMouse_global(e) {\n    var element = document.body,\n      offsetX = 0,\n      offsetY = 0;\n\n    if (element.offsetParent) {\n      do {\n        offsetX += element.offsetLeft;\n        offsetY += element.offsetTop;\n      } while ((element = element.offsetParent));\n    }\n\n    // Add padding and border style widths to offset\n    offsetX += stylePaddingLeft;\n    offsetY += stylePaddingTop;\n\n    offsetX += styleBorderLeft;\n    offsetY += styleBorderTop;\n\n    mx = e.pageX - offsetX;\n    my = e.pageY - offsetY\n  } //close getMouse\n\n\nwrapText(context, text, x, y, maxWidth, lineHeight) {\n        var cars = text.split(\"\\n\");\n\n        for (var ii = 0; ii < cars.length; ii++) {\n\n            var line = \"\";\n            var words = cars[ii].split(\" \");\n\n          //   line = words[0]\n          //   if(words.length == 1) {\n          //   context.fillText(line, x, y);\n          // } else {\n          //   line = line + \" \"\n          // }\n            \n            for (var n = 0; n < words.length; n++) {\n                var testLine = line + words[n] + \" \";\n                var metrics = context.measureText(testLine);\n                var testWidth = metrics.width;\n\n                if (testWidth > maxWidth) {\n                      context.fillText(line, x, y);\n                      line = words[n] + \" \";\n                      y += lineHeight;\n                }\n                else {\n                    line = testLine;\n                }\n            }\n\n            context.fillText(line, x, y);\n            // y += lineHeight;\n\n            // if( words.length == 1) { } else {\n            //   context.fillText(line, x, y);\n            //   // if cars is 1 and only 1 word, no point in doing +lineHeight             \n            // }\n            y += lineHeight; \n\n        }\n\n        return y\n\n     }\n\n\nTwrapTextDummy(context, text, x, y, maxWidth, lineHeight, fs, f, b, i) {\n        context.font = `${b} ${i} ${fs}px '${f}'`;\n        \n        // context.fillStyle = 'rgba(0,0,0,0)';\n\n        console.log('DUMMYYY', text)\n        var cars = text.split(\"<br>\");\n        var org_y = y\n\n        for (var ii = 0; ii < cars.length; ii++) {\n\n            var line = \"\";\n            var words = cars[ii].split(\" \");\n\n            for (var n = 0; n < words.length; n++) {\n                var testLine = line + words[n] + \" \";\n                var metrics = context.measureText(testLine);\n                var testWidth = metrics.width;\n\n                if (testWidth > maxWidth) {\n                      line = words[n] + \" \";\n                      y += lineHeight;\n                }\n                else {\n                    line = testLine;\n                }\n            }\n\n            y += lineHeight; \n\n\n        }\n\n        return y - org_y - 0.4*marginB\n\n     }\n\n\n\nDrawText(context, rect_x, rect_y, rect_w, rect_h, text, fs, f, align, tc, b, i) {\n\n         // var canvas = document.getElementById(\"imageCanvas\");\n         // var context = canvas.getContext(\"2d\");\n\n         // context.clearRect(0, 0, 100, 200);\n  // ORGINAL CODE HAS CLEARRECT !!!\n         context.clearRect(rect_x, rect_y, rect_w, rect_h);\n\n         var maxWidth = rect_w - 2*marginB;\n         var lineHeight = fs + 0.4*marginB;\n\n         var x, y;\n\n// for center\nif(align == \"center\") {\n         x = rect_x + (rect_w/2)\n         y = rect_y + marginB + (fs/2)\n}\n\n// for right\nif(align == \"right\") {\n         x = rect_x + (rect_w) - marginB\n         y = rect_y + marginB + (fs/2)\n}\n\n// for left\nif(align == \"left\") {\n         x = rect_x + marginB\n         y = rect_y + marginB + (fs/2)\n}\n\n\n         // var text = document.getElementById(\"text\").value.toUpperCase();\n         // var text = \"hello i am alright and and and nad see you on the other sied of the spectrum? yeah? are you thinking\"                \n\n         // context.fillStyle = \"rgba(255, 0, 0, 1)\";\n         // context.fillRect(0, 0, 200, 100);\n\n         context.fillRect(rect_x, rect_y, rect_w, rect_h);\n\n\n// var d = document.createElement(\"span\");\n// d.style.font = \"15px 'Helvetica'\";\n// d.textContent = text;\n// d.style.maxWidth = maxWidth + 'px';\n// d.style.position = 'absolute';\n// document.body.appendChild(d);\n// var emHeight = d.offsetHeight;\n// document.body.removeChild(d);\n\n        \n         // this.roundRect(context, rect_x, rect_y, rect_w, rect_h, 5, true);\n\n         context.font = `${b} ${i} ${fs}px '${f}'`;\n         context.fillStyle = tc;\n         context.textAlign = align;  //left, center, right\n         context.textBaseline = \"middle\";\n\n         var yr = this.wrapText(context, text, x, y, maxWidth, lineHeight);\n     }\n\n\n  // Happens when the mouse is clicked in the canvas\nmyDown(e) {\n    this.getMouse(e);\n\n\n\n    //we are over a selection box\n    if (expectResize !== -1) {\n      isResizeDrag = true;\n      return;\n    }\n\n    this.clear(gctx);\n    var l = this.props.boxes2.length;\n    for (var i = l - 1; i >= 0; i--) {\n      // draw shape onto ghost context\n      this.props.boxes2[i].draw(gctx, 'black');\n\n      // get image data at the mouse x,y pixel\n      var imageData = gctx.getImageData(mx, my, 1, 1);\n      var index = (mx + my * imageData.width) * 4;\n\n      // if the mouse pixel exists, select and break\n      if (imageData.data[3] > 0) {\n        // i-th box has been selected\n\n        mySel = this.props.boxes2[i];\n\n// set the Text box i - which has been selected\n        this.props.selectedText(i)\n\n        if(i == 0 ) { \n          // document.getElementById('xcolumn').style.display = 'none'\n            showSubstyle();\n         } else {\n            showTextstyle();\n\n            if(document.getElementById(\"text_\" + i)) {\n\n// document.getElementById('textstylx').children[0].id = \"text_\" + i;\n// document.getElementById(\"text_\" + i).children[1].children[0].value = this.props.boxes2[i].text;\n\n            } else {\n\n              this.addTextBox(i)\n            }\n\n      }\n        // this.props.boxes2[i].text\n\n\n        // this.getMouse_global(e);\n        offsetx = mx - mySel.x;\n        offsety = my - mySel.y;\n        mySel.x = mx - offsetx;\n        mySel.y = my - offsety;\n        isDrag = true;\n\n        this.invalidate();\n        this.clear(gctx);\n        return;\n      }\n\n    }\n    // havent returned means we have selected nothing\n    mySel = null;\n    // clear the ghost canvas for next time\n    this.clear(gctx);\n    // invalidate because we might need the selection border to disappear\n    this.invalidate();\n  }\n\ndeselect(e) {\n\n  // console.log(e, e.currentTarget.contains(canvas), e.target.contains(canvas))\n\n  // if(e.target.id != 'canvas2' && !document.getElementById(\"xcolumn\").contains(e.target) && !document.getElementById(\"ycolumn\").contains(e.target)) {\n\n  //           // havent returned means we have selected nothing\n  //   // mySel = null;\n  //   // clear the ghost canvas for next time\n  //   // this.clear(gctx);\n  //   // invalidate because we might need the selection border to disappear\n  //   // this.invalidate();\n\n  // } else {\n\n\n  // }\n    //   e.pageX \n    // e.pageY\n\n\n}\n\nmyUp() {\n    isDrag = false;\n    isResizeDrag = false;\n    expectResize = -1;\n\n    this.sendJsonToS3()\n  }\n\n\n\n  //Initialize a new Box, add it, and invalidate the canvas\naddRect(x, y, w, h, fill, text, fs, f, align, tc, html, a, b=\"\",i=\"\") {\n    var rect = new Box2;\n    rect.x = x;\n    rect.y = y;\n    rect.w = w\n    rect.h = h;\n// the back-color (of rectangle)\n    rect.fill = fill;\n    rect.text = text;\n\n    rect.fs = fs;\n    rect.f = f;\n    rect.align = align; \n    rect.tc = tc;\n    rect.html = html;\n    rect.a = a;\n    rect.b = b;\n    rect.i = i\n\n// to ensure that height of rect is in coherence with text height (while resizing)\n    rect.h = 2*marginB + this.TwrapTextDummy(ctx, html, 0, 0, w - 2*marginB, fs + 0.4*marginB, fs, f, b, i)\n\n\n    // color of outerline\n// rect.strokeStyle = fill;\n// rect.fillStyle = fill;\n    \n    // boxes2.push(rect);\n\n    console.log('In addRect before increment', boxes2)\n    \n    this.props.increment(rect)\n\n    this.invalidate();\n  }\n\n\n\n\n  //wipes the canvas context\n  clear(c) {\n    c.clearRect(0, 0, WIDTH, HEIGHT);\n  }\n\n  // Main draw loop.\n  // While draw is called as often as the INTERVAL variable demands,\n  // It only ever does something if the canvas gets invalidated by our code\n  mainDraw() {\n\n    if (this.props.canvasValid == false) {\n      this.clear(ctx);\n\n      try {\n      document.getElementById(\"rangeset\").value = document.getElementById('vid1').currentTime\n\n      console.log('in mainDraw', document.getElementById(\"rangeset\").value , document.getElementById('vid1').currentTime)\n    } catch {}\n      // console.log('boxes2', this.props.boxes2)\n      // Add stuff you want drawn in the background all the time here\n\n        var rgba = this.props.boxes2[0].fill;\n        var fd = rgba.split(\"(\")[1];\n        var fdd = fd.split(\",\");\n        \n\nif (this.props.boxes2[0].text.replace(/\\s/g, '') == \"\") { \n\n        var rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), 0]\n        this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n    \n}\n      // draw all boxes\n      var l = this.props.boxes2.length;\n\n      for (var i = 0; i < l; i++) {\n        this.props.boxes2[i].draw(ctx); // we used to call drawshape, but now each box draws itself\n      }\n\n      storeBox(this.props.boxes2)\n\n      // Add stuff you want drawn on top all the time here\n\n      // canvasValid = true;\n      this.props.invalidate(true);\n\n      try {\n      document.getElementById(\"rangeset\").value = document.getElementById('vid1').currentTime\n} catch (e) {}\n\n    }\n  }\n\n  // Happens when the mouse is moving inside the canvas\n  myMove(e) {\n    if (isDrag) {\n      this.getMouse(e);\n      // this.getMouse_global(e);\n\n      mySel.x = mx - offsetx;\n      mySel.y = my - offsety;\n\n      // something is changing position so we better invalidate the canvas!\n      this.invalidate();\n    } else if (isResizeDrag) {\n      // time ro resize!\n      var oldx = mySel.x;\n      var oldy = mySel.y;\n\n      // 0  1  2\n      // 3     4\n      // 5  6  7\n      switch (expectResize) {\n        case 0:\n          mySel.x = mx;\n          mySel.y = my;\n          mySel.w += oldx - mx;\n          mySel.h += oldy - my;\n          break;\n        case 1:\n          mySel.y = my;\n          mySel.h += oldy - my;\n          break;\n        case 2:\n          mySel.y = my;\n          mySel.w = mx - oldx;\n          mySel.h += oldy - my;\n          break;\n        case 3:\n          mySel.x = mx;\n          mySel.w += oldx - mx;\n          break;\n        case 4:\n          mySel.w = mx - oldx;\n          break;\n        case 5:\n          mySel.x = mx;\n          mySel.w += oldx - mx;\n          mySel.h = my - oldy;\n          break;\n        case 6:\n          mySel.h = my - oldy;\n          break;\n        case 7:\n          mySel.w = mx - oldx;\n          mySel.h = my - oldy;\n          break;\n      }\n\n      this.invalidate();\n    }\n\n    this.getMouse(e);\n    // this.getMouse_global(e);\n    // if there's a selection see if we grabbed one of the selection handles\n    if (mySel !== null && !isResizeDrag) {\n      for (var i = 0; i < 8; i++) {\n        // 0  1  2\n        // 3     4\n        // 5  6  7\n\n        var cur = selectionHandles[i];\n\n        // we dont need to use the ghost context because\n        // selection handles will always be rectangles\n        if (mx >= cur.x && mx <= cur.x + mySelBoxSize &&\n          my >= cur.y && my <= cur.y + mySelBoxSize) {\n          // we found one!\n          expectResize = i;\n          this.invalidate();\n\n          switch (i) {\n            case 0:\n              canvas.style.cursor = 'nw-resize';\n              break;\n            case 1:\n              canvas.style.cursor = 'n-resize';\n              break;\n            case 2:\n              canvas.style.cursor = 'ne-resize';\n              break;\n            case 3:\n              canvas.style.cursor = 'w-resize';\n              break;\n            case 4:\n              canvas.style.cursor = 'e-resize';\n              break;\n            case 5:\n              canvas.style.cursor = 'sw-resize';\n              break;\n            case 6:\n              canvas.style.cursor = 's-resize';\n              break;\n            case 7:\n              canvas.style.cursor = 'se-resize';\n              break;\n          }\n          return;\n        }\n\n      }\n\n      // not over a selection box, return to normal\n      isResizeDrag = false;\n      expectResize = -1;\n      canvas.style.cursor = 'auto';\n    }\n\n  }\n\n\ndeleteText_canvas(e) {\n  // var y = e.target.parentNode.classList.contains(\"delH\") || e.target.parentNode.parentNode.classList.contains(\"delH\")\n  \n  console.log('deleteText', e.currentTarget, e.currentTarget.parentNode)\n  var y ;\n\n  if ( e.currentTarget.parentNode.classList.contains(\"delH\") ) {\n    y = e.currentTarget.parentNode\n  } else {\n    y = e.currentTarget.parentNode.parentNode\n  }\n\n  var z = y.id\n\n  z = parseInt(z.split('_')[1])\n  console.log('y', y, z)\n\nconsole.log('BEFORE POP', this.props.boxes2)\n\n  // for(var k=z; k < this.props.boxes2.length-1; k++) {\n  //   console.log('before', this.props.boxes2, this.props.boxes2[k], this.props.boxes2[k+1])\n\n  //   // boxes2[k] = this.props.boxes2[k+1]\n  //   this.props.edit_boxes(k, this.props.boxes2[k+1])\n\n  //   console.log('after', boxes2,boxes2[k], boxes2[k+1])\n  // }\n\n\n// the last box, delete that box basically\n  // boxes2.pop()\n\n  this.props.pop_boxes(parseInt(z))\n\n\n  console.log('AFTER POP', this.props.boxes2)\n\n  this.invalidate();\n\n  localStorage.setItem('nBox', this.props.boxes2.length)\n\n    // console.log('after pop boxes2', this.props.boxes2.length, this.props.boxes2)\n\n  y.remove()\n\n  var c = document.getElementById('textstylx').children\n\n  for (var k=0; k<c.length; k++) {\n    c[k].id = \"text_\" + (k + 1)\n}\n  // document.getElementsByClassName(\"heads-text-container\")[0].remove()\n  // document.getElementsByClassName(\"delH\")[0].remove()\n\nthis.sendJsonToS3()\n\n}\n\n\n/**\n * Draws a rounded rectangle using the current state of the canvas.\n * If you omit the last three params, it will draw a rectangle\n * outline with a 5 pixel border radius\n * @param {CanvasRenderingContext2D} ctx\n * @param {Number} x The top left x coordinate\n * @param {Number} y The top left y coordinate\n * @param {Number} width The width of the rectangle\n * @param {Number} height The height of the rectangle\n * @param {Number} [radius = 5] The corner radius; It can also be an object \n *                 to specify different radii for corners\n * @param {Number} [radius.tl = 0] Top left\n * @param {Number} [radius.tr = 0] Top right\n * @param {Number} [radius.br = 0] Bottom right\n * @param {Number} [radius.bl = 0] Bottom left\n * @param {Boolean} [fill = false] Whether to fill the rectangle.\n * @param {Boolean} [stroke = true] Whether to stroke the rectangle.\n */\nroundRect(ctx, x, y, width, height, radius, fill, stroke) {\n  if (typeof stroke === 'undefined') {\n    stroke = true;\n  }\n  if (typeof radius === 'undefined') {\n    radius = 5;\n  }\n  if (typeof radius === 'number') {\n    radius = {tl: radius, tr: radius, br: radius, bl: radius};\n  } else {\n    var defaultRadius = {tl: 0, tr: 0, br: 0, bl: 0};\n    for (var side in defaultRadius) {\n      radius[side] = radius[side] || defaultRadius[side];\n    }\n  }\n  ctx.beginPath();\n  ctx.moveTo(x + radius.tl, y);\n  ctx.lineTo(x + width - radius.tr, y);\n  ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n  ctx.lineTo(x + width, y + height - radius.br);\n  ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);\n  ctx.lineTo(x + radius.bl, y + height);\n  ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n  ctx.lineTo(x, y + radius.tl);\n  ctx.quadraticCurveTo(x, y, x + radius.tl, y);\n  ctx.closePath();\n  if (fill) {\n    ctx.fill();\n  }\n  if (stroke) {\n    ctx.stroke();\n  }\n\n}\n\n\n\n\n  keytimer(e) {\n  // highlight sub + vid current time + change video text\n  console.log('in keytimer');\n\n    // if (e.target.classList.contains('caption')) {\n    if (window.getSelection() && window.getSelection().rangeCount) {\n      \n      var select = window.getSelection();\n      console.log('select', e.target.innerText);\n\n      var range = select.getRangeAt(0);\n\n      if (range.startContainer.parentNode.tagName == \"SPAN\" && (range.startContainer.parentNode.getAttribute('class') == \"caption\" || range.startContainer.parentNode.getAttribute('class') == \"caption current-caption\")) {\n\n      var vid = document.getElementById(\"vid1\");\n      if (vid.play) {\n      // // console.log('hello');\n      vid.pause();\n        var play = document.getElementById(\"play\");\n        var pause = document.getElementById(\"pause\");\n\n        play.style.display='inline-block';\n        pause.style.display='none';\n    }\n\n    var zz = window.getSelection().getRangeAt(0).startContainer.parentNode;\n    var idn = zz.id;\n\n    \n    // var startTime = props.state.strt;\n    var vid = document.getElementById(\"vid1\"); \n\n    var cursorPos = window.getSelection().getRangeAt(0).startOffset; \n    console.log('keytimer time', e.target,'idn', idn,'curpos', cursorPos)\n    var t = gettime(idn, cursorPos);\n    console.log(\"t\", t);\n    vid.currentTime = t/1000;\n\n    if (document.getElementsByClassName(\"current-caption\")[0]) {\n    var current = document.getElementsByClassName(\"current-caption\")[0]\n \n    current.classList.remove(\"current-caption\");\n\n  }\n\n  zz.classList.add(\"current-caption\") \n  // setAttribute(\"className\", \"caption current-caption\");\n  // zz.setAttribute(\"class\", \"caption current-caption\");\n\n\n\n\n    // zz.innerText = tx;\n    // props.changeSub(newsub)\n   // props.changeCaptions(tx)\n   // document.getElementById(\"subtitle-text-container\").innerText = zz.innerText;\n\n        var text_title = zz.innerText\n\n        var b = this.props.boxes2[0]\n\n        var text_html = zz.innerHTML.replace(/\\n/g,'<br>').replace(/&nbsp/g,'')\n                \n\n        text_html = text_html.replace(/&nbsp;/g,'')\n\n        console.log('HTMLLL keytimer', text_html)\n\n        console.log('before fill in keyitmer', this.props.boxes2)\n\n        var rgba = b.fill\n\n        var fd = rgba.split(\"(\")[1];\n        var fdd = fd.split(\",\");\n        \n        var alp = fdd[3].split(')')[0]\n  // not single, there could be multiple spaces!\n    // length will be 0 if empty string \n        if (!text_title.replace(/\\s/g, '').length) {\n\n        var rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2].split(')')[0]), 0]\n\n        this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n        this.props.update_x(0, 'h', 0)\n\n        } else {\n\n        var rgbax = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), this.props.boxes2[0].a]\n\n        this.props.update_x(0, 'fill', 'rgba('+rgbax.join()+')')\n        this.props.update_x(0, 'h', 2*marginB + this.TwrapTextDummy(ctx, text_html, 0, 0, b.w - 2*marginB, b.fs + 0.4*marginB, b.fs, b.f, b.b, b.i))\n        \n        // console.log('after boxes2[0]', boxes2[0], boxes2[0].h)\n\n        }\n\n        console.log('after fill before text in keyitmer', this.props.boxes2)\n        // boxes2[0].text = text_title\n        // boxes2[0].html = text_html\n\n        this.props.update_x(0, 'text', text_title)\n        this.props.update_x(0, 'html', text_html)\n\n        console.log('after text in keyitmer', this.props.boxes2)\n\n// show the 9 selection boxes\n        // mySel = this.props.boxes2[0];\n\n        this.invalidate()\n\n    // props.changeKey(1);\n    console.log('@@@@@ #### BEFORE storeSub\\n', localStorage.getItem('subx'))\n  storeSub();\n\n    \n  }      \n}\n\nthis.sendJsonToS3()\n}\n\n\nconvertToImage(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n// user login // this is asynchronus | need to wait | so return\nif(!localStorage.getItem('uid')) { login_in_create(); return; }\n\n// Text on button: UPGRADE TO DOWNLOAD\nvar s = localStorage.getItem('subscribe') == \"0\" || !localStorage.getItem('subscribe')\nif(localStorage.getItem('uid') && s && localStorage.getItem('render') == \"1\") {\n    alert('Upgrade to Download the video')\n    // show pricing popup\n    document.getElementById('pvid').style.display = 'block'\n    // add the stripecheckout and return.!!! RENDER THE VIDEO?!\n    return;\n  }\n\n// if 11 videos have been rendered already\nif(localStorage.getItem('uid') && s && localStorage.getItem('render') == \"11\") {\n  // reset render value in table and localstorage; if payment successful\n    document.getElementById('pvid').style.display = 'block'\n    alert('Video Limit reached. Please subscribe again, to render this video')\n    return;\n  }\n\n// RENDER AND SUBSCRIBE, you can get from api as opposed to localStorage!?\n// reducers will reset on page change/reload, so atleast use it on same page?\n\n\ndocument.getElementsByClassName(\"download_\")[0].style.display = 'block'\ndocument.getElementsByClassName(\"styling\")[0].style.display = 'none'\n\n\nconsole.log('props in convertToImage', this.props)\nvar t = JSON.parse(localStorage.getItem('strt'))\nvar en = JSON.parse(localStorage.getItem('en'))\nvar subx = JSON.parse(localStorage.getItem('subx'))\n\nvar ti = []\nvar new_s = []\nvar new_e = []\nvar vid = document.getElementById('vid1')\n\nfor(var k=0; k<t.length; k++) {\n  new_s[k] = strToMili(t[k])/1000;\n  new_e[k] = strToMili(en[k])/1000;\n}\n\n\nthis.clear(ctx);\n\n// draw all boxes\nvar l = this.props.boxes2.length;\n\nfor (var i = 1; i < l; i++) {\n  this.props.boxes2[i].draw(ctx); \n  }\n\n\nvar s = {}\ns['strt'] = 0\ns['en'] = localStorage.getItem(\"duration\");\nvar image = canvas.toDataURL(\"image/png\")\ns['image'] = image\n\nconsole.log('SSS', s)\nti.push(s)\n\n// for(var k=0; k<t.length; k++) {\n\nvar k = 0\n\nwhile(k < t.length) {\n\n        var text_title = subx[k]\n\n        var b = this.props.boxes2[0]\n        var text_html = subx[k].replace(/\\n/g,'<br>').replace(/&nbsp/g,'')\n\n        var rgba = b.fill\n\n        var fd = rgba.split(\"(\")[1];\n        var fdd = fd.split(\",\");\n        \n        var alp = fdd[3].split(')')[0]\n  // not single, there could be multiple spaces!\n    // length will be 0 if empty string \n        if (!text_title.replace(/\\s/g, '').length) {\n\n        var rgba_ = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2].split(')')[0]), 0]\n\n        this.props.update_x(0, 'fill', 'rgba('+rgba_.join()+')')\n        this.props.update_x(0, 'h', 0)\n\n        } else {\n\n        var rgbax = [parseInt(fdd[0]), parseInt(fdd[1]),parseInt(fdd[2]), this.props.boxes2[0].a]\n\n        this.props.update_x(0, 'fill', 'rgba('+rgbax.join()+')')\n        this.props.update_x(0, 'h', 2*marginB + this.TwrapTextDummy(ctx, text_html, 0, 0, b.w - 2*marginB, b.fs + 0.4*marginB, b.fs, b.f, b.b, b.i))\n        \n        // console.log('after boxes2[0]', boxes2[0], boxes2[0].h)\n\n        }\n\n\n        this.props.update_x(0, 'text', text_title)\n        this.props.update_x(0, 'html', text_html)\n\n        this.clear(ctx);\n\n        // draw all boxes\n        var l = this.props.boxes2.length;\n\n        for (var i = 0; i < l; i++) {\n          this.props.boxes2[i].draw(ctx); \n          }\n\n\n  s = {}\n  s['strt'] = new_s[k]\n  s['en'] = new_e[k]\n  var image = canvas.toDataURL(\"image/png\")\n  s['image'] = image\n\n  console.log('SSS', s)\n  ti.push(s)\n          \n          // .replace(\"image/png\", \"image/octet-stream\");\n\n  console.log('IMAGE', ti)\n\n  k = k + 1\n\n}\n// window.open(canvas.toDataURL('png'));\nthis.invalidate();  \n\nvar filename = localStorage.getItem(\"filename\")\nvar xout = Date.now() + '_' + filename\n\n\n//  nh nw\nvar nh = parseInt(document.getElementById(\"custom-seekbar11\").getAttribute(\"nh\"));\nvar nw = parseInt(document.getElementById(\"custom-seekbar11\").getAttribute(\"nw\"));\n\nvar seekh = 0.03*nh\nvar bck = document.getElementById(\"custom-seekbar1\").style.backgroundColor\nbck = gethex(bck)\nvar frnt = document.getElementById(\"custom-seekbar11\").style.backgroundColor\nfrnt = gethex(frnt)\n\n// padding color \nvar pc = document.getElementById(\"vid\").style.backgroundColor\npc = gethex(pc)\nvar width = nw\nvar height = nh\nvar back_bar = bck\nvar front_bar = frnt\nvar bar_height = Math.ceil(seekh)\nvar duration = localStorage.getItem(\"duration\")\n\nconsole.log('pc', pc)\n\npc = pc.split('#')[1]\nback_bar = back_bar.split('#')[1]\nfront_bar = front_bar.split('#')[1]\n\nvar dvid = 'https://d2wxuz9jomxjzh.cloudfront.net/' + xout + '?cachebuster=' + Date.now()\n\nlocalStorage.setItem('xout', xout)\n\nthis.props.render_x('filename', filename)\nthis.props.render_x('xout', xout)\nthis.props.render_x('width', width)\nthis.props.render_x('height', height)\nthis.props.render_x('pc', pc)\nthis.props.render_x('back_bar', back_bar)\nthis.props.render_x('front_bar', front_bar)\nthis.props.render_x('bar_height', bar_height)\nthis.props.render_x('duration', duration)\n\nthis.props.render_x('dvid', dvid)\n\n\nif (localStorage.getItem('uid')) {\n    var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n    console.log('suburl', suburl)\n\n    axios.get(suburl).then(response => {\n\n      this.props.render_x('pre_sub', response.data.Item.sub.S)\n  \n    // if the item doesnt exist in subscribe table\n    }).catch(e => {\n\n      this.props.render_x('pre_sub', '0')\n    })\n\n    console.log('?? subscribe in Renderdown', this.props.pre_sub)\n}\n\n\n// if pre_sub is 1, no watermark is required\n\nthis.props.render_x('ti', JSON.stringify(ti))\n\n// if no boxes on canvas, => no rendering return\nif(ti == '[]') return;\n\n\nvar ucp = localStorage.getItem('uid')\nif(!ucp) {ucp = localStorage.getItem('uuid')}\n\n// no watermark\nvar url = 'https://zuy32xbxsg.execute-api.us-west-2.amazonaws.com/default/canvas_render?filein=' + filename + '&fileout=' + xout + '&width=' + width + '&height=' + height + '&pc=' + pc + '&back_bar=' + back_bar + '&front_bar=' + front_bar + '&bar_height=' + bar_height + '&duration=' + duration\n\nconsole.log('url', url)\n\nvar t = parseFloat(localStorage.getItem('duration'))\n\nvar urlx = 'https://cbrwnvuuf6.execute-api.us-west-2.amazonaws.com/default/check_output_video?key=' + xout\n\naxios.post(url, ti,{\n    headers: {\n            'Content-Type': 'application/json',\n          },\n    }).then((res) => { \n      console.log('SENT')\n\n      document.getElementsByClassName(\"download_\")[0].style.display = 'none'\n\n\n// renderdown.js\nthis.props.props.x.history.push({\n     pathname: `/download/${ucp}`,\n     // state: { download: xyzu }\n })\n\n\n\n\n    }).catch((err) => {\n      console.log('ERROR',e)\n\n\nif (t > 60) { t = t*0.5*1000 }\nelse { t = t*1000 }\n\nvar vix = setInterval(() => {\n\n    // check if cloudfront has the video\n    axios.get(urlx).then(res=> {\n      console.log('VIDEO GENERATED NOW', res)\n      clearInterval(vix)\n\n      try {\n      document.getElementsByClassName(\"download_\")[0].style.display = 'none'\n      document.getElementsByClassName(\"styling\")[0].style.display = 'flex'\n      } catch(e) {console.log(e)}\n\n\n      // renderdown.js\n      this.props.props.x.history.push({\n         pathname: `/download/${ucp}`,\n         // state: { download: xyzu }\n     })\n\n\n\n    }).catch(err=> console.log('ERRORR! in setInterval', err)) //close urlx\n}, t) //close interval\n    })\n  console.log('## IMAGES ##', ti)\n}\n\n\n\nsetVidDim (width, props) {\n\nvar c = document.getElementById(\"vid\")\nvar g = (c.offsetWidth/c.offsetHeight).toFixed(1)\n// var g = (props.state.width/props.state.height).toFixed(1)\n\n// var vcx = document.getElementById(\"stage\");\n// var vidx = document.getElementById(\"vid1\");\nvar head_fs, head_fs_new, sub_fs, sub_fs_new\n\nvar r, nh, nw, bar_height, bar_height_new, head_pad\nif ( g == \"0.6\") {\n//  9:16 w=1080, h=1920\n\nnw = 1080; nh=1920;\ndocument.getElementById(\"ar\").textContent = \"9:16\";\nconsole.log('def width', width, width/1080);\nr = 1080/width;\n\n}\n\nelse if (g == \"1.8\") {\n  // 16:9 w=1920, h=1080\n\nnw=1920; nh=1080;\ndocument.getElementById(\"ar\").textContent = \"16:9\";\nconsole.log('def width', width, width/1920);\nr = 1920/width;\n\n}\n\n\nelse if (g == \"1.0\") {\n  // 1:1 w=1080, h=1080\n\nnw=1080; nh=1080;\nr = 1080/width;\ndocument.getElementById(\"ar\").textContent = \"1:1\";\nconsole.log('def width', width, width/1080);\n\n}\n\nelse if(g == \"0.8\"){\n  // 4:5 w=1080, h=1350 \n\nnw=1080; nh=1350;\nr = 1080/width;\ndocument.getElementById(\"ar\").textContent = \"4:5\";\nconsole.log('def width', width, width/1080);\n\n}\n\nelse {\n\n// original w=1080 h=810  (4:3)\ndocument.getElementById(\"ar\").textContent = \"Org\";\nconsole.log('def width', width, width/1080);\nr = 1080/width;\nvar height = document.getElementById(\"stage\").offsetHeight;\n\nnw = 1080; nh = height*r\n\n}\n\n// store ratio in span-custom-seekbar11\ndocument.getElementById(\"custom-seekbar11\").setAttribute(\"ratio\", r);\ndocument.getElementById(\"custom-seekbar11\").setAttribute(\"nw\", nw);\ndocument.getElementById(\"custom-seekbar11\").setAttribute(\"nh\", nh);\n\n\n\nreturn [20, 20]\n\n}\n\n\n// ////////////////////////////////////////////////\n\ncomponentDidMount() {\n\n  // initialize our canvas, add a ghost canvas, set draw loop\n  // then add everything we want to intially exist on the canvas\n  \n  document.getElementById(\"addT\").addEventListener(\"click\", (e) => {\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    console.log('myDblClick')\n\n    this.myDblClick(e)\n\n    console.log('new boxes2', this.props.boxes2)\n  })\n\n  var key = document.getElementById(\"subdiv\");\n\n  key.addEventListener(\"DOMSubtreeModified\", (e) => this.keytimer(e));\n\n\n  key.addEventListener(\"click\", (e) => {\n    this.keytimer(e)\n    // setWidth(2);\n\n    // console.log('clinet', e.clientY, e.pageY)\n    \n    try {\n    // document.getElementById(\"addSubz\").removenext(document.getElementById(\"plus\"))\n    document.getElementById(\"plus\").remove();\n  } catch {\n    console.log(\"no child\");\n  }\n\n\n  function getpos(e) {\n  var posx = 0;\n  var posy = 0;\n  if (!e) var e = window.event;\n  if (e.pageX || e.pageY)   {\n    posx = e.pageX;\n    posy = e.pageY;\n  }\n  else if (e.clientX || e.clientY)  {\n    posx = e.clientX + document.body.scrollLeft\n      + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop\n      + document.documentElement.scrollTop;\n  }\n  return [posx, posy]\n}\n    document.getElementById(\"addSubz\").style.marginTop = getpos(e)[1] - 190 + 'px';\n    // document.getElementById(\"addSubz\").style.marginRight = -200 + 'px';\n\n\n    var xp = document.getElementById(\"addSubz\").getBoundingClientRect();\n\n      var cy = getpos(e)[1]  ;\n      var color = 'rgba(255,0,255,0.3)';\n      var thickness = 1;\n      var cx = e.clientX;\n\n      \n      var xx = xp.left + xp.width/3\n      var length = xx - cx  \n      var htmlLine = \"<div id=plus style='padding:0px; margin:0px; height:\" + thickness + \"px; background-color:\" + color + \"; line-height:1px;left:\" + cx + \"px; position: fixed; top:\" + cy + \"px; width:\" + length + \"px' />\";\n    //\n    // alert(htmlLine);\n    // document.getElementById(\"addSubz\").innerHTML += htmlLine;\n    document.getElementsByClassName(\"tooltip\")[0].insertAdjacentHTML('afterend', htmlLine);\n\n  });\n\n\n    document.body.addEventListener(\"keydown\", (e) => {\n      console.log('target id', e.target.id, e)\n      if (e.target.id == \"subdiv\") {this.keytimer(e); return;}\n})\n\n\n\n\n\n  // If you dont want to use <body onLoad='init()'>\n  // You could uncomment this init() reference and place the script reference inside the body tag\n  //init();\n  // window.init2 = init2;S\n// })(window);\n\n// Andy added, as a replacement for \n// <body onLoad=\"init2()\">\n// $(document).ready(function() {\n//   // Your code here\n  \nconsole.log('init',this.props)\nif ( this.props.props.state.width ) {\n  var g = (this.props.props.state.width/this.props.props.state.height).toFixed(1)\n\n} else {\n  console.log('local storage', localStorage.getItem(\"width\"), localStorage.getItem(\"height\"), localStorage.getItem(\"duration\"))\n  var g = parseFloat(localStorage.getItem(\"width\"))/parseFloat(localStorage.getItem(\"height\"))\n\n  try {\n  g = g.toFixed(1)\n  console.log('localgg', g);\n} catch {}\n}\n\n  setDim(g, 'xyz')\n\n\n  this.invalidate();\n  this.init2();\n\n\nwindow.addEventListener('resize', (e)=>{\n  if(window.location.href.split('/')[3] === 'vidx') {\n      this.setVideo();\n  } \n});\n\n// change Aspect Ratio\ndocument.getElementById('aratio').addEventListener(\"click\", (e) => {\n\n    // this.props.pop_boxes(1);\n    // localStorage.setItem('nBox', this.props.boxes2.length)\n\n    console.log('change aration')\n    this.setARatio(e);\n})\n\n\ndocument.getElementById(\"downloadx\").addEventListener(\"click\", (e) => {\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.convertToImage(e)\n\n  })\n\n\n// });\n\n\n} // close componentDidMount\n\nrender () {\n\n    // <video id=\"can\" height='300px' width='400px' src={pop} controls />\n\n// Map Redux state to React component props\n\n// height='450px' width='300px'\n// container3 is for subtitles\n\n// <a id=\"download\" style={{'left':'330px', 'position':'absolute'}} download=\"image.png\"><button type=\"button\">Download</button></a>\n\nreturn (\n  <div>\n    <div id=\"container2\">\n      <canvas id=\"canvas2\" >\n      This text is displayed if your browser does not support HTML5 Canvas.\n      </canvas>\n    </div>\n  </div>\n)\n}\n}\n\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nCanvastry.displayName = \"Canvastry\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Canvastry));\n\n","import React, { useEffect } from 'react';\n\nimport './alert.css';\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\n\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n\nimport {connect} from 'react-redux';\n\n\nfunction Alert(props){\t\n\n    useEffect(() => {\n\nif (localStorage.getItem('progress') == \"0\" && localStorage.getItem('reload') == \"1\" && localStorage.getItem('uid')) {\n\n      document.getElementById(\"alert\").style.display = \"block\";\n}    \n\nconsole.log('props in ALERT', props)\n\n\tflask_multipart(props.props, document.getElementById('file-alert'))\n\n})\n\n\n\t\t// File is still uploading. File will not be saved if you leave the tab\n\t\t// <div className=\"select_alert\">\n\t\t// <button>OK</button>\n\t\t// <button>Cancel</button>\n\t\t// </div> \n\n// <AddCircleIcon id=\"addU\" />\nreturn (\n\t<div id=\"alert\">\n\t<span className=\"textalert\">Upload a new Video</span>\n\n<div className=\"up-try\">\n  <div className=\"file-chooser\">\n    \n    <label for=\"file-alert\" className=\"custom-file-upload\">\n        upload\n    </label>\n    <input id=\"file-alert\" type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n  </div>\n\n  <div className=\"file-progress-container\"></div>\n  <script src=\"md5.js\"></script>\n  <script src=\"flask-s3-multipart.js\"></script>\n</div>\n\n\n\n\t</div>\n\n)}\n\n\n\n\nAlert.displayName = \"Alert\";\nexport default React.memo(Alert);\n","import React, { useEffect } from 'react';\n\nimport './lang.css';\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\n\n\nfunction displaylang(e, props) {\n\n\n    document.getElementById(\"langselect\").style.display = \"block\"\n    \n}\n\n\nfunction selectlang(e, props) {\n\n\n  document.getElementsByClassName(\"input-lang\")[0].value = e.target.textContent\n\n  var lang = e.target.textContent.split('(')[1].split(')')[0]\n\n  localStorage.setItem('lang', lang)\n\n  document.getElementById(\"langselect\").style.display = \"none\"\n\n  document.getElementById(\"lang\").style.display = \"none\"\n\n// generate sub if video upload = 100% and lang selected as well\n// + subtitles shouldnt already be generated\n  if(localStorage.getItem('progress') == 1) {\n    document.getElementsByClassName('waitSub')[0].click() \n  }\n\n  // setWidth(i+1)\n\n}\n\nfunction Lang(props){\t\n\n\n    useEffect(() => {\n\n    if(!localStorage.getItem('lang')) {\n\n        // document.getElementById(\"langselect\").style.display = \"block\"\n        document.getElementById(\"lang\").style.display = \"block\"\n\n    }\n\n\n\n\n},[])\n\n\n\t\t// File is still uploading. File will not be saved if you leave the tab\n\t\t// <div className=\"select_alert\">\n\t\t// <button>OK</button>\n\t\t// <button>Cancel</button>\n\t\t// </div> \n\n// onClick={(e) => selectfont(e, props)}\n\n// <button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Indian Hindi (hi-IN)</button>\n\n\nreturn (\n\t<div id=\"lang\">\n\t<span className=\"langalert\">Please choose the language spoken in the video\n  <div onClick={(e) => displaylang(e, props)} className=\"langinput\">\n\n  <input id=\"react-select-6-input\" tabindex=\"0\" readonly=\"\" aria-autocomplete=\"list\" class=\"input-lang\" value=\"\" disabled=\"\"/>\n\n  <div className=\"css-1wy0on6\">\n  <div aria-hidden=\"true\" class=\" css-5e2tja-indicatorContainer\"><svg height=\"20\" width=\"20\" viewBox=\"0 0 20 20\" aria-hidden=\"true\" focusable=\"false\" class=\"css-19bqh2r\"><path d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path></svg>\n  </div>\n  </div>\n\n  </div>\n\n  </span>\n\n\n<div id=\"langselect\" onClick={(e) => selectlang(e, props)}>\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Gulf Arabic (ar-AE)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Modern Standard Arabic (ar-SA)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Chinese Mandarin-Mainland (zh-CN)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Dutch (nl-NL)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Australian English (en-AU)</button> \n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">British English (en-GB)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Indian English (en-IN)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Irish English (en-IE)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Scottish English (en-AB)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\" autoFocus>US English (en-US)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Welsh English (en-WL)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">French (fr-FR)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Canadian French (fr-CA)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Farsi (fa-IR)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">German (de-DE)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Swiss German (de-CH)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Hebrew (he-IL)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Indonesian (id-ID)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Italian (it-IT)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Japanese (ja-JP)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Korean (ko-KR)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Malay (ms-MY)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Portuguese (pt-PT)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Brazilian Portuguese (pt-BR)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Russian (ru-RU)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Spanish (es-ES)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">US Spanish (es-US)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Tamil (ta-IN)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Telugu (te-IN)</button>\n\n<button type=\"button\" data-toggle=\"tab\" className=\"btn-default\">Turkish (tr-TR)</button>\n</div>\n\n\n\t</div>\n\n)}\n\n\nLang.displayName = \"Lang\";\nexport default React.memo(Lang);\n","import axios from 'axios'; \n\nimport React, { useState,useEffect } from 'react';\nimport './pricingvid.css';\nimport Navpricing from './navbarpricing';\nimport Navwork from './navbarwork';\n// import Nav from './navbar';\n\nimport {login_pricing_home, login_sub, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport {checkout, stripe_checkout_download} from './striperedirect';\n\nimport {connect} from 'react-redux';\n// import Stripex from './stripex';\n\nfunction Pricingvid(props){\n\n\tdocument.title = 'TurtleClip | Pricing';\n\n useEffect(() => {\n\n        // document.getElementById(\"raz\").appendChild(script);\n    // document.getElementsByName(\"email\")[0].value = \"oyeiitsme@gmail.com\"\n\n    // set value of subscribe in localstorage\n    if (localStorage.getItem('uid')) {\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe in Renderdown', response.data.Item)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n      \n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          localStorage.setItem('subscribe', '0')\n        })\n\n        console.log('subscribe in Renderdown', localStorage.getItem('subscribe'))\n    }\n\n    }, []);\n\n\n   useEffect(() => {\n\n   \t\ttry {\n\t\tdocument.getElementById('login_p').addEventListener('click', (e) => {\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        login_pricing_home(e,props)\n}\n);\n} catch {}\n\n\n   \t\ttry {\n\t\tdocument.getElementById('pay_').addEventListener('click', (e) => {\n\n\t\t\tconsole.log('first login in sub')\n\n\n      var dd = window.location.href.split('/').slice(-1)[0]\n\t\t\tvar email = localStorage.getItem('email')\n\n        // e.preventDefault();\n        // e.stopPropagation();\n\n        console.log(dd)\n\n        document.getElementById(\"circlePricing\").style.display = 'block'\n        stripe_checkout_download(dd, email)\n\n\n  //      \tvar nav = <Navwork props={props} />;\n\t\t// var log = <a href={work} className=\"login_price\">Try Now</a>\n\n        // document.getElementsByClassName('PaymentButton')[0].click()\n\n}\n);\n} catch {}\n\n\n}) \n\n\n\t \n\n\nreturn (\n\n\t<div id='pvid'>\n\n\t<CircularProgress style={{'display':'none'}} id=\"circlePricing\" className=\"Mpbar\" />\n\n\t<div id=\"vprizing\">\n\n\n\t<div className='tier'>\n\t\t<div className=\"priceTag\">PRO</div>\n    <div id=\"pay_\" className=\"vlogin_price\"> SUBSCRIBE </div>\n\t\t<div className=\"vpriceVal\">$19 <span className='permonth'>/Month</span></div>\n\t\t<div className='nv'>10 videos</div>\n\t\t<div>Automatic transcription</div>\n\t\t<div>Add text</div>\n\t\t<div>Add and style top heading</div>\n\t\t<div>Video resizing</div>\n\t\t<div>Progress bar</div>\n\t\t<div>Style and position subtitle</div>\n\t\t<div>No Watermark</div>\n\t</div>\n\n\t\n\t</div>\n\n\n\n\t</div>\n\n)\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nPricingvid.displayName = \"Pricingvid\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Pricingvid));\n","import React, {useEffect} from 'react';\n\n\n// trimvideos.js is the parent file\n\n/* global $ */\n/* global moment */\nimport { showVideo, askSubt, showSubstyle, showTextstyle, showProgress, moveElement, setDim, strToMili, miliToTime, miliToMinTime} from './utils';\n// import vid from './outputx.mp4';\n\nimport {login_in_vid} from './firebase_login';\n\nimport {connect} from 'react-redux';\n\nimport {setTemplate1} from './setTemplate';\nimport {storeBar, storeSubstyle, storeHead, storeBox, storeVideo} from './storelocalstorage';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\n\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport PauseCircleFilledIcon from '@material-ui/icons/PauseCircleFilled';\n\n// import CancelIcon from '@material-ui/icons/Cancel';\n\nimport './xoxo.css';\n// on hover, focus: resizable, drag\nimport './vid.css';\n\n// import './playButton.css';\n// import './bttn2.scss';\n// import './zoomslider.css';\n\nimport './video_buttons.css';\nimport './vidslider.scss';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport Save from './downloadvid';\n\nimport Canvastry from './canvastry';\n\n// import {dragresize} from './dragresize';\n// import './dragresize.css';\n\nimport Nav from './navbar';\n\nimport Alert from './alert';\nimport Lang from './lang';\n\n\nimport axios from 'axios'; \n\nimport Pricingvid from './pricingvid';\n\n//  open vidstyle\nconst openStyle = function(e) {\n  var x = document.getElementById('xcolumn').style.display \n  if(x=='block') document.getElementById('xcolumn').style.display='none'\n  else document.getElementById('xcolumn').style.display='block'\n}\n\n\n//  close video modal\n// const closeVid = function (e) {\n//     document.getElementById(\"rx\").style.display=\"block\"\n//     document.getElementById(\"xx\").style.display=\"none\"\n//     document.getElementsByClassName(\"vid-fixed-top\")[0].style.opacity = 1\n\n// }\n\n\nconst clickbutton = function (e) {\n\t// console.log('event', e);\n\te.preventDefault();\n\te.stopPropagation();\n\n\tvar play = document.getElementById(\"play\");\n  var pause = document.getElementById(\"pause\");\n\n\tvar v = document.getElementById('vid1');\n  // alert(\"this should only appear once\");\n  // console.log('###### b bttn clas:', btn.className);\n  if (v.paused) {\n  \t//console.log('b:pause',btn.className); \n  v.play(); \n  play.style.display='none';\n  pause.style.display='inline-block';\n  }\n  else if (v.play) { \n  \t//console.log('b:play',btn.className); \n  v.pause(); \n  play.style.display='inline-block';\n  pause.style.display='none';\n}\n          \n}\n\n\nconst muted = function(e) {\n\n  var vUp = document.getElementById(\"vUp\");\n  var vOff = document.getElementById(\"vOff\");\n\n   var vm = document.getElementById(\"vid1\");\n  \n   if ( vm.muted ) {\n    vm.muted = false;\n    vUp.style.display = 'inline-block';\n    vOff.style.display = 'none';\n } else {\n    vm.muted = true;\n    vUp.style.display = 'none';\n    vOff.style.display = 'inline-block';\n }\n\n}\n\n\n\n\n\nfunction Vid(props){\n\n  console.log('props in Vid!', props.x)\n\nconst state = props.state;\nconst changeCaptions = props.changeCaptions;\nconst changeKey = props.changeKey;\nconsole.log('in useeffect state', state);\n\n\n\nuseEffect(() => {\n\n    // $(\"#vid1\").draggable();\n    // $(\"#vid1\").resizable({ handles: 'all' });\n\nvar t = 1*60*5*1000\n\nif(!localStorage.getItem('uid')) {\n    \n    var log = setInterval(() => {\n    // if already signed In, clear this interval\n    if(localStorage.getItem('uid')) {\n      clearInterval(log)\n      return;\n    }\n\n    alert('Continue with Gmail')\n    login_in_vid(props.x)\n\n  }, t)\n}\n\n},[])\n\n\n\n\nuseEffect(() => {\n\nvar d = 0\n\nvar vid = document.getElementById(\"vid1\"); \n\n\nvid.setAttribute(\"max\", parseFloat(localStorage.getItem(\"duration\")) )\ndocument.getElementById(\"rangeset\").setAttribute(\"max\", parseFloat(localStorage.getItem(\"duration\")))\n\n\n\nvar vCuTi = document.getElementById('vC');\n// var dd = localStorage.getItem(\"duration\")\n  \nif (vCuTi) {\n  \n  // vCuTi.innerText = miliToTime(vid.currentTime*1000).split('.')[0] + '/' + miliToTime(Math.ceil(props.state.duration)*1000).split('.')[0] ;\n  // vCuTi.innerText = miliToTime(vid.currentTime*1000) + '/' + miliToTime(Math.ceil(parseFloat(props.state.duration))*1000) ;\n  // vCuTi.innerText = miliToTime(vid.currentTime*1000) + '/' + miliToTime(Math.ceil(parseFloat(localStorage.getItem(\"duration\")))*1000) ;\n  // vCuTi.innerText = miliToTime(vid.currentTime*1000) + '/' + miliToTime(parseFloat(localStorage.getItem(\"duration\"))*1000) ;\n  vCuTi.innerText = miliToMinTime(vid.currentTime*1000) ;\n  // + '/' + miliToTime(parseFloat(localStorage.getItem(\"duration\"))*1000) ;\n}\n\n\n\n// seekbar\nvid.ontimeupdate = function(e){\n\t// console.log('in seekbar');\n\te.preventDefault();\n  e.stopPropagation();\n\n  try {\n  var percentage = ( vid.currentTime / vid.duration ) * 100;\n\n  if (percentage == 100) {\n        var play = document.getElementById(\"play\");\n        var pause = document.getElementById(\"pause\");\n\n        play.style.display='inline-block';\n        pause.style.display='none';\n  }\n\n  var slider = document.getElementById(\"rangeset\");\n  slider.value = vid.currentTime; \n\n  var sp1 = document.querySelectorAll('#custom-seekbar1 > span')[0];\n  sp1.style.width = percentage+\"%\";\n\n  console.log('@@@ PERCENTAGE @@@', percentage)\n\n  \n  // var sp2 = document.querySelectorAll('#custom-seekbar2 > span')[0];\n  // sp2.style.width = percentage+\"%\";\n } catch {}\n\n};\n\n\n// var seek = document.getElementById(\"custom-seekbar2\")\n// seek.addEventListener('click', function(e){\n// \t// console.log('in aanother seek')\n// \te.preventDefault();\n// \te.stopPropagation();\n//   // get current position\n//     var offset = this.getBoundingClientRect();  \n//     var left = (e.pageX - offset.left);\n//     var totalWidth = offset.width;\n//     var percentage = ( left / totalWidth );\n//     var vidTime = vid.duration * percentage;\n//     vid.currentTime = vidTime;\n// });//click()\n\n// pause/play on video click \nvar myVideo = document.getElementById(\"vid1\");\n// play pause video\n\n// Zoom in video \n/* Array of possible browser specific settings for transformation */\nvar properties = ['transform', 'WebkitTransform', 'MozTransform','msTransform', 'OTransform'],\n    prop = properties[0];\n\n/* Iterators and stuff */    \nvar i,j;\n\nvar stage = document.getElementById('stage');\n/* Find out which CSS transform the browser supports */\nfor(i=0,j=properties.length;i<j;i++){\n  if(typeof stage.style[properties[i]] !== 'undefined'){\n    prop = properties[i];\n    break;\n  }\n}\n\n// // console.log('prop', prop);\n\nvar v = document.getElementById('vid1');\n\nvar zoom = 1 ;\nv.style[prop]='scale('+zoom+')';\n\n// var slider = document.getElementById(\"rangeset\");\n// slider.addEventListener(\"input\", function(e){\n//   e.preventDefault();\n//   e.stopPropagation();\n//     // document.getElementById(\"demo\").innerHTML = this.value;\n//     slider.value = parseInt(slider.value) \n//     zoom = 1 + parseInt(slider.value)/10 ;\n//   // // console.log('zoom',zoom);\n//   v.style[prop]='scale('+zoom+')';\n// });\n\n\nvar slider = document.getElementById(\"rangeset\");\nslider.addEventListener(\"input\", function(e){\n  e.preventDefault();\n  e.stopPropagation();\n  var v = document.getElementById('vid1');\n    // document.getElementById(\"demo\").innerHTML = this.value;\n    slider.value = parseFloat(slider.value)\n    \n    // v.load()\n    v.currentTime = parseFloat(slider.value);\n  \n});\n\n// var vidx = document.getElementById(\"vid1\");\n// vidx.onloadeddata = function() {\n\n\n\nif ( props.state.width ) {\n  var g = (props.state.width/props.state.height).toFixed(1)\n\n} else {\n  console.log('local storage', localStorage.getItem(\"width\"), localStorage.getItem(\"height\"), localStorage.getItem(\"duration\"))\n  var g = parseFloat(localStorage.getItem(\"width\"))/parseFloat(localStorage.getItem(\"height\"))\n\n  try {\n  g = g.toFixed(1)\n  console.log('localgg', g);\n} catch {}\n}\n  // console.log('gg', g, props.state.width, props.state.height);\n  setDim(g, props);\n\n  // setTemplate1(1, props);\n\n  // setWidth(1)\n// };\n\n\n// window.onresize = setTemplate1(1,props)\n\n\n// window.addEventListener('resize', (e)=>{\n\n//   if(window.location.href.split('/')[3] === 'vidx') {\n//       setTemplate1(1, props);\n//   }\n  \n// });\n\n\n\n// var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n// var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n// axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n//     headers: {\n//             'Content-Type': 'application/json',\n//           },\n//     }).then((res) => {\n//       console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)})\n\n// auto change heading width\n\n// try {\n// document.getElementById('head').addEventListener(\"keyup\", (e) => {\n//           setWidth(1);\n//  });\n// } catch {}\n\n\n\n\n// }, [state, changeKey, changeCaptions])\n}, [] )\n\n\nuseEffect(() => {\n\nif (localStorage.getItem('progress') == \"0\" && localStorage.getItem('reload') == \"1\" && !localStorage.getItem('uid')) {\n\n        window.location.href = window.location.origin;\n\n}\n\n// window.addEventListener(\"hashchange\", function(e) {\n//   alert(\"STOPPP!!!\")\n//   // ...\n// })\n\n$(window).on('beforeunload', function ()\n    {\n \n    if (localStorage.getItem('progress') == \"0\" ) {\n\n      localStorage.setItem(\"reload\", \"1\")\n    }\n\n//       document.getElementById(\"alert\").style.display = \"block\";\n      \n    var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n    var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n    console.log('sending json to s3', url)\n    axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }).then((res) => {\n            console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)}) \n      return undefined;\n});\n\n\n// var perfEntries = performance.getEntriesByType(\"navigation\");\n// for (var i = 0; i < perfEntries.length; i++) {\n//     alert(perfEntries[i].type);\n// }\n\n\n}) //close useEffect\n\n\n\n\n\n// mutation observer, to save the code\n\nuseEffect(() => {\n\n\n\n\n// // Select the node that will be observed for mutations\n// const targetNode = document.getElementById('vid_container');\n\n// // Options for the observer (which mutations to observe)\n// const config = { attributes: true, childList: true, subtree: true };\n// // const config = { childList: true}\n// // Callback function to execute when mutations are observed\n// const callback = function(mutationsList, observer) {\n\n//       var t = 0\n\n//       while(JSON.parse(localStorage.getItem(t))) {\n//        localStorage.removeItem(t)\n//        t = t+1\n//       }\n      \n\n//       storeBar();\n//       // boxes2 is empty! :-0\n//       // storeBox(props.boxes2)\n\n//     // console.log(\"SAVING JSON\")\n\n//     var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n//     var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n//     console.log('sending json to s3', url)\n//     axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n//             headers: {\n//               'Content-Type': 'application/json',\n//             },\n//           }).then((res) => {\n//             console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)})\n\n    \n// };\n\n// // Create an observer instance linked to the callback function\n// const observer = new MutationObserver(callback);\n\n// // Start observing the target node for configured mutations\n// observer.observe(targetNode, config);\n\n// // Later, you can stop observing\n// // observer.disconnect();\n\n\n},[])\n\n\n// <CancelIcon id=\"cancel\" onClick={closeVid} style={{ display: 'inline-block', cursor: 'pointer' }} />\n// <span id=\"vidstyl\" onClick={openStyle} style={{'cursor': 'pointer'}}>Click to Style Video</span>\n\nreturn (\n      <div>\n      <Pricingvid props={props} />\n      <Alert props={props} />\n      <Lang />\n\t\t  <div id=\"vcolumn\">\n\n    <div id=\"sav\"><Save props={props.x} canv={props}/></div>\n\n      <div className=\"file-progress-container\"></div>\n\t\t\t<div className='item'>\n\n\t\t\t\t<div id=\"vid_container\">\n\t\t\t\t\t<div id=\"vid\">\n\n              <div id=\"stage\">\n              <div id=\"vx\">\n                <video id=\"vid1\" src={localStorage.getItem('vid')} />\n                \n              </div>\n              <Canvastry props={props} />\n              <rect id=\"custom-seekbar1\">\n                <span id=\"custom-seekbar11\" />\n              </rect>\n\n              </div>\n\t\t\t\t\t\t\n            \n\n\n\n          </div>\n        </div>\n\n\n\n\n\n    \n<div id=\"extra-control\">\n<div className=\"icon-bar\">\n  <a id=\"vol\" onClick={muted}>\n    <VolumeUpIcon id=\"vUp\" style={{ display: 'inline-block' }}/>\n    <VolumeOffIcon id=\"vOff\" style={{  display: 'none' }}/>\n  </a> \n\n  <a id = \"playy\" onClick={clickbutton}>\n    <PlayCircleFilledIcon id=\"play\" style={{  display: 'inline-block' }}/>\n    <PauseCircleFilledIcon id=\"pause\" style={{  display: 'none' }}/>\n  </a> \n\n\n  <div id=\"time\">\n    <div id=\"vC\"/>\n    <span />\n  </div>\n\n  <div className=\"pbar\" style={{ width:'100%' }}>\n    <div className=\"slidercontainer\">\n    <input type=\"range\" min=\"0.0\" step=\"any\" max={localStorage.getItem(\"duration\")} value=\"0.0\" className=\"slide\" id=\"rangeset\" />\n    </div>\n  </div>\n\n</div>\n</div>\n\n\n\n\n\n\n\n\n\n</div>\n\n\n</div>\n</div>\n\t)\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  filename: state.filename,\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nVid.displayName = \"Vid\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Vid));","\nimport React , { useState,useEffect } from 'react';\n\n/* global $ */\n/* global moment */\n\nimport './xoxo.css';\n// import './playButton.css';\nimport './bttn2.scss';\nimport './zoomslider.css';\nimport {processor} from './processor.js';\n// import vid from './outputx.mp4';\nimport Tabs from './tabs';\nimport Vidstyle from './vidstyle';\nimport Style from './style';\nimport Vid from './vid';\n\nimport {connect} from 'react-redux';\n\n// import Nav from './navbar';\n// import Tab1 from './tab1';\n\n// import Downopt from './downopt';\nimport axios from 'axios';\n// import useScript from './usescript.js';\n\n// import './timer.js';\n\nconst changeTime= function(setStat, stat, val1, val2) {\n    // // console.log('in chng tim', this.state)\n    // this.setState({...this.state, strt: val1, en: val2 })\n    setStat({...stat, strt: val1, en: val2})\n    // // console.log('in chng tim', this.state)\n  }\n\nconst changeHead = function(setStat, stat, val) {\n    // // console.log('in chng head', this.state)\n    setStat({...stat, head: val })\n    // // console.log('in chng head', this.state)\n  }\n\n  \nconst changeCaptions = function(setStat, stat, val1) {\n    console.log('change video caption')\n    setStat({...stat, txt: val1}); //val1 is old\n}\n\nconst changeSub = function(setStat, stat, val1) {\n    // // console.log('in chng sub in tab1', this.state, val1, val2)\n    // const x = this.state; \n\n    setStat({...stat, sub: val1});\n    // // console.log('in chng sub', this.state.txt, this.state.sub, this.state)\n}\n\nconst changeBothTime = function(setStat, stat, val1, val2, val3) {\n    // console.log('in chng both', this.state, val1, val2, val3)\n    setStat({...stat, sub: val1, strt: val2, en: val3}); \n    // // console.log('in chng both', this.state)  \n}\n\nconst changeKey = function(setStat, stat, val) {\n    // // console.log('in chng key', this.state.key);\n    setStat({...stat, key: val}); \n    // // console.log('in chng key', this.state.key);\n}\n\n\nfunction Videotrim(props){\n\n  // Webhook Way\n\n   if(window.location.search.split('=')[0] == \"?payment_id\") {\n\n    console.log('IN PAYMENT ID !!!')\n\n    localStorage.setItem('subscribe', '1') \n\n// call convertToImage in canvastry.js to render video\n    document.getElementById(\"downloadx\").click() \n\n  } \n\n\nuseEffect(() => {\n\n// set subscribe\n\nif(localStorage.getItem('email')) {\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe', response.data.Item)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n          // props.render_x('subscribe', response.data.Item.sub.S)\n  \n\n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          localStorage.setItem('subscribe', '0');         \n          // props.render_x('subscribe', '0');\n        })\n\n} //close IF\n\n// set render\n\nvar uid = localStorage.getItem(\"uid\")\n\nif(uid) {\n//  add file to user row in table\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\nconsole.log('geturl', geturl)\naxios.get(geturl).then(res => {\n  var render\n\n  render = res.data.Item.render.S\n  localStorage.setItem('render', render)\n\n  console.log('RENDER', render)\n  }).catch(e => console.log(e, 'RENDER ERROR'))\n\n} // close uid\n\n\n},[]) \n\n//  this.props.location.state.detail\n\n// useEffect(() => {\n    console.log(props)\n\n    document.title = 'TurtleClip | Edit';\n    // const meta = props.location.state.vid.meta;\n\n    const [stat, setStat ] =  useState( \n    {\n      // duration: \"33.9\",\n      // duration:   props.location.state.vid.duration,\n      // width: props.location.state.vid.width,\n      // height: props.location.state.vid.height,\n      // duration:   props.location.state.vid.duration,\n      // ar: \"4:3\",\n      // ar: props.location.state.vid.ar,\n      // v : props.location.state.vid.v,\n      // filename : props.location.state.vid.file,\n      // yes: props.location.state.vid.yes,\n      // vid: props.location.state.vid.vid,\n      // vid: '/videos/' + props.location.state.vid.file,\n      // vid: props.location.state.vid.vid,\n      // vid: localStorage.getItem('vid'),\n// these 4 things change\n      // strt: strt,\n      // en: en,\n      // sub: sub,\n      // head: props.location.state.vid.head,\n      // head: \"Add Heading!!\",\n      // head: \"Your Tweets\",\n\n      // links: props.location.state.vid.links,\n      // stime: strt,\n      // etime: en,\n      // subtext: sub,\n      // meta: meta,\n      // tem: props.location.state.vid.tem,\n      id: \"outputx.mp4\",\n      // color: props.location.state.vid.color,\n      color: '#e63946',\n   \n    });\n\n    console.log('stat', stat)\n\n// },[localStorage.getItem('meta'), props.location.state.vid.vid])\n      // console.log('vid after setSTat',props.s.vid)\n\nuseEffect(() => {\n\nsetStat({...stat, \n      // duration: \"33.9\",\n      // duration:   props.location.state.vid.duration,\n      // width: props.location.state.vid.width,\n      // height: props.location.state.vid.height,\n      // ar: \"4:3\",\n      // ar: props.location.state.vid.ar,\n      // v : props.location.state.vid.v,\n      \n      // vid: props.location.state.vid.vid,\n      // vid: '/videos/' + props.location.state.vid.file,\n      // vid: props.location.state.vid.vid,\n\n// these 4 things change\n      // strt: strt,\n      // en: en,\n      // sub: sub,\n      // head: props.location.state.vid.head,\n      // head: \"Add Heading!!\",\n      // head: \"Your Tweets\",\n\n      // links: props.location.state.vid.links,\n      // stime: strt,\n      // etime: en,\n      // subtext: sub,\n      // meta: meta,\n      // tem: props.location.state.vid.tem,\n      id: \"outputx.mp4\",\n      // color: props.location.state.vid.color,\n      color: '#e63946',\n   \n    \n })\n\n},[])\n\n    // console.log('stat2', stat)\n\n    // this.changeTime = this.changeTime.bind(this);\n    // this.changeHead = this.changeHead.bind(this);\n    // this.changeCaptions = this.changeCaptions.bind(this);\n    // this.changeSub = this.changeSub.bind(this);\n    // this.changeBothTime = this.changeBothTime.bind(this);\n    // this.changeKey = this.changeKey.bind(this);\n      // }\n\n\n    // <Tab1 state={stat} changeTime={changeTime} changeHead = {changeHead} changeSub={changeSub} changeBothTime={changeBothTime} changeKey={changeKey} changeCaptions={changeCaptions} />\n    // <Tab1 />\n    // <Vidstyle state={stat} />\n\n\n// componentDidMount() {} \n  \n  // render () {\n    // console.log('common file sending state to vid/tab', this.state.sub);\n\n    // <Downopt props={props} />\n  return (\n\n<div id=\"colx\">\n<div id=\"row\">\n    <Vid x={props} state={stat} changeCaptions={changeCaptions} changeKey={changeKey} />\n    \n    <Style state={stat} props={props}/>\n    \n</div>  \n</div>   \n\n      \n    );\n  }\n\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nVideotrim.displayName = \"Videotrim\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Videotrim));\n","\nimport './navbarhome.css';\n\nimport React, { useState,useEffect } from 'react';\n\n\n\nfunction Navdownload(props) {\n\n    const price_path = window.location.origin + '/pricing'\n\n\treturn (\n\t\t<div>\n\n\n\t\t<nav className=\"navbar navbar-inverse navbar-fixed-top home-fixed-top\" role=\"navigation\">\n    <div className=\"container\">\n\n        <div className=\"navbar-header\">\n            <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\"\n                    data-target=\"#bs-example-navbar-collapse-1\">\n\n                <span className=\"sr-only\">Toggle navigation</span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n\n            </button>\n            <a className=\"navbar-brand\" href={window.location.origin}>\n                <button className=\"CB\">TurtleClip</button> \n            </a>\n        </div>\n\n        <div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul className=\"nav navbar-nav navbar-right home-list\">\n                <li><a href={price_path}>PRICING</a></li>\n            </ul>\n        </div>\n    </div>\n</nav>\n\n\n\t\t</div>\n\n\t\t)\n}\n\n\nNavdownload.displayName = \"Navdownload\";\nexport default React.memo(Navdownload);\n","// the setting bar towards left to change styling\n\n\nimport React from 'react';\n// import Color from './colors';\n\nimport './downopt.css';\n// import Save from './saveState';\n// import Save from './downloadvid';\n\n\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nimport {login_down, only_login} from './firebase_login';\nimport {checkout, stripe_checkout_download} from './striperedirect';\n\n\n\n// to render watermark free video\n// import {rendervid} from './rendervid';\n\n\nimport Navdownload from './navdownload';\n\nimport axios from 'axios'; \nimport {connect} from 'react-redux';\n\n\n// add 'download' link as well + watermark and no watermark flow\n// send video generate link with watermark yes or no option\n// how to check if payment was successful ? \n// change payment success page to video output page! create another button for this\n\n//  dont clear localstorage while login when on vidx page - subtitles havent been saved yet.\n//  rather send localstorage to awsdynamoDB\n\n\nclass Renderdown extends React.Component {\n\nconstructor(props) {\n    super(props);\n\n      // debugger\n      // var g = {}\n      // g['subtitle'] = localStorage.getItem('x_subtitle')\n      // g['heads'] = localStorage.getItem('x_heads')\n      // g['sx'] = localStorage.getItem('x_sx')\n\n    this.state =   {\n\n      xout: props.xout,\n      filename: props.filename,\n      dvid: props.dvid,\n      // urlsrt: props.urlsrt,\n\n      // x: JSON.parse(props.ti),\n      \n      // vidsr_: props.vidsr_,\n      // t: localStorage.getItem('t'),\n      pre_sub: props.pre_sub,\n\n\n      // duration: \"33.9\",\n}\n\nconsole.log('RENDERRRRDOWNNN', props)\n\nthis.downloadvideo = this.downloadvideo.bind(this);\nthis.removewatermark = this.removewatermark.bind(this);\nthis.downloadsrt = this.downloadsrt.bind(this)\n\n}\n\n\ndownloadsrt(e, props) {\n\n}\n\nremovewatermark(e, props) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n  // show payment gateway, customer is already logged in + rendervid\n  if (!localStorage.getItem('uid')) {\n\n// login + payment\n    login_down(e,props)\n\n  }\n  \n  // if login + not subscribed,  stripe_checkout\n  var sds = localStorage.getItem('subscribe') == \"0\" || !localStorage.getItem('subscribe')\n  if (localStorage.getItem('uid') && sds) {\n    // nav = <Navwork props={props} />\n    // log = <a href={work} className=\"login_price\">Try Now</a>;\n    // sub = <form id='raz' />\n\n// only payment\n    // document.getElementsByClassName('PaymentButton')[0].click()\n\n    document.getElementById(\"circleDown\").style.display = \"block\"\n\n    stripe_checkout_download(localStorage.getItem('uid'), localStorage.getItem('email'))\n\n    // document.getElementById(\"circleDown\").style.display = \"none\"\n\n    // document.getElementsByName('email')[0].value = 'email'\n\n    \n  } \n\n// download the new video - without any watermark -- not here -- this should occur after payment success only!!!\n// hence removing, it should be clicked on render.js componentDidMount\n  // document.getElementById(\"save\").click()\n\n}\n\n\n\ndownloadvideo(e,props) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n\n  var xout = localStorage.getItem('xout')\n\n  var url = 'https://d2wxuz9jomxjzh.cloudfront.net/' + xout + '?cachebuster=' + Date.now();\n//   // console.log('URL', url);\n\n\nvar render \n\n// update render_count\nvar uid = localStorage.getItem(\"uid\")\n\n//  add file to user row in table\n\nvar geturl = 'https://6exomeey7e.execute-api.us-west-2.amazonaws.com/default/read_CRUD_table?uid=' + uid;\nconsole.log('geturl', geturl)\n\naxios.get(geturl).then(res => {\n  \n  render = parseInt(res.data.Item.render.S) + 1\n  \n var render_count = 'https://sz2oarqpyd.execute-api.us-west-2.amazonaws.com/default/add_render?uid=' + localStorage.getItem('uid') + '&render=' + render.toString(); \n axios.get(render_count).then(res => {\n  console.log('render count updated', render)\n  localStorage.setItem('render', render.toString())\n\n      // a.setAttribute('download', res.data)\n      var a = document.createElement('a');\n      // a.target = '_blank';\n      a.href = url ;\n      // a.style.display = 'none';\n      // document.getElementById('subdiv').appendChild(a); // Required for Firefox\n      a.click(); \n}).catch(e => console.log(e)) \n  \n}).catch(err => { \n  render = 1; \n\n var render_count = 'https://sz2oarqpyd.execute-api.us-west-2.amazonaws.com/default/add_render?uid=' + localStorage.getItem('uid') + '&render=' + render.toString(); \n axios.get(render_count).then(res => {\n  console.log('render count updated', render)\n    localStorage.setItem('render', render.toString())\n      // a.setAttribute('download', res.data)\n      var a = document.createElement('a');\n      // a.target = '_blank';\n      a.href = url ;\n      // a.style.display = 'none';\n      // document.getElementById('subdiv').appendChild(a); // Required for Firefox\n      a.click(); \n}).catch(e => console.log(e)) \n  console.log(err)\n})\n\n\n\n\n\n\n\n}\n\n\n\n\ncomponentDidMount() {\n\n  document.title = 'TurtleClip | Download Video';\n\n  // document.getElementById('downsrt').style.display = 'none'\n// set the bkgrnd color as default\n \n  // const [target, setTarget] = useState(0); \n  // const [d, setD] = useState(\"s\"); \n  // const [s, setS] = useState(\"false\")\n\n// /donwload/345234 url\n  // localStorage.setItem('donwload_url', window.location.pathname)\n\n\t// useEffect(() => {\n\n    var email = localStorage.getItem(\"email\")\n\n    // alert(email)\n\n    // set value of subscribe in localstorage\n    if (localStorage.getItem('uid')) {\n        var suburl = 'https://mxfrnd93z6.execute-api.us-west-2.amazonaws.com/default/read_subscribe_table?email=' + localStorage.getItem('email')\n\n        axios.get(suburl).then(response => {\n\n          console.log('subscribe in Renderdown', response.data.Item)\n          localStorage.setItem('subscribe', response.data.Item.sub.S)\n      \n        // if the item doesnt exist in subscribe table\n        }).catch(e => {\n          localStorage.setItem('subscribe', '0')\n        })\n\n        console.log('subscribe in Renderdown', localStorage.getItem('subscribe'))\n    }\n\n   // THIS IS NOT ROBUST !!\n\n   // if user cancels, before she reloads, subscribe status would have been updated. Webhook + payment_id + timeout check after 1 sec on page load as well? \n\n\n\n    console.log('IN ELSE !!!')\n\n// with watermark (or without) but before payment --- if page is reloaded, then? \n    // document.getElementById(\"downvid\").src = this.state.dvid\n\n\n  var xout = localStorage.getItem('xout')\n\n  var url = 'https://d2wxuz9jomxjzh.cloudfront.net/' + xout + '?cachebuster=' + Date.now();\n//   // console.log('URL', url);\n\n  document.getElementById(\"downvid\").src = url\n\n\n\t// },)\n\n\n\n} // close componentDidMount\n\n\n\n  // if(localStorage.getItem('subscribe') == \"1\") {\n  //   // sub = <a href={work} className=\"login_price\">My Videos</a>\n  // }\n\n\nrender () {\n\nreturn (\n  <div>\n\n\n  <Navdownload />\n\n\n\n\n  <div id=\"downopt\">\n\n    <video id=\"downvid\" controls />\n    \n    <div id=\"downoptbutton\">\n\n\n        <button id='downsign' onClick={(e) => this.downloadvideo(e, this.state)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\"> download video <GetAppIcon /> </button>\n\n        <button id='downsrt' onClick={(e) => this.downloadsrt(e, this.state)} type=\"button\" className=\"btn btn-default\" data-toggle=\"tab\" autoFocus> download srt </button>\n\n\n\n    </div>\n  </div>\n\n  </div>\n)\n}\n}\n\n\n\nconst mapStateToProps = (state) => ({\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n  \n  filename: state.filename,\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n})\n\nconst mapDispatchToProps = dispatch => {\n  return {\n\n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    setS : (value) => dispatch({ type: 'SET_S', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nRenderdown.displayName = \"Renderdown\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Renderdown));\n","\nimport './navbarhome.css';\n\nimport React, { useState,useEffect } from 'react';\n\nimport {login, getProfilePicUrl, getUserName, isUserSignedIn} from './firebase_login';\n\nimport {connect} from 'react-redux';\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\n\nfunction Navblog(props) {\n\n    useEffect(() => {\n      flask_multipart(props, document.getElementById('file-caption2'))\n\n      console.log('props in add_captions_to_insta_video', props)\n  },)\n\treturn (\n\t\t<div>\n\n\n\t\t<nav className=\"navbar navbar-inverse navbar-fixed-top home-fixed-top\" role=\"navigation\">\n    <div className=\"container\">\n\n        <div className=\"navbar-header\">\n            <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\"\n                    data-target=\"#bs-example-navbar-collapse-1\">\n\n                <span className=\"sr-only\">Toggle navigation</span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n                <span className=\"icon-bar\"></span>\n\n            </button>\n            <a className=\"navbar-brand\" href={window.location.origin}>\n                <button className=\"CB\">TurtleClip</button> \n            </a>\n\n            <div id=\"google_translate_element\"></div>\n        </div>\n\n        <div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul className=\"nav navbar-nav navbar-right home-list\">\n                <li>\n\n\n\n     <div className=\"up-try\" style={{'width': 'auto', 'padding':'1em'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption2\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            upload video free <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption2\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n\n                </li>\n\n \n            </ul>\n\n        </div>\n    </div>\n</nav>\n\n\n\t\t</div>\n\n\t\t)\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log('!!!mapStateToProps', state)\n  return {\n  boxes2: state.boxes2,\n  canvasValid: state.canvasValid,\n  selectText: state.selectText,\n\n  xout: state.xout,\n  width: state.width,\n  height: state.height,\n  pc: state.pc,\n  back_bar: state.back_bar, \n  front_bar: state.front_bar,\n  bar_height: state.bar_height,\n  duration: state.duration,\n  dvid: state.dvid,\n  pre_sub: state.pre_sub,\n  ti: state.ti,\n\n  render: state.render,\n  subscribe: state.subscribe,\n  uid: state.uid,\n  email: state.email,\n  pic: state.pic,\n  filename: state.filename,\n  \n}}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    \n    increment: (box) => dispatch({ type: 'UPDATE_BOXES', payload: box}),\n    update_x : (index, x, fill) => dispatch({ type: 'UPDATE_X', payload: {'index':index,'value':fill, 'x':x} }),\n    edit_boxes : (index, value) => dispatch({ type: 'EDIT_BOXES', payload: {'index':index,'value':value} }),\n    pop_boxes : (index) => dispatch({ type: 'POP_BOXES', payload: {'index':index} }),\n    invalidate : (value) => dispatch({ type: 'INVALIDATE', payload: value}),\n    selectedText : (value) => dispatch({ type: 'SELECTED_TEXT_BOX', payload: value}),\n    render_x : (x, value) => dispatch({ type: 'RENDER_X', payload: {'x':x, 'value': value}}),\n    decrement: () => dispatch({ type: 'DECREMENT' }),\n    reset: () => dispatch({ type: 'RESET' })\n  }\n}\n\n\nNavblog.displayName = \"Navblog\";\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Navblog));\n","// 1\n\nimport React , { useState,useEffect } from 'react';\n\nimport './add_captions_to_insta_video.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\nimport teext from './want_sub.png';\nimport lang from './lang.png';\nimport styyle from './style.png';\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\n\nfunction Addcaptions(props){\n\n  document.title = 'Free | Add captions to instagram videos - online - 2021 (no watermark)';\n  document.description = 'Add Subtitles, Text To Video For Free';\n\n    useEffect(() => {\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\n  \t\tconsole.log('props in add_captions_to_insta_video', props)\n\t},)\n\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div id=\"instaV\">\n\t<h1 id=\"headi\">\n\tAdd captions to instagram videos in minutes - free (with no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add caption to your video automatically <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\">\n\n\t85% of viewers watch videos without turning the sound on. Videos without captions lead to higher drop rates leading to lower user engagement. Adding captions makes it easy for users to consume the video content increasing the video completion rates.  \n\n\tYou can resize your videos to different aspect ratios, suitable for different media platforms.\n\n\t</div>\n\n\t<div id='pics'>\n\t\t<img className='i3' src = {teext} />\n\t\t<div id='stile'>\n\t\t<img id='i2' src = {styyle} />\n\t\t<img id='i1' src = {lang} />\n\t\t</div>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Automatically add caption to your video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\t<div className='line'>\n\t<div className='num'>1</div><div>Upload your video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\n\t<div className='line'>\n\t<div className='num'>2</div>\n\t<div>Select the language of the audio. </div>\n\t<br/>\n\t<div> Captions will be auto-generated in minutes </div>\n\t</div>    \n\n\t<div className='line'>\n\t<div className='num'>3</div><div>Correct captions for errors in the text editor.</div>\n\t</div>\n\n\n\t<div className='line'>\n\t<div className='num'>4</div><div>Style and position the captions.</div>\n\t</div>\n\n\n\t<div className='line'>\n\t<div className='num'>5</div><div>Export the video. And Done!</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\tYou get a watermark free captioned video in minutes.\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nAddcaptions.displayName = \"Addcaptions\";\nexport default React.memo(Addcaptions);\n","// 2\n\nimport React , { useState,useEffect } from 'react';\n\nimport './add_text_to_insta_video.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\nimport pop from './full.jpeg';\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\n\nfunction Addtext2(props){\n\n  document.title = 'Free | Add text to instagram videos in minutes - 2021 (no watermark)';\n  document.description = 'Add Subtitles, Text To Video For Free online';\n\n    useEffect(() => {\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\n  \t\tconsole.log('props in add_text_to_insta_video', props)\n\t},)\n\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tHow to add text to instagram videos online - free (with no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add text <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\">\n\nYou can add text in minutes using turtleclip. No software download required. Just upload your video, and add text. \nTo make your text look catchy you can change its color, style, position as well. \n\t</div>\n\n\t<div id='pxcs'>\n\t\t<img className='pxcs' src = {pop} />\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add text <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\t<div className='subline'>Click 'upload' and select the video you want to upload.</div>\n\t</div>\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Subtitles will be auto-generated in minutes. </div>\n\t</div>\n\t<div className='subline'>(That is, if video had speech)</div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div>Add Text </div>\n\t</div>\n\t<div className='subline'> Click 'Add text' on the right panel. Write your text in the box. </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>4</div>\n\t\t<div> Style Text </div>\n\t</div> \n\t<div className='subline'>Change color, style, position, size of the text.</div>\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>5</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\tNow you have added text to your video! Easy, right?\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nAddtext2.displayName = \"Addtext2\";\nexport default React.memo(Addtext2);\n","// 3\n\nimport React , { useState,useEffect } from 'react';\n\nimport './add_text_to_insta_video.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\n\nfunction Addtitle3(props){\n\n  document.title = 'Free | Add title to instagram videos in minutes - 2021 (no watermark)';\n  document.description = 'Add Subtitles, Text To Video For Free online';\n\n    useEffect(() => {\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\n  \t\tconsole.log('props in add_text_to_insta_video', props)\n\t},)\n\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tHow to add title to instagram videos online - free (with no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add title <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\">Turtleclip allows you to add eye-catching title in minutes. Just upload the video and add title on video. Customize it with fonts and colors according to branding. It is completely online with no software downloads, first video is free with NO WATERMARK. \n\t</div>\n\n\t<div id='pxcs3'>\n\t\t<img className='pxcs3' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/man_title.png'  alt=\"triangle with all three sides equal\"\n    height=\"47\"\n    width=\"50\"/>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add title <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\t<div className='subline'>Select the video you want to upload.</div>\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Add Title </div>\n\t</div>\n\t<div className='subline'> Add title with one-click on the right panel. Write title in the box. </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div> Style Title </div>\n\t</div> \n\t<div className='subline'>Customize colors, font, position, size of the text accrding to your brand.</div>\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>4</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\tNow you have added title to your video. Online, with no software download! A progress bar is also added to the video, so that user is continuously updated about the time left for video to finish. \n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nAddtitle3.displayName = \"Addtitle3\";\nexport default React.memo(Addtitle3);\n","// 4\n\nimport React , { useState,useEffect } from 'react';\n\nimport './add_heading_to_insta_video.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\n\nfunction Addhead4(props){\n\n  document.title = 'Free | Add heading to instagram videos in minutes - 2021 (no watermark)';\n  document.description = 'Add Subtitles, Text To Video For Free online';\n\n    useEffect(() => {\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\t},)\n\n\t// <div className='subline'>Select the video you want to upload.</div>\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tHow to add heading to instagram videos online - free (with no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add heading <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\"> Add heading with TurtleClip in minutes. No software download, no watermark. Just upload a video and add text. \n\t\tTurtleClip adds auto-generated subtitles and progress bar to the videos as well. You can style and edit text according to your branding without hassle.   \n\t</div>\n\n\t<div id='pxcs4'>\n\t\t<img className='pxcs4' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/add_head.png'  alt=\"Add heading to video\"\n    height=\"47\"\n    width=\"50\"/>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            Add heading <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Add Heading </div>\n\t</div>\n\t<div className='subline'> Click 'Add Text' in right-side panel. Add heading in the text-box. </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div> Style Heading </div>\n\t</div> \n\t<div className='subline'>Change color, font, position of the heading. </div>\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>4</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\tYou get a custom heading for your video, with colors and font according to your brand, in minutes! With TurtleClip, you also get auto-generated subtitles. Try it Now! It's free.\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nAddhead4.displayName = \"Addhead4\";\nexport default React.memo(Addhead4);\n","// 5\n\nimport React , { useState,useEffect } from 'react';\n\nimport './convert_16x9_to_square.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nfunction Blog5(props){\n\n  document.title = 'Free | Convert 16x9 video to sqaure video in minutes - online & free - 2021 (no watermark)';\n  document.description = 'Resize video, add subtitles & text to video for free online';\n\n    useEffect(() => {\n\n    \tdocument.getElementsByClassName('pxcs51')[0].height = document.getElementsByClassName('pxcs50')[0].offsetHeight\n    \tdocument.getElementsByClassName('pxcs51')[0].width = document.getElementsByClassName('pxcs50')[0].offsetHeight\n\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\t},)\n\n\t// <div className='subline'>Select the video you want to upload.</div>\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tConvert 16x9 video to sqaure video in minutes - online & free - 2021 (no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\"> Filmed video in landscape mode? With turtleclip you can easily convert it into a square video. Just upload and resize. \n\tApart from resizing, turtleclip adds auto-generated subtitles to your video, a progress bar and text to the video. \n\t</div>\n\n\t<div id='pxcs5'>\n\t\t<img className='pxcs50' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/16x9-min.png'  alt=\"16x9 video\"\n    height=\"47\"\n    width=\"50\"/>\n\n    \t<ArrowForwardIcon />\n\n\t\t<img className='pxcs51' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/square-min.png'  alt=\"square video\"\n    height=\"47\"\n    width=\"50\"/>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Resize </div>\n\t</div>\n\t<div className='subline'> Click 'Video' in right-side panel. Choose the aspect ratio you want. And Done! </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\t Voila! And now you have a sqaure video. With TurtleClip, you also get auto-generated subtitles and progress bar to increase user engagement. Try it Now! It's free.\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nBlog5.displayName = \"Blog5\";\nexport default React.memo(Blog5);\n","// 6\n\nimport React , { useState,useEffect } from 'react';\n\nimport './convert_9x16_to_square.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nfunction Blog6(props){\n\n  document.title = 'Free | Convert 9x16 video to sqaure video in minutes - online & free - 2021 (no watermark)';\n  document.description = 'Resize video, add subtitles & text to video for free online';\n\n    useEffect(() => {\n\n    \tdocument.getElementsByClassName('pxcs61')[0].height = document.getElementsByClassName('pxcs60')[0].offsetWidth\n    \tdocument.getElementsByClassName('pxcs61')[0].width = document.getElementsByClassName('pxcs60')[0].offsetWidth\n\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\t},)\n\n\t// <div className='subline'>Select the video you want to upload.</div>\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tConvert 9x16 video to sqaure video in minutes - online & free - 2021 (no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\"> Want your video to occupy more area, leading to increased enegament? With turtleclip you can easily convert it into a square video. Just upload and resize. \n\tApart from resizing, turtleclip adds auto-generated subtitles to your video, a progress bar and text to the video. \n\t</div>\n\n\t<div id='pxcs6'>\n\t\t<img className='pxcs60' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/9x16-min.png'  alt=\"9x16 video\"\n    height=\"47\"\n    width=\"50\"/>\n\n    \t<ArrowForwardIcon />\n    \t\n\t\t<img className='pxcs61' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/square-min.png'  alt=\"square video\"\n    height=\"47\"\n    width=\"50\"/>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Resize </div>\n\t</div>\n\t<div className='subline'> Click 'Video' in right-side panel. Choose the aspect ratio you want. And Done! </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\t Voila! And now you have a sqaure video. With TurtleClip, you also get auto-generated subtitles and progress bar to increase user engagement. Try it Now! It's free.\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nBlog6.displayName = \"Blog6\";\nexport default React.memo(Blog6);\n","// 7\n\nimport React , { useState,useEffect } from 'react';\n\nimport './convert_9x16_to_square.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nfunction Blog7(props){\n\n  document.title = 'Free | Convert snapchat video to sqaure video in minutes - online & free - 2021 (no watermark)';\n  document.description = 'Resize video, add subtitles & text to video for free online';\n\n    useEffect(() => {\n\n    \tdocument.getElementsByClassName('pxcs61')[0].height = document.getElementsByClassName('pxcs60')[0].offsetWidth\n    \tdocument.getElementsByClassName('pxcs61')[0].width = document.getElementsByClassName('pxcs60')[0].offsetWidth\n\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\t},)\n\n\t// <div className='subline'>Select the video you want to upload.</div>\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tConvert snapchat video to sqaure video in minutes - online & free - 2021 (no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\"> Want your video to occupy more area, leading to increased enegament? With turtleclip you can easily convert it into a square video. Just upload and resize. \n\tApart from resizing, turtleclip adds auto-generated subtitles to your video, a progress bar and text to the video. \n\t</div>\n\n\t<div id='pxcs6'>\n\t\t<img className='pxcs60' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/snap_9x16-min.png'  alt=\"snapchat 9x16 video\"\n    height=\"47\"\n    width=\"50\"/>\n\n    \t<ArrowForwardIcon />\n\n\t\t<img className='pxcs61' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/snap_sqaure-min.png'  alt=\"snapchat square video\"\n    height=\"47\"\n    width=\"50\"/>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Resize </div>\n\t</div>\n\t<div className='subline'> Click 'Video' in right-side panel. Choose the aspect ratio you want. And Done! </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\t Voila! And now you have a sqaure video. With TurtleClip, you also get auto-generated subtitles and progress bar to increase user engagement. Try it Now! It's free.\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nBlog7.displayName = \"Blog7\";\nexport default React.memo(Blog7);\n","// 8\n\nimport React , { useState,useEffect } from 'react';\n\nimport './convert_16x9_to_square.css'\n/* global $ */\n/* global moment */\nimport Navblog from './navblog';\n\n\nimport {flask_multipart} from './flask-s3-multipart';\nimport './flask_multipart.css';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nfunction Blog8(props){\n\n  document.title = 'Free | Convert youtube video to sqaure video in minutes - online & free - 2021 (no watermark)';\n  document.description = 'Resize video, add subtitles & text to video for free online';\n\n    useEffect(() => {\n\n    \tdocument.getElementsByClassName('pxcs51')[0].height = document.getElementsByClassName('pxcs50')[0].offsetHeight\n    \tdocument.getElementsByClassName('pxcs51')[0].width = document.getElementsByClassName('pxcs50')[0].offsetHeight\n\n  \t\tflask_multipart(props, document.getElementById('file-caption1'))\n  \t\tflask_multipart(props, document.getElementById('file-caption'))\n\t},)\n\n\t// <div className='subline'>Select the video you want to upload.</div>\n  return (\n  <div>\n  <Navblog props={props} />\n\n\n\n<div className=\"instaV\">\n\t<h1 id=\"headi\">\n\tConvert youtube video to sqaure video in minutes - online & free - 2021 (no watermark)\n\t</h1>\n\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption1\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption1\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"intro\"> Filmed video in landscape mode? With turtleclip you can easily convert it into a square video. Just upload and resize. \n\tApart from resizing, turtleclip adds auto-generated subtitles to your video, a progress bar and text to the video. \n\t</div>\n\n\t<div id='pxcs5'>\n\t\t<img className='pxcs50' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/yt_16x9-min.png'  alt=\"youtube 19x6 video\"\n    height=\"47\"\n    width=\"50\"/>\n\n    \t<ArrowForwardIcon />\n\n\t\t<img className='pxcs51' src = 'https://turtleclip-blog.s3-us-west-2.amazonaws.com/yt_sqaure-min.png'  alt=\"youtube square video\"\n    height=\"47\"\n    width=\"50\"/>\n\n\t</div>\n\n    <div className=\"up-try\" style={{'width': 'auto'}}>\n      <div className=\"file-chooser\">\n        <label for=\"file-caption\" style={{'font-size': '1.8rem', 'border-radius': '10rem'}} className=\"custom-file-upload\">\n            resize video <ArrowRightAltIcon />\n        </label>\n        <input id=\"file-caption\" style={{'display': 'none'}} type=\"file\" accept=\"video/mp4,video/mov,video/m4v\" />\n      </div>\n\n      <div className=\"file-progress-container\"></div>\n      <script src=\"md5.js\"></script>\n      <script src=\"flask-s3-multipart.js\"></script>\n    </div>\n \n\n\t<div id=\"rowq\">\n\n\t<div className='xline'>\n\t<div className='line1'> \n\t\t<div className='num'>1</div>\n\t\t<div>Upload video to <a href='turtleclip.com'> turtleclip</a>. </div>\n\t</div>\n\n\t</div>\n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>2</div>\n\t\t<div>Resize </div>\n\t</div>\n\t<div className='subline'> Click 'Video' in right-side panel. Choose the aspect ratio you want. And Done! </div>\n\t</div>    \n\n\n\t<div className='xline'>\n\t<div className='line1'>\n\t\t<div className='num'>3</div>\n\t\t<div>Export the video</div>\n\t</div>\n\t<div className='subline'>Click on Export. Video will be rendered in minutes. \n\tOnce done, download the video.</div>\n\t</div>\n\n\t<div id='end'>\t \n\t\t Voila! And now you have a sqaure video. With TurtleClip, you also get auto-generated subtitles and progress bar to increase user engagement. Try it Now! It's free.\n\t</div>\n\n\t\n\t</div> \n</div>  \n\n</div>\n      \n    );\n}\n\nBlog8.displayName = \"Blog8\";\nexport default React.memo(Blog8);\n","\nimport React from 'react';\nimport { BrowserRouter, Route} from \"react-router-dom\";\n\nimport Home from './home.js';\n// import Xoxo from './video.js';\n// import Videos from './videos.js';\nimport Workspace from './workspace.js';\n\nimport Pricing from './pricing.js';\nimport PricingH from './pricinghome';\n// import Trim from './trim';\nimport Videotrim from './trimvideos';\n// import Render from './render';\nimport Renderdown from './renderdown';\n\nimport Addcaptions from './add_captions_to_insta_video';\nimport Addtext2 from './add_text_to_insta_video';\nimport Addtitle3 from './add_title_to_insta_video';\nimport Addhead4 from './add_heading_to_insta_video';\n\nimport Blog5 from './convert_16x9_to_square';\nimport Blog6 from './convert_9x16_to_square';\n\nimport Blog7 from './convert_snapchat_video_to_square';\nimport Blog8 from './convert_youtube_video_to_square';\n\nimport './App.css';\n\nconst App = () => {\n\n      // <Route exact path='/video/:id' component={Xoxo} />\n      // <Route exact path='/trim/:id' component={Trim} />\n      // <Route exact path='/videos/' component={Videos} />\n      // <Route exact path='/render/' component={Render} />\n    \n  return (\n\n\n    <BrowserRouter>\n      <Route exact path='/' component={Home} />\n\n      <Route exact path='/vidx/:id' component={Videotrim} />\n\n      <Route exact path='/workspace/:id' component={Workspace} />\n      <Route exact path='/pricing/' component={PricingH} />\n      <Route exact path='/videos/pricing/' component={Pricing} />\n      \n      <Route exact path='/download/:id' component={Renderdown} />\n      \n      <Route exact path='/add-captions-to-insta-videos' component={Addcaptions} />\n      <Route exact path='/add-text-to-insta-videos' component={Addtext2} />\n      <Route exact path='/add-title-to-insta-videos' component={Addtitle3} />\n      <Route exact path='/add-heading-to-insta-videos' component={Addhead4} />\n\n      <Route exact path='/convert-16x9-to-square' component={Blog5} />\n      <Route exact path='/convert-9x16-to-square' component={Blog6} />\n\n      <Route exact path='/convert-snapchat-to-square' component={Blog7} />\n      <Route exact path='/convert-youtube-to-square' component={Blog8} />\n      \n    </BrowserRouter> \n      \n    );\n  \n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import update from 'immutability-helper'\n\nimport axios from 'axios';\n\nconst sendJsonToS3 = function() {\n      var fname = localStorage.getItem('filename').split('.')[0] + '.json'\n    var url = 'https://xplks8isk4.execute-api.us-west-2.amazonaws.com/default/json_to_s3?key=' + fname\n\n    console.log('sending json to s3', url)\n    axios.post(url, JSON.stringify(JSON.parse(JSON.stringify(localStorage))),{\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }).then((res) => {\n            console.log('POST JSON res', res)}).catch(err => {console.log('json post ERROR', err)})\n}\n\n\n\nconst initialState = {\n  // boxes2: [{ x: 0 }],\n  boxes2: [\n  ],\n  canvasValid: false,\n  selectText: 0,\n  loading: false,\n  hasErrors: false,\n  \n  // filename: '',\n  xout: '',\n  width: '',\n  height: '',\n  pc: '',\n  back_bar: '', \n  front_bar: '',\n  bar_height: '',\n  duration: '',\n\n  dvid: '',\n  pre_sub: '',\n  ti: '',\n\n  render: '0',\n  subscribe: '0',\n  uid: '',\n  email: '',\n  pic: '',\n  filename: '',\n\n}\n\nfunction boxReducer(state = initialState, action) {\n  switch (action.type) {\n\n// add a new box\n    case 'UPDATE_BOXES':{\n      console.log('REDUCERS', state, action.payload)\n      // const updated_box = state.boxes2.push(action.payload)\n      // console.log('updated_box', updated_box)\n      console.log('before return in reducers', {       \n        ...state,\n        boxes2: [...state.boxes2, action.payload],\n      })\n\n      var x = {       \n        ...state,\n        boxes2: [...state.boxes2, action.payload],\n      }\n\n      // sendJsonToS3();\n      return x\n    }\n\n// box[i] = box[i+1] for deleting a box\n    case 'EDIT_BOXES':{\n\n      return update(state, { \n    boxes2: { \n      [action.payload.index] : {$set: action.payload.value}\n    }\n  });\n\n    }\n\n// delete/pop last box \n    case 'POP_BOXES':{\n\n    var x = { ...state, boxes2: [ ...state.boxes2.slice(0, action.payload.index), ...state.boxes2.slice(action.payload.index + 1) ] }\n    \n    // sendJsonToS3();\n\n    return x\n    }\n\n    case 'UPDATE_X':{\n\n      var x = update(state, { \n    boxes2: { \n      [action.payload.index] : {\n        [action.payload.x]: {$set: action.payload.value}\n      }\n    }\n  });\n      console.log('update_X')\n      // sendJsonToS3();\n\n      return x\n    }\n\n    case 'RENDER_X':{\n\n      var x = update(state, { \n    [action.payload.x]: {$set: action.payload.value}\n    \n  });\n\n      console.log('before RENDER_X', action.payload.x, x )\n\n      return x;\n    }\n\n\n    case 'INVALIDATE':{\n\n    var x = { ...state, canvasValid : action.payload}\n\n    return x\n    }\n\n    case 'SELECTED_TEXT_BOX':{\n    return { ...state, selectText : action.payload}\n    }\n\n// set alpha for subtitles, so that transparent box still store alpha info\n\n    case 'UPDATE_FILL':{\n      const index = action.payload.index\n      const value = action.payload.value\n\n\n      console.log('in UPDATE_FILL', index)\n\n    //   console.log('in UPDATE_FILL state',{\n    //     ...state,\n    //     boxes2: state.boxes2.map(\n    //       (box, i) => i === index ? { ...box, fill: value } : box\n    //     ) \n    // })\n\n      return update(state, { \n    boxes2: { \n      [action.payload.index] : {\n        fill: {$set: value}\n      }\n    }\n  });\n\n    }\n\n\n    default:\n      return state\n  }\n\n\n\n}\n\nexport default boxReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nimport {createStore} from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './reducers';\n\nconst store = createStore(reducer)\n\n\nReactDOM.render(\n  <React.StrictMode>\n   <Provider store={store}>\n    <App />\n   </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}